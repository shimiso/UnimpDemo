"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var nn=Object.create;var at=Object.defineProperty;var on=Object.getOwnPropertyDescriptor;var sn=Object.getOwnPropertyNames;var an=Object.getPrototypeOf,rn=Object.prototype.hasOwnProperty;var cn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ln=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of sn(e))!rn.call(t,o)&&o!==n&&at(t,o,{get:()=>e[o],enumerable:!(i=on(e,o))||i.enumerable});return t};var ee=(t,e,n)=>(n=t!=null?nn(an(t)):{},ln(e||!t||!t.__esModule?at(n,"default",{value:t,enumerable:!0}):n,t));var T=(t,e,n)=>new Promise((i,o)=>{var s=l=>{try{c(n.next(l))}catch(r){o(r)}},a=l=>{try{c(n.throw(l))}catch(r){o(r)}},c=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,a);c((n=n.apply(t,e)).next())});var Z=cn((eo,ct)=>{ct.exports=Vue});var rt=t=>typeof t=="string",un=Object.prototype.toString,Le=t=>un.call(t),Ue=t=>Le(t).slice(8,-1);function dn(){return typeof __channelId__=="string"&&__channelId__}function hn(t,e){switch(Ue(e)){case"Function":return"function() { [native code] }";default:return e}}function fn(t,e,n){return dn()?(n.push(e.replace("at ","uni-app:///")),console[t].apply(console,n)):n.map(function(o){let s=Le(o).toLowerCase();if(["[object object]","[object array]","[object module]"].indexOf(s)!==-1)try{o="---BEGIN:JSON---"+JSON.stringify(o,hn)+"---END:JSON---"}catch(a){o=s}else if(o===null)o="---NULL---";else if(o===void 0)o="---UNDEFINED---";else{let a=Ue(o).toUpperCase();a==="NUMBER"||a==="BOOLEAN"?o="---BEGIN:"+a+"---"+o+"---END:"+a+"---":o=String(o)}return o}).join("---COMMA---")+" "+e}function oe(t,e,...n){let i=fn(t,e,n);i&&console[t](i)}var D=ee(Z());var M=(t,e)=>{let n=t.__vccOpts||t;for(let[i,o]of e)n[i]=o;return n};var mn={"uni-card":{"":{marginTop:10,marginRight:10,marginBottom:10,marginLeft:10,paddingTop:0,paddingRight:8,paddingBottom:0,paddingLeft:8,borderRadius:4,overflow:"hidden",fontFamily:"Helvetica Neue, Helvetica, PingFang SC, Hiragino Sans GB, Microsoft YaHei, SimSun, sans-serif",backgroundColor:"#ffffff",flex:1}},"uni-card__cover":{".uni-card ":{position:"relative",marginTop:10,flexDirection:"row",overflow:"hidden",borderRadius:4}},"uni-card__cover-image":{".uni-card .uni-card__cover ":{flex:1}},"uni-card__header":{".uni-card ":{display:"flex",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#EBEEF5",flexDirection:"row",alignItems:"center",paddingTop:10,paddingRight:10,paddingBottom:10,paddingLeft:10,overflow:"hidden"}},"uni-card__header-box":{".uni-card .uni-card__header ":{flex:1,flexDirection:"row",alignItems:"center",overflow:"hidden"}},"uni-card__header-avatar":{".uni-card .uni-card__header ":{width:40,height:40,overflow:"hidden",borderRadius:5,marginRight:10}},"uni-card__header-avatar-image":{".uni-card .uni-card__header .uni-card__header-avatar ":{flex:1,width:40,height:40}},"uni-card__header-content":{".uni-card .uni-card__header ":{flexDirection:"column",justifyContent:"center",flex:1,overflow:"hidden"}},"uni-card__header-content-title":{".uni-card .uni-card__header .uni-card__header-content ":{fontSize:15,color:"#3a3a3a"}},"uni-card__header-content-subtitle":{".uni-card .uni-card__header .uni-card__header-content ":{fontSize:12,marginTop:5,color:"#909399"}},"uni-card__header-extra":{".uni-card .uni-card__header ":{lineHeight:12}},"uni-card__header-extra-text":{".uni-card .uni-card__header .uni-card__header-extra ":{fontSize:12,color:"#909399"}},"uni-card__content":{".uni-card ":{paddingTop:10,paddingRight:10,paddingBottom:10,paddingLeft:10,fontSize:14,color:"#6a6a6a",lineHeight:22}},"uni-card__actions":{".uni-card ":{fontSize:12}},"uni-card--border":{"":{borderWidth:1,borderStyle:"solid",borderColor:"#EBEEF5"}},"uni-card--shadow":{"":{position:"relative"}},"uni-card--full":{"":{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,borderLeftWidth:0,borderRadius:0}},"uni-ellipsis":{"":{lines:1}}},pn={name:"UniCard",emits:["click"],props:{title:{type:String,default:""},subTitle:{type:String,default:""},padding:{type:String,default:"10px"},margin:{type:String,default:"15px"},spacing:{type:String,default:"0 10px"},extra:{type:String,default:""},cover:{type:String,default:""},thumbnail:{type:String,default:""},isFull:{type:Boolean,default:!1},isShadow:{type:Boolean,default:!0},shadow:{type:String,default:"0px 0px 3px 1px rgba(0, 0, 0, 0.08)"},border:{type:Boolean,default:!0}},methods:{onClick(t){this.$emit("click",t)}}};function gn(t,e,n,i,o,s){return(0,D.openBlock)(),(0,D.createElementBlock)("view",{class:(0,D.normalizeClass)(["uni-card",{"uni-card--full":n.isFull,"uni-card--shadow":n.isShadow,"uni-card--border":n.border}]),style:(0,D.normalizeStyle)({margin:n.isFull?0:n.margin,padding:n.spacing,"box-shadow":n.isShadow?n.shadow:""})},[(0,D.renderSlot)(t.$slots,"cover",{},()=>[n.cover?((0,D.openBlock)(),(0,D.createElementBlock)("view",{key:0,class:"uni-card__cover"},[(0,D.createElementVNode)("u-image",{class:"uni-card__cover-image",mode:"widthFix",onClick:e[0]||(e[0]=a=>s.onClick("cover")),src:n.cover},null,8,["src"])])):(0,D.createCommentVNode)("",!0)]),(0,D.renderSlot)(t.$slots,"title",{},()=>[n.title||n.extra?((0,D.openBlock)(),(0,D.createElementBlock)("view",{key:0,class:"uni-card__header"},[(0,D.createElementVNode)("view",{class:"uni-card__header-box",onClick:e[1]||(e[1]=a=>s.onClick("title"))},[n.thumbnail?((0,D.openBlock)(),(0,D.createElementBlock)("view",{key:0,class:"uni-card__header-avatar"},[(0,D.createElementVNode)("u-image",{class:"uni-card__header-avatar-image",src:n.thumbnail,mode:"aspectFit"},null,8,["src"])])):(0,D.createCommentVNode)("",!0),(0,D.createElementVNode)("view",{class:"uni-card__header-content"},[(0,D.createElementVNode)("u-text",{class:"uni-card__header-content-title uni-ellipsis"},(0,D.toDisplayString)(n.title),1),n.title&&n.subTitle?((0,D.openBlock)(),(0,D.createElementBlock)("u-text",{key:0,class:"uni-card__header-content-subtitle uni-ellipsis"},(0,D.toDisplayString)(n.subTitle),1)):(0,D.createCommentVNode)("",!0)])]),(0,D.createElementVNode)("view",{class:"uni-card__header-extra",onClick:e[2]||(e[2]=a=>s.onClick("extra"))},[(0,D.createElementVNode)("u-text",{class:"uni-card__header-extra-text"},(0,D.toDisplayString)(n.extra),1)])])):(0,D.createCommentVNode)("",!0)]),(0,D.createElementVNode)("view",{class:"uni-card__content",style:(0,D.normalizeStyle)({padding:n.padding}),onClick:e[3]||(e[3]=a=>s.onClick("content"))},[(0,D.renderSlot)(t.$slots,"default")],4),(0,D.createElementVNode)("view",{class:"uni-card__actions",onClick:e[4]||(e[4]=a=>s.onClick("actions"))},[(0,D.renderSlot)(t.$slots,"actions")])],6)}var lt=M(pn,[["render",gn],["styles",[mn]]]);var d=ee(Z());var oo=ee(Z());function Q(t,e){return rt(t)?e:t}var _n=Array.isArray,yn=t=>t!==null&&typeof t=="object",wn=["{","}"],Ne=class{constructor(){this._caches=Object.create(null)}interpolate(e,n,i=wn){if(!n)return[e];let o=this._caches[e];return o||(o=bn(e,i),this._caches[e]=o),An(o,n)}},vn=/^(?:\d)+/,kn=/^(?:\w)+/;function bn(t,[e,n]){let i=[],o=0,s="";for(;o<t.length;){let a=t[o++];if(a===e){s&&i.push({type:"text",value:s}),s="";let c="";for(a=t[o++];a!==void 0&&a!==n;)c+=a,a=t[o++];let l=a===n,r=vn.test(c)?"list":l&&kn.test(c)?"named":"unknown";i.push({value:c,type:r})}else s+=a}return s&&i.push({type:"text",value:s}),i}function An(t,e){let n=[],i=0,o=_n(e)?"list":yn(e)?"named":"unknown";if(o==="unknown")return n;for(;i<t.length;){let s=t[i];switch(s.type){case"text":n.push(s.value);break;case"list":n.push(e[parseInt(s.value,10)]);break;case"named":o==="named"&&n.push(e[s.value]);break}i++}return n}var Re="zh-Hans",ut="zh-Hant",te="en",En="fr",Sn="es",Cn=Object.prototype.hasOwnProperty,dt=(t,e)=>Cn.call(t,e),Fn=new Ne;function Dn(t,e){return!!e.find(n=>t.indexOf(n)!==-1)}function Tn(t,e){return e.find(n=>t.indexOf(n)===0)}function ht(t,e){if(!t)return;if(t=t.trim().replace(/_/g,"-"),e&&e[t])return t;if(t=t.toLowerCase(),t==="chinese")return Re;if(t.indexOf("zh")===0)return t.indexOf("-hans")>-1?Re:t.indexOf("-hant")>-1||Dn(t,["-tw","-hk","-mo","-cht"])?ut:Re;let n=Tn(t,[te,En,Sn]);if(n)return n}var Me=class{constructor({locale:e,fallbackLocale:n,messages:i,watcher:o,formater:s}){this.locale=te,this.fallbackLocale=te,this.message={},this.messages={},this.watchers=[],n&&(this.fallbackLocale=n),this.formater=s||Fn,this.messages=i||{},this.setLocale(e||te),o&&this.watchLocale(o)}setLocale(e){let n=this.locale;this.locale=ht(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],n!==this.locale&&this.watchers.forEach(i=>{i(this.locale,n)})}getLocale(){return this.locale}watchLocale(e){let n=this.watchers.push(e)-1;return()=>{this.watchers.splice(n,1)}}add(e,n,i=!0){let o=this.messages[e];o?i?Object.assign(o,n):Object.keys(n).forEach(s=>{dt(o,s)||(o[s]=n[s])}):this.messages[e]=n}f(e,n,i){return this.formater.interpolate(e,n,i).join("")}t(e,n,i){let o=this.message;return typeof n=="string"?(n=ht(n,this.messages),n&&(o=this.messages[n])):i=n,dt(o,e)?this.formater.interpolate(o[e],i).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}};function xn(t,e){t.$watchLocale?t.$watchLocale(n=>{e.setLocale(n)}):t.$watch(()=>t.$locale,n=>{e.setLocale(n)})}function In(){return typeof uni!="undefined"&&uni.getLocale?uni.getLocale():typeof global!="undefined"&&global.getLocale?global.getLocale():te}function Ee(t,e={},n,i){typeof t!="string"&&([t,e]=[e,t]),typeof t!="string"&&(t=In()),typeof n!="string"&&(n=typeof __uniConfig!="undefined"&&__uniConfig.fallbackLocale||te);let o=new Me({locale:t,fallbackLocale:n,messages:e,watcher:i}),s=(a,c)=>{if(typeof getApp!="function")s=function(l,r){return o.t(l,r)};else{let l=!1;s=function(r,y){let w=getApp().$vm;return w&&(w.$locale,l||(l=!0,xn(w,o))),o.t(r,y)}}return s(a,c)};return{i18n:o,f(a,c,l){return o.f(a,c,l)},t(a,c){return s(a,c)},add(a,c,l=!0){return o.add(a,c,l)},watch(a){return o.watchLocale(a)},getLocale(){return o.getLocale()},setLocale(a){return o.setLocale(a)}}}var L=ee(Z());var Pn={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},On={"uni-load-more.contentdown":"\u4E0A\u62C9\u663E\u793A\u66F4\u591A","uni-load-more.contentrefresh":"\u6B63\u5728\u52A0\u8F7D...","uni-load-more.contentnomore":"\u6CA1\u6709\u66F4\u591A\u6570\u636E\u4E86"},Bn={"uni-load-more.contentdown":"\u4E0A\u62C9\u986F\u793A\u66F4\u591A","uni-load-more.contentrefresh":"\u6B63\u5728\u52A0\u8F09...","uni-load-more.contentnomore":"\u6C92\u6709\u66F4\u591A\u6578\u64DA\u4E86"},Ln={en:Pn,"zh-Hans":On,"zh-Hant":Bn},Un={"uni-load-more":{"":{flexDirection:"row",height:40,alignItems:"center",justifyContent:"center"}},"uni-load-more__text":{"":{fontSize:14,marginLeft:8}},"uni-load-more__img":{"":{width:24,height:24}},"uni-load-more__img--nvue":{"":{color:"#666666"}},"uni-load-more__img--android":{"":{width:24,height:24,transform:"rotate(0deg)"}},"uni-load-more__img--ios":{"":{width:24,height:24,transform:"rotate(0deg)"}}},ft;setTimeout(()=>{ft=uni.getSystemInfoSync().platform},16);var{t:je}=Ee(Ln),Rn={name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default(){return{contentdown:"",contentrefresh:"",contentnomore:""}}},showText:{type:Boolean,default:!0}},data(){return{webviewHide:!1,platform:ft,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}},computed:{iconSnowWidth(){return(Math.floor(this.iconSize/24)||1)*2},contentdownText(){return this.contentText.contentdown||je("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||je("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||je("uni-load-more.contentnomore")}},mounted(){var t=getCurrentPages(),e=t[t.length-1],n=e.$getAppWebview();n.addEventListener("hide",()=>{this.webviewHide=!0}),n.addEventListener("show",()=>{this.webviewHide=!1})},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}};function Nn(t,e,n,i,o,s){return(0,L.openBlock)(),(0,L.createElementBlock)("view",{class:"uni-load-more",onClick:e[0]||(e[0]=(...a)=>s.onClick&&s.onClick(...a))},[!o.webviewHide&&n.status==="loading"&&n.showIcon?((0,L.openBlock)(),(0,L.createElementBlock)("loading-indicator",{key:0,style:(0,L.normalizeStyle)({color:n.color,width:n.iconSize+"px",height:n.iconSize+"px"}),animating:!0,class:"uni-load-more__img uni-load-more__img--nvue"},null,4)):(0,L.createCommentVNode)("",!0),n.showText?((0,L.openBlock)(),(0,L.createElementBlock)("u-text",{key:1,class:"uni-load-more__text",style:(0,L.normalizeStyle)({color:n.color})},(0,L.toDisplayString)(n.status==="more"?s.contentdownText:n.status==="loading"?s.contentrefreshText:s.contentnomoreText),5)):(0,L.createCommentVNode)("",!0)])}var qe=M(Rn,[["render",Nn],["styles",[Un]]]);var K=ee(Z());var Mn={id:"2852637",name:"uniui\u56FE\u6807\u5E93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]},jn="/uni_modules/uni-icons/components/uni-icons/uniicons.ttf",qn={"uni-icons":{"":{fontFamily:"uniicons",textDecoration:"none",textAlign:"center"}}},zn=t=>typeof t=="number"||/^[0-9]*$/g.test(t)?t+"px":t,Vn=weex.requireModule("dom");Vn.addRule("fontFace",{fontFamily:"uniicons",src:"url('"+jn+"')"});var Wn={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data(){return{icons:Mn.glyphs}},computed:{unicode(){let t=this.icons.find(e=>e.font_class===this.type);return t?unescape(`%u${t.unicode}`):""},iconSize(){return zn(this.size)}},methods:{_onClick(){this.$emit("click")}}};function Hn(t,e,n,i,o,s){return(0,K.openBlock)(),(0,K.createElementBlock)("u-text",{style:(0,K.normalizeStyle)({color:n.color,"font-size":s.iconSize}),class:"uni-icons",onClick:e[0]||(e[0]=(...a)=>s._onClick&&s._onClick(...a))},(0,K.toDisplayString)(s.unicode),5)}var mt=M(Wn,[["render",Hn],["styles",[qn]]]);var Jn=Object.defineProperty,Kn=Object.defineProperties,Gn=Object.getOwnPropertyDescriptors,pt=Object.getOwnPropertySymbols,Yn=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable,gt=(t,e,n)=>e in t?Jn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||(e={}))Yn.call(e,n)&&gt(t,n,e[n]);if(pt)for(var n of pt(e))Zn.call(e,n)&&gt(t,n,e[n]);return t},ce=(t,e)=>Kn(t,Gn(e));function Qn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function se(t,e,n){return t(n={path:e,exports:{},require:function(i,o){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(o==null&&n.path)}},n.exports),n.exports}var ze=se(function(t,e){var n;t.exports=(n=n||function(i,o){var s=Object.create||function(){function u(){}return function(h){var b;return u.prototype=h,b=new u,u.prototype=null,b}}(),a={},c=a.lib={},l=c.Base={extend:function(u){var h=s(this);return u&&h.mixIn(u),h.hasOwnProperty("init")&&this.init!==h.init||(h.init=function(){h.$super.init.apply(this,arguments)}),h.init.prototype=h,h.$super=this,h},create:function(){var u=this.extend();return u.init.apply(u,arguments),u},init:function(){},mixIn:function(u){for(var h in u)u.hasOwnProperty(h)&&(this[h]=u[h]);u.hasOwnProperty("toString")&&(this.toString=u.toString)},clone:function(){return this.init.prototype.extend(this)}},r=c.WordArray=l.extend({init:function(u,h){u=this.words=u||[],this.sigBytes=h!=o?h:4*u.length},toString:function(u){return(u||w).stringify(this)},concat:function(u){var h=this.words,b=u.words,k=this.sigBytes,v=u.sigBytes;if(this.clamp(),k%4)for(var A=0;A<v;A++){var F=b[A>>>2]>>>24-A%4*8&255;h[k+A>>>2]|=F<<24-(k+A)%4*8}else for(A=0;A<v;A+=4)h[k+A>>>2]=b[A>>>2];return this.sigBytes+=v,this},clamp:function(){var u=this.words,h=this.sigBytes;u[h>>>2]&=4294967295<<32-h%4*8,u.length=i.ceil(h/4)},clone:function(){var u=l.clone.call(this);return u.words=this.words.slice(0),u},random:function(u){for(var h,b=[],k=function(F){F=F;var P=987654321,O=4294967295;return function(){var W=((P=36969*(65535&P)+(P>>16)&O)<<16)+(F=18e3*(65535&F)+(F>>16)&O)&O;return W/=4294967296,(W+=.5)*(i.random()>.5?1:-1)}},v=0;v<u;v+=4){var A=k(4294967296*(h||i.random()));h=987654071*A(),b.push(4294967296*A()|0)}return new r.init(b,u)}}),y=a.enc={},w=y.Hex={stringify:function(u){for(var h=u.words,b=u.sigBytes,k=[],v=0;v<b;v++){var A=h[v>>>2]>>>24-v%4*8&255;k.push((A>>>4).toString(16)),k.push((15&A).toString(16))}return k.join("")},parse:function(u){for(var h=u.length,b=[],k=0;k<h;k+=2)b[k>>>3]|=parseInt(u.substr(k,2),16)<<24-k%8*4;return new r.init(b,h/2)}},E=y.Latin1={stringify:function(u){for(var h=u.words,b=u.sigBytes,k=[],v=0;v<b;v++){var A=h[v>>>2]>>>24-v%4*8&255;k.push(String.fromCharCode(A))}return k.join("")},parse:function(u){for(var h=u.length,b=[],k=0;k<h;k++)b[k>>>2]|=(255&u.charCodeAt(k))<<24-k%4*8;return new r.init(b,h)}},S=y.Utf8={stringify:function(u){try{return decodeURIComponent(escape(E.stringify(u)))}catch(h){throw new Error("Malformed UTF-8 data")}},parse:function(u){return E.parse(unescape(encodeURIComponent(u)))}},C=c.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(u){typeof u=="string"&&(u=S.parse(u)),this._data.concat(u),this._nDataBytes+=u.sigBytes},_process:function(u){var h=this._data,b=h.words,k=h.sigBytes,v=this.blockSize,A=k/(4*v),F=(A=u?i.ceil(A):i.max((0|A)-this._minBufferSize,0))*v,P=i.min(4*F,k);if(F){for(var O=0;O<F;O+=v)this._doProcessBlock(b,O);var W=b.splice(0,F);h.sigBytes-=P}return new r.init(W,P)},clone:function(){var u=l.clone.call(this);return u._data=this._data.clone(),u},_minBufferSize:0});c.Hasher=C.extend({cfg:l.extend(),init:function(u){this.cfg=this.cfg.extend(u),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(u){return this._append(u),this._process(),this},finalize:function(u){return u&&this._append(u),this._doFinalize()},blockSize:16,_createHelper:function(u){return function(h,b){return new u.init(b).finalize(h)}},_createHmacHelper:function(u){return function(h,b){return new f.HMAC.init(u,b).finalize(h)}}});var f=a.algo={};return a}(Math),n)}),$n=(se(function(t,e){var n;t.exports=(n=ze,function(i){var o=n,s=o.lib,a=s.WordArray,c=s.Hasher,l=o.algo,r=[];(function(){for(var f=0;f<64;f++)r[f]=4294967296*i.abs(i.sin(f+1))|0})();var y=l.MD5=c.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(f,u){for(var h=0;h<16;h++){var b=u+h,k=f[b];f[b]=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8)}var v=this._hash.words,A=f[u+0],F=f[u+1],P=f[u+2],O=f[u+3],W=f[u+4],fe=f[u+5],me=f[u+6],pe=f[u+7],ge=f[u+8],_e=f[u+9],ye=f[u+10],we=f[u+11],ve=f[u+12],ke=f[u+13],be=f[u+14],Ae=f[u+15],m=v[0],_=v[1],p=v[2],g=v[3];m=w(m,_,p,g,A,7,r[0]),g=w(g,m,_,p,F,12,r[1]),p=w(p,g,m,_,P,17,r[2]),_=w(_,p,g,m,O,22,r[3]),m=w(m,_,p,g,W,7,r[4]),g=w(g,m,_,p,fe,12,r[5]),p=w(p,g,m,_,me,17,r[6]),_=w(_,p,g,m,pe,22,r[7]),m=w(m,_,p,g,ge,7,r[8]),g=w(g,m,_,p,_e,12,r[9]),p=w(p,g,m,_,ye,17,r[10]),_=w(_,p,g,m,we,22,r[11]),m=w(m,_,p,g,ve,7,r[12]),g=w(g,m,_,p,ke,12,r[13]),p=w(p,g,m,_,be,17,r[14]),m=E(m,_=w(_,p,g,m,Ae,22,r[15]),p,g,F,5,r[16]),g=E(g,m,_,p,me,9,r[17]),p=E(p,g,m,_,we,14,r[18]),_=E(_,p,g,m,A,20,r[19]),m=E(m,_,p,g,fe,5,r[20]),g=E(g,m,_,p,ye,9,r[21]),p=E(p,g,m,_,Ae,14,r[22]),_=E(_,p,g,m,W,20,r[23]),m=E(m,_,p,g,_e,5,r[24]),g=E(g,m,_,p,be,9,r[25]),p=E(p,g,m,_,O,14,r[26]),_=E(_,p,g,m,ge,20,r[27]),m=E(m,_,p,g,ke,5,r[28]),g=E(g,m,_,p,P,9,r[29]),p=E(p,g,m,_,pe,14,r[30]),m=S(m,_=E(_,p,g,m,ve,20,r[31]),p,g,fe,4,r[32]),g=S(g,m,_,p,ge,11,r[33]),p=S(p,g,m,_,we,16,r[34]),_=S(_,p,g,m,be,23,r[35]),m=S(m,_,p,g,F,4,r[36]),g=S(g,m,_,p,W,11,r[37]),p=S(p,g,m,_,pe,16,r[38]),_=S(_,p,g,m,ye,23,r[39]),m=S(m,_,p,g,ke,4,r[40]),g=S(g,m,_,p,A,11,r[41]),p=S(p,g,m,_,O,16,r[42]),_=S(_,p,g,m,me,23,r[43]),m=S(m,_,p,g,_e,4,r[44]),g=S(g,m,_,p,ve,11,r[45]),p=S(p,g,m,_,Ae,16,r[46]),m=C(m,_=S(_,p,g,m,P,23,r[47]),p,g,A,6,r[48]),g=C(g,m,_,p,pe,10,r[49]),p=C(p,g,m,_,be,15,r[50]),_=C(_,p,g,m,fe,21,r[51]),m=C(m,_,p,g,ve,6,r[52]),g=C(g,m,_,p,O,10,r[53]),p=C(p,g,m,_,ye,15,r[54]),_=C(_,p,g,m,F,21,r[55]),m=C(m,_,p,g,ge,6,r[56]),g=C(g,m,_,p,Ae,10,r[57]),p=C(p,g,m,_,me,15,r[58]),_=C(_,p,g,m,ke,21,r[59]),m=C(m,_,p,g,W,6,r[60]),g=C(g,m,_,p,we,10,r[61]),p=C(p,g,m,_,P,15,r[62]),_=C(_,p,g,m,_e,21,r[63]),v[0]=v[0]+m|0,v[1]=v[1]+_|0,v[2]=v[2]+p|0,v[3]=v[3]+g|0},_doFinalize:function(){var f=this._data,u=f.words,h=8*this._nDataBytes,b=8*f.sigBytes;u[b>>>5]|=128<<24-b%32;var k=i.floor(h/4294967296),v=h;u[15+(b+64>>>9<<4)]=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),u[14+(b+64>>>9<<4)]=16711935&(v<<8|v>>>24)|4278255360&(v<<24|v>>>8),f.sigBytes=4*(u.length+1),this._process();for(var A=this._hash,F=A.words,P=0;P<4;P++){var O=F[P];F[P]=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8)}return A},clone:function(){var f=c.clone.call(this);return f._hash=this._hash.clone(),f}});function w(f,u,h,b,k,v,A){var F=f+(u&h|~u&b)+k+A;return(F<<v|F>>>32-v)+u}function E(f,u,h,b,k,v,A){var F=f+(u&b|h&~b)+k+A;return(F<<v|F>>>32-v)+u}function S(f,u,h,b,k,v,A){var F=f+(u^h^b)+k+A;return(F<<v|F>>>32-v)+u}function C(f,u,h,b,k,v,A){var F=f+(h^(u|~b))+k+A;return(F<<v|F>>>32-v)+u}o.MD5=c._createHelper(y),o.HmacMD5=c._createHmacHelper(y)}(Math),n.MD5)}),se(function(t,e){var n,i,o;t.exports=(i=(n=ze).lib.Base,o=n.enc.Utf8,void(n.algo.HMAC=i.extend({init:function(s,a){s=this._hasher=new s.init,typeof a=="string"&&(a=o.parse(a));var c=s.blockSize,l=4*c;a.sigBytes>l&&(a=s.finalize(a)),a.clamp();for(var r=this._oKey=a.clone(),y=this._iKey=a.clone(),w=r.words,E=y.words,S=0;S<c;S++)w[S]^=1549556828,E[S]^=909522486;r.sigBytes=y.sigBytes=l,this.reset()},reset:function(){var s=this._hasher;s.reset(),s.update(this._iKey)},update:function(s){return this._hasher.update(s),this},finalize:function(s){var a=this._hasher,c=a.finalize(s);return a.reset(),a.finalize(this._oKey.clone().concat(c))}})))}),se(function(t,e){t.exports=ze.HmacMD5})),_t="FUNCTION",Xn="OBJECT",ei="CLIENT_DB";function tt(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function xt(t){return tt(t)==="object"}function It(t){return t&&typeof t=="string"?JSON.parse(t):t}var Pt=!1,Ot="app";It({}.UNICLOUD_DEBUG);var ti=It("[]"),Bt="";try{Bt="__UNI__4D3C304"}catch(t){}var Ve={};function Lt(t,e={}){var n,i;return n=Ve,i=t,Object.prototype.hasOwnProperty.call(n,i)||(Ve[t]=e),Ve[t]}var Ut=["invoke","success","fail","complete"],V=Lt("_globalUniCloudInterceptor");function ni(t,e){V[t]||(V[t]={}),xt(e)&&Object.keys(e).forEach(n=>{Ut.indexOf(n)>-1&&function(i,o,s){let a=V[i][o];a||(a=V[i][o]=[]),a.indexOf(s)===-1&&typeof s=="function"&&a.push(s)}(t,n,e[n])})}function ii(t,e){V[t]||(V[t]={}),xt(e)?Object.keys(e).forEach(n=>{Ut.indexOf(n)>-1&&function(i,o,s){let a=V[i][o];if(!a)return;let c=a.indexOf(s);c>-1&&a.splice(c,1)}(t,n,e[n])}):delete V[t]}function q(t,e){return t&&t.length!==0?t.reduce((n,i)=>n.then(()=>i(e)),Promise.resolve()):Promise.resolve()}function z(t,e){return V[t]&&V[t][e]||[]}function Rt(t,e){return e?function(n){let i,o=!1;e==="callFunction"&&(o=(n&&n.type||_t)!==_t),i=this.isReady?Promise.resolve():this.initUniCloud,n=n||{};let s=i.then(()=>o?Promise.resolve():q(z(e,"invoke"),n)).then(()=>t.call(this,n)).then(a=>o?Promise.resolve(a):q(z(e,"success"),a).then(()=>q(z(e,"complete"),a)).then(()=>Promise.resolve(a)),a=>o?Promise.reject(a):q(z(e,"fail"),a).then(()=>q(z(e,"complete"),a)).then(()=>Promise.reject(a)));if(!(n.success||n.fail||n.complete))return s;s.then(a=>{n.success&&n.success(a),n.complete&&n.complete(a)},a=>{n.fail&&n.fail(a),n.complete&&n.complete(a)})}:function(n){if(!((n=n||{}).success||n.fail||n.complete))return t.call(this,n);t.call(this,n).then(i=>{n.success&&n.success(i),n.complete&&n.complete(i)},i=>{n.fail&&n.fail(i),n.complete&&n.complete(i)})}}var I=class extends Error{constructor(e){super(e.message),this.errMsg=e.message||"",this.errCode=this.code=e.code,this.requestId=e.requestId,Object.defineProperties(this,{message:{get(){return this.errMsg},set(n){this.errMsg=n}}})}},Se;function Nt(){let t=uni.getLocale&&uni.getLocale()||"en";if(Se)return ce(R({},Se),{LOCALE:t});let{deviceId:e,platform:n}=uni.getSystemInfoSync();return Se={PLATFORM:Ot,OS:n,APPID:Bt,DEVICEID:e,CLIENT_SDK_VERSION:"1.0.25"},ce(R({},Se),{LOCALE:t})}var Fe={sign:function(t,e){let n="";return Object.keys(t).sort().forEach(function(i){t[i]&&(n=n+"&"+i+"="+t[i])}),n=n.slice(1),$n(n,e).toString()},wrappedRequest:function(t,e){return new Promise((n,i)=>{e(Object.assign(t,{complete(o){o||(o={});let s=o.data&&o.data.header&&o.data.header["x-serverless-request-id"]||o.header&&o.header["request-id"];if(!o.statusCode||o.statusCode>=400)return i(new I({code:"SYS_ERR",message:o.errMsg||"request:fail",requestId:s}));let a=o.data;if(a.error)return i(new I({code:a.error.code,message:a.error.message,requestId:s}));a.result=a.data,a.requestId=s,delete a.data,n(a)}}))})}},j={request:t=>uni.request(t),uploadFile:t=>uni.uploadFile(t),setStorageSync:(t,e)=>uni.setStorageSync(t,e),getStorageSync:t=>uni.getStorageSync(t),removeStorageSync:t=>uni.removeStorageSync(t),clearStorageSync:()=>uni.clearStorageSync()},yt={"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},{t:oi}=Ee({"zh-Hans":{"uniCloud.init.paramRequired":"\u7F3A\u5C11\u53C2\u6570\uFF1A{param}","uniCloud.uploadFile.fileError":"filePath\u5E94\u4E3AFile\u5BF9\u8C61"},"zh-Hant":{"uniCloud.init.paramRequired":"\u7F3A\u5C11\u53C2\u6570\uFF1A{param}","uniCloud.uploadFile.fileError":"filePath\u5E94\u4E3AFile\u5BF9\u8C61"},en:yt,fr:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},es:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},ja:yt},"zh-Hans"),Mt=class{constructor(t){["spaceId","clientSecret"].forEach(e=>{if(!Object.prototype.hasOwnProperty.call(t,e))throw new Error(oi("uniCloud.init.paramRequired",{param:e}))}),this.config=Object.assign({},{endpoint:"https://api.bspapp.com"},t),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=j,this._getAccessTokenPromise=null,this._getAccessTokenPromiseStatus=null}get hasAccessToken(){return!!this.accessToken}setAccessToken(t){this.accessToken=t}requestWrapped(t){return Fe.wrappedRequest(t,this.adapter.request)}requestAuth(t){return this.requestWrapped(t)}request(t,e){return Promise.resolve().then(()=>this.hasAccessToken?e?this.requestWrapped(t):this.requestWrapped(t).catch(n=>new Promise((i,o)=>{!n||n.code!=="GATEWAY_INVALID_TOKEN"&&n.code!=="InvalidParameter.InvalidToken"?o(n):i()}).then(()=>this.getAccessToken()).then(()=>{let i=this.rebuildRequest(t);return this.request(i,!0)})):this.getAccessToken().then(()=>{let n=this.rebuildRequest(t);return this.request(n,!0)}))}rebuildRequest(t){let e=Object.assign({},t);return e.data.token=this.accessToken,e.header["x-basement-token"]=this.accessToken,e.header["x-serverless-sign"]=Fe.sign(e.data,this.config.clientSecret),e}setupRequest(t,e){let n=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};return e!=="auth"&&(n.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=Fe.sign(n,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:i}}getAccessToken(){return this._getAccessTokenPromiseStatus==="pending"?this._getAccessTokenPromise:(this._getAccessTokenPromiseStatus="pending",this._getAccessTokenPromise=this.requestAuth(this.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then(t=>new Promise((e,n)=>{t.result&&t.result.accessToken?(this.setAccessToken(t.result.accessToken),this._getAccessTokenPromiseStatus="fulfilled",e(this.accessToken)):(this._getAccessTokenPromiseStatus="rejected",n(new I({code:"AUTH_FAILED",message:"\u83B7\u53D6accessToken\u5931\u8D25"})))}),t=>(this._getAccessTokenPromiseStatus="rejected",Promise.reject(t))),this._getAccessTokenPromise)}authorize(){this.getAccessToken()}callFunction(t){let e={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:t.name,functionArgs:t.data||{}})};return this.request(this.setupRequest(e))}getOSSUploadOptionsFromPath(t){let e={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}uploadFileToOSS({url:t,formData:e,name:n,filePath:i,fileType:o,onUploadProgress:s}){return new Promise((a,c)=>{let l=this.adapter.uploadFile({url:t,formData:e,name:n,filePath:i,fileType:o,header:{"X-OSS-server-side-encrpytion":"AES256"},success(r){r&&r.statusCode<400?a(r):c(new I({code:"UPLOAD_FAILED",message:"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25"}))},fail(r){c(new I({code:r.code||"UPLOAD_FAILED",message:r.message||r.errMsg||"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25"}))}});typeof s=="function"&&l&&typeof l.onProgressUpdate=="function"&&l.onProgressUpdate(r=>{s({loaded:r.totalBytesSent,total:r.totalBytesExpectedToSend})})})}reportOSSUpload(t){let e={method:"serverless.file.resource.report",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}uploadFile({filePath:t,cloudPath:e,fileType:n="image",onUploadProgress:i,config:o}){if(tt(e)!=="string")throw new I({code:"INVALID_PARAM",message:"cloudPath\u5FC5\u987B\u4E3A\u5B57\u7B26\u4E32\u7C7B\u578B"});if(!(e=e.trim()))throw new I({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4E0D\u53EF\u4E3A\u7A7A"});if(/:\/\//.test(e))throw new I({code:"INVALID_PARAM",message:"cloudPath\u4E0D\u5408\u6CD5"});let s=o&&o.envType||this.config.envType,a,c;return this.getOSSUploadOptionsFromPath({env:s,filename:e}).then(l=>{let r=l.result;a=r.id,c="https://"+r.cdnDomain+"/"+r.ossPath;let y={url:"https://"+r.host,formData:{"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:r.accessKeyId,Signature:r.signature,host:r.host,id:a,key:r.ossPath,policy:r.policy,success_action_status:200},fileName:"file",name:"file",filePath:t,fileType:n};return this.uploadFileToOSS(Object.assign({},y,{onUploadProgress:i}))}).then(()=>this.reportOSSUpload({id:a})).then(l=>new Promise((r,y)=>{l.success?r({success:!0,filePath:t,fileID:c}):y(new I({code:"UPLOAD_FAILED",message:"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25"}))}))}deleteFile({fileList:t}){let e={method:"serverless.file.resource.delete",params:JSON.stringify({id:t[0]})};return this.request(this.setupRequest(e))}getTempFileURL({fileList:t}={}){return new Promise((e,n)=>{Array.isArray(t)&&t.length!==0||n(new I({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7D20\u5FC5\u987B\u662F\u975E\u7A7A\u7684\u5B57\u7B26\u4E32"})),e({fileList:t.map(i=>({fileID:i,tempFileURL:i}))})})}},si={init(t){let e=new Mt(t),n={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return n},e.customAuth=e.auth,e}},ai=typeof location!="undefined"&&location.protocol==="http:"?"http:":"https:",wt;(function(t){t.local="local",t.none="none",t.session="session"})(wt||(wt={}));var ri=function(){},de=()=>{let t;if(!Promise){t=()=>{},t.promise={};let n=()=>{throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(t.promise,"then",{get:n}),Object.defineProperty(t.promise,"catch",{get:n}),t}let e=new Promise((n,i)=>{t=(o,s)=>o?i(o):n(s)});return t.promise=e,t};function ci(t){return t===void 0}function li(t){return Object.prototype.toString.call(t)==="[object Null]"}var vt;function ui(t){let e=(n=t,Object.prototype.toString.call(n)==="[object Array]"?t:[t]);var n;for(let i of e){let{isMatch:o,genAdapter:s,runtime:a}=i;if(o())return{adapter:s(),runtime:a}}}(function(t){t.WEB="web",t.WX_MP="wx_mp"})(vt||(vt={}));var U={adapter:null,runtime:void 0},di=["anonymousUuidKey"],ae=class extends ri{constructor(){super(),U.adapter.root.tcbObject||(U.adapter.root.tcbObject={})}setItem(e,n){U.adapter.root.tcbObject[e]=n}getItem(e){return U.adapter.root.tcbObject[e]}removeItem(e){delete U.adapter.root.tcbObject[e]}clear(){delete U.adapter.root.tcbObject}};function kt(t,e){switch(t){case"local":return e.localStorage||new ae;case"none":return new ae;default:return e.sessionStorage||new ae}}var De=class{constructor(e){if(!this._storage){this._persistence=U.adapter.primaryStorage||e.persistence,this._storage=kt(this._persistence,U.adapter);let n=`access_token_${e.env}`,i=`access_token_expire_${e.env}`,o=`refresh_token_${e.env}`,s=`anonymous_uuid_${e.env}`,a=`login_type_${e.env}`,c=`user_info_${e.env}`;this.keys={accessTokenKey:n,accessTokenExpireKey:i,refreshTokenKey:o,anonymousUuidKey:s,loginTypeKey:a,userInfoKey:c}}}updatePersistence(e){if(e===this._persistence)return;let n=this._persistence==="local";this._persistence=e;let i=kt(e,U.adapter);for(let o in this.keys){let s=this.keys[o];if(n&&di.includes(o))continue;let a=this._storage.getItem(s);ci(a)||li(a)||(i.setItem(s,a),this._storage.removeItem(s))}this._storage=i}setStore(e,n,i){if(!this._storage)return;let o={version:i||"localCachev1",content:n},s=JSON.stringify(o);try{this._storage.setItem(e,s)}catch(a){throw a}}getStore(e,n){try{if(!this._storage)return}catch(o){return""}n=n||"localCachev1";let i=this._storage.getItem(e);return i&&i.indexOf(n)>=0?JSON.parse(i).content:""}removeStore(e){this._storage.removeItem(e)}},jt={},qt={};function he(t){return jt[t]}var Te=class{constructor(e,n){this.data=n||null,this.name=e}},Ke=class extends Te{constructor(e,n){super("error",{error:e,data:n}),this.error=e}},nt=new class{constructor(){this._listeners={}}on(t,e){return function(n,i,o){o[n]=o[n]||[],o[n].push(i)}(t,e,this._listeners),this}off(t,e){return function(n,i,o){if(o&&o[n]){let s=o[n].indexOf(i);s!==-1&&o[n].splice(s,1)}}(t,e,this._listeners),this}fire(t,e){if(t instanceof Ke)return console.error(t.error),this;let n=typeof t=="string"?new Te(t,e||{}):t,i=n.name;if(this._listens(i)){n.target=this;let o=this._listeners[i]?[...this._listeners[i]]:[];for(let s of o)s.call(this,n)}return this}_listens(t){return this._listeners[t]&&this._listeners[t].length>0}};function G(t,e){nt.on(t,e)}function N(t,e={}){nt.fire(t,e)}function hi(t,e){nt.off(t,e)}var ne="loginStateChanged",zt="loginStateExpire",Y="loginTypeChanged",Ge="anonymousConverted",Vt="refreshAccessToken",B;(function(t){t.ANONYMOUS="ANONYMOUS",t.WECHAT="WECHAT",t.WECHAT_PUBLIC="WECHAT-PUBLIC",t.WECHAT_OPEN="WECHAT-OPEN",t.CUSTOM="CUSTOM",t.EMAIL="EMAIL",t.USERNAME="USERNAME",t.NULL="NULL"})(B||(B={}));var bt=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],fi={"X-SDK-Version":"1.3.5"};function We(t,e,n){let i=t[e];t[e]=function(o){let s={},a={};n.forEach(l=>{let{data:r,headers:y}=l.call(t,o);Object.assign(s,r),Object.assign(a,y)});let c=o.data;return c&&(()=>{var l;if(l=c,Object.prototype.toString.call(l)!=="[object FormData]")o.data=R(R({},c),s);else for(let r in s)c.append(r,s[r])})(),o.headers=R(R({},o.headers||{}),a),i.call(t,o)}}function He(){let t=Math.random().toString(16).slice(2);return{data:{seqId:t},headers:ce(R({},fi),{"x-seqid":t})}}var Ye=class{constructor(e={}){var n;this.config=e,this._reqClass=new U.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:`\u8BF7\u6C42\u5728${this.config.timeout/1e3}s\u5185\u672A\u5B8C\u6210\uFF0C\u5DF2\u4E2D\u65AD`,restrictedMethods:["post"]}),this._cache=he(this.config.env),this._localCache=(n=this.config.env,qt[n]),We(this._reqClass,"post",[He]),We(this._reqClass,"upload",[He]),We(this._reqClass,"download",[He])}post(e){return T(this,null,function*(){return yield this._reqClass.post(e)})}upload(e){return T(this,null,function*(){return yield this._reqClass.upload(e)})}download(e){return T(this,null,function*(){return yield this._reqClass.download(e)})}refreshAccessToken(){return T(this,null,function*(){let e,n;this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken());try{e=yield this._refreshAccessTokenPromise}catch(i){n=i}if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,n)throw n;return e})}_refreshAccessToken(){return T(this,null,function*(){let{accessTokenKey:e,accessTokenExpireKey:n,refreshTokenKey:i,loginTypeKey:o,anonymousUuidKey:s}=this._cache.keys;this._cache.removeStore(e),this._cache.removeStore(n);let a=this._cache.getStore(i);if(!a)throw new Error("\u672A\u767B\u5F55CloudBase");let c={refresh_token:a},l=yield this.request("auth.fetchAccessTokenWithRefreshToken",c);if(l.data.code){let{code:r}=l.data;if(r==="SIGN_PARAM_INVALID"||r==="REFRESH_TOKEN_EXPIRED"||r==="INVALID_REFRESH_TOKEN"){if(this._cache.getStore(o)===B.ANONYMOUS&&r==="INVALID_REFRESH_TOKEN"){let y=this._cache.getStore(s),w=this._cache.getStore(i),E=yield this.send("auth.signInAnonymously",{anonymous_uuid:y,refresh_token:w});return this.setRefreshToken(E.refresh_token),this._refreshAccessToken()}N(zt),this._cache.removeStore(i)}throw new Error(`\u5237\u65B0access token\u5931\u8D25\uFF1A${l.data.code}`)}if(l.data.access_token)return N(Vt),this._cache.setStore(e,l.data.access_token),this._cache.setStore(n,l.data.access_token_expire+Date.now()),{accessToken:l.data.access_token,accessTokenExpire:l.data.access_token_expire};l.data.refresh_token&&(this._cache.removeStore(i),this._cache.setStore(i,l.data.refresh_token),this._refreshAccessToken())})}getAccessToken(){return T(this,null,function*(){let{accessTokenKey:e,accessTokenExpireKey:n,refreshTokenKey:i}=this._cache.keys;if(!this._cache.getStore(i))throw new Error("refresh token\u4E0D\u5B58\u5728\uFF0C\u767B\u5F55\u72B6\u6001\u5F02\u5E38");let o=this._cache.getStore(e),s=this._cache.getStore(n),a=!0;return this._shouldRefreshAccessTokenHook&&!(yield this._shouldRefreshAccessTokenHook(o,s))&&(a=!1),(!o||!s||s<Date.now())&&a?this.refreshAccessToken():{accessToken:o,accessTokenExpire:s}})}request(e,n,i){return T(this,null,function*(){let o=`x-tcb-trace_${this.config.env}`,s="application/x-www-form-urlencoded",a=R({action:e,env:this.config.env,dataVersion:"2019-08-16"},n);if(bt.indexOf(e)===-1){let{refreshTokenKey:h}=this._cache.keys;this._cache.getStore(h)&&(a.access_token=(yield this.getAccessToken()).accessToken)}let c;if(e==="storage.uploadFile"){c=new FormData;for(let h in c)c.hasOwnProperty(h)&&c[h]!==void 0&&c.append(h,a[h]);s="multipart/form-data"}else{s="application/json",c={};for(let h in a)a[h]!==void 0&&(c[h]=a[h])}let l={headers:{"content-type":s}};i&&i.onUploadProgress&&(l.onUploadProgress=i.onUploadProgress);let r=this._localCache.getStore(o);r&&(l.headers["X-TCB-Trace"]=r);let{parse:y,inQuery:w,search:E}=n,S={env:this.config.env};y&&(S.parse=!0),w&&(S=R(R({},w),S));let C=function(h,b,k={}){let v=/\?/.test(b),A="";for(let F in k)A===""?!v&&(b+="?"):A+="&",A+=`${F}=${encodeURIComponent(k[F])}`;return/^http(s)?\:\/\//.test(b+=A)?b:`${h}${b}`}(ai,"//tcb-api.tencentcloudapi.com/web",S);E&&(C+=E);let f=yield this.post(R({url:C,data:c},l)),u=f.header&&f.header["x-tcb-trace"];if(u&&this._localCache.setStore(o,u),Number(f.status)!==200&&Number(f.statusCode)!==200||!f.data)throw new Error("network request error");return f})}send(i){return T(this,arguments,function*(e,n={}){let o=yield this.request(e,n,{onUploadProgress:n.onUploadProgress});if(o.data.code==="ACCESS_TOKEN_EXPIRED"&&bt.indexOf(e)===-1){yield this.refreshAccessToken();let s=yield this.request(e,n,{onUploadProgress:n.onUploadProgress});if(s.data.code)throw new Error(`[${s.data.code}] ${s.data.message}`);return s.data}if(o.data.code)throw new Error(`[${o.data.code}] ${o.data.message}`);return o.data})}setRefreshToken(e){let{accessTokenKey:n,accessTokenExpireKey:i,refreshTokenKey:o}=this._cache.keys;this._cache.removeStore(n),this._cache.removeStore(i),this._cache.setStore(o,e)}},Wt={};function J(t){return Wt[t]}var ie=class{constructor(e){this.config=e,this._cache=he(e.env),this._request=J(e.env)}setRefreshToken(e){let{accessTokenKey:n,accessTokenExpireKey:i,refreshTokenKey:o}=this._cache.keys;this._cache.removeStore(n),this._cache.removeStore(i),this._cache.setStore(o,e)}setAccessToken(e,n){let{accessTokenKey:i,accessTokenExpireKey:o}=this._cache.keys;this._cache.setStore(i,e),this._cache.setStore(o,n)}refreshUserInfo(){return T(this,null,function*(){let{data:e}=yield this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(e),e})}setLocalUserInfo(e){let{userInfoKey:n}=this._cache.keys;this._cache.setStore(n,e)}},Ze=class{constructor(e){if(!e)throw new Error("envId is not defined");this._envId=e,this._cache=he(this._envId),this._request=J(this._envId),this.setUserInfo()}linkWithTicket(e){if(typeof e!="string")throw new Error("ticket must be string");return this._request.send("auth.linkWithTicket",{ticket:e})}linkWithRedirect(e){e.signInWithRedirect()}updatePassword(e,n){return this._request.send("auth.updatePassword",{oldPassword:n,newPassword:e})}updateEmail(e){return this._request.send("auth.updateEmail",{newEmail:e})}updateUsername(e){if(typeof e!="string")throw new Error("username must be a string");return this._request.send("auth.updateUsername",{username:e})}getLinkedUidList(){return T(this,null,function*(){let{data:e}=yield this._request.send("auth.getLinkedUidList",{}),n=!1,{users:i}=e;return i.forEach(o=>{o.wxOpenId&&o.wxPublicId&&(n=!0)}),{users:i,hasPrimaryUid:n}})}setPrimaryUid(e){return this._request.send("auth.setPrimaryUid",{uid:e})}unlink(e){return this._request.send("auth.unlink",{platform:e})}update(e){return T(this,null,function*(){let{nickName:n,gender:i,avatarUrl:o,province:s,country:a,city:c}=e,{data:l}=yield this._request.send("auth.updateUserInfo",{nickName:n,gender:i,avatarUrl:o,province:s,country:a,city:c});this.setLocalUserInfo(l)})}refresh(){return T(this,null,function*(){let{data:e}=yield this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(e),e})}setUserInfo(){let{userInfoKey:e}=this._cache.keys,n=this._cache.getStore(e);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach(i=>{this[i]=n[i]}),this.location={country:n.country,province:n.province,city:n.city}}setLocalUserInfo(e){let{userInfoKey:n}=this._cache.keys;this._cache.setStore(n,e),this.setUserInfo()}},X=class{constructor(e){if(!e)throw new Error("envId is not defined");this._cache=he(e);let{refreshTokenKey:n,accessTokenKey:i,accessTokenExpireKey:o}=this._cache.keys,s=this._cache.getStore(n),a=this._cache.getStore(i),c=this._cache.getStore(o);this.credential={refreshToken:s,accessToken:a,accessTokenExpire:c},this.user=new Ze(e)}get isAnonymousAuth(){return this.loginType===B.ANONYMOUS}get isCustomAuth(){return this.loginType===B.CUSTOM}get isWeixinAuth(){return this.loginType===B.WECHAT||this.loginType===B.WECHAT_OPEN||this.loginType===B.WECHAT_PUBLIC}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}},re=class extends ie{signIn(){return T(this,null,function*(){this._cache.updatePersistence("local");let{anonymousUuidKey:e,refreshTokenKey:n}=this._cache.keys,i=this._cache.getStore(e)||void 0,o=this._cache.getStore(n)||void 0,s=yield this._request.send("auth.signInAnonymously",{anonymous_uuid:i,refresh_token:o});if(s.uuid&&s.refresh_token){this._setAnonymousUUID(s.uuid),this.setRefreshToken(s.refresh_token),yield this._request.refreshAccessToken(),N(ne),N(Y,{env:this.config.env,loginType:B.ANONYMOUS,persistence:"local"});let a=new X(this.config.env);return yield a.user.refresh(),a}throw new Error("\u533F\u540D\u767B\u5F55\u5931\u8D25")})}linkAndRetrieveDataWithTicket(e){return T(this,null,function*(){let{anonymousUuidKey:n,refreshTokenKey:i}=this._cache.keys,o=this._cache.getStore(n),s=this._cache.getStore(i),a=yield this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:o,refresh_token:s,ticket:e});if(a.refresh_token)return this._clearAnonymousUUID(),this.setRefreshToken(a.refresh_token),yield this._request.refreshAccessToken(),N(Ge,{env:this.config.env}),N(Y,{loginType:B.CUSTOM,persistence:"local"}),{credential:{refreshToken:a.refresh_token}};throw new Error("\u533F\u540D\u8F6C\u5316\u5931\u8D25")})}_setAnonymousUUID(e){let{anonymousUuidKey:n,loginTypeKey:i}=this._cache.keys;this._cache.removeStore(n),this._cache.setStore(n,e),this._cache.setStore(i,B.ANONYMOUS)}_clearAnonymousUUID(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}},xe=class extends ie{signIn(e){return T(this,null,function*(){if(typeof e!="string")throw new Error("ticket must be a string");let{refreshTokenKey:n}=this._cache.keys,i=yield this._request.send("auth.signInWithTicket",{ticket:e,refresh_token:this._cache.getStore(n)||""});if(i.refresh_token)return this.setRefreshToken(i.refresh_token),yield this._request.refreshAccessToken(),N(ne),N(Y,{env:this.config.env,loginType:B.CUSTOM,persistence:this.config.persistence}),yield this.refreshUserInfo(),new X(this.config.env);throw new Error("\u81EA\u5B9A\u4E49\u767B\u5F55\u5931\u8D25")})}},Ie=class extends ie{signIn(e,n){return T(this,null,function*(){if(typeof e!="string")throw new Error("email must be a string");let{refreshTokenKey:i}=this._cache.keys,o=yield this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:n,refresh_token:this._cache.getStore(i)||""}),{refresh_token:s,access_token:a,access_token_expire:c}=o;if(s)return this.setRefreshToken(s),a&&c?this.setAccessToken(a,c):yield this._request.refreshAccessToken(),yield this.refreshUserInfo(),N(ne),N(Y,{env:this.config.env,loginType:B.EMAIL,persistence:this.config.persistence}),new X(this.config.env);throw o.code?new Error(`\u90AE\u7BB1\u767B\u5F55\u5931\u8D25: [${o.code}] ${o.message}`):new Error("\u90AE\u7BB1\u767B\u5F55\u5931\u8D25")})}activate(e){return T(this,null,function*(){return this._request.send("auth.activateEndUserMail",{token:e})})}resetPasswordWithToken(e,n){return T(this,null,function*(){return this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:n})})}},Pe=class extends ie{signIn(e,n){return T(this,null,function*(){if(typeof e!="string")throw new Error("username must be a string");typeof n!="string"&&(n="",console.warn("password is empty"));let{refreshTokenKey:i}=this._cache.keys,o=yield this._request.send("auth.signIn",{loginType:B.USERNAME,username:e,password:n,refresh_token:this._cache.getStore(i)||""}),{refresh_token:s,access_token_expire:a,access_token:c}=o;if(s)return this.setRefreshToken(s),c&&a?this.setAccessToken(c,a):yield this._request.refreshAccessToken(),yield this.refreshUserInfo(),N(ne),N(Y,{env:this.config.env,loginType:B.USERNAME,persistence:this.config.persistence}),new X(this.config.env);throw o.code?new Error(`\u7528\u6237\u540D\u5BC6\u7801\u767B\u5F55\u5931\u8D25: [${o.code}] ${o.message}`):new Error("\u7528\u6237\u540D\u5BC6\u7801\u767B\u5F55\u5931\u8D25")})}},Qe=class{constructor(e){this.config=e,this._cache=he(e.env),this._request=J(e.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),G(Y,this._onLoginTypeChanged)}get currentUser(){let e=this.hasLoginState();return e&&e.user||null}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}anonymousAuthProvider(){return new re(this.config)}customAuthProvider(){return new xe(this.config)}emailAuthProvider(){return new Ie(this.config)}usernameAuthProvider(){return new Pe(this.config)}signInAnonymously(){return T(this,null,function*(){return new re(this.config).signIn()})}signInWithEmailAndPassword(e,n){return T(this,null,function*(){return new Ie(this.config).signIn(e,n)})}signInWithUsernameAndPassword(e,n){return new Pe(this.config).signIn(e,n)}linkAndRetrieveDataWithTicket(e){return T(this,null,function*(){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new re(this.config)),G(Ge,this._onAnonymousConverted),yield this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(e)})}signOut(){return T(this,null,function*(){if(this.loginType===B.ANONYMOUS)throw new Error("\u533F\u540D\u7528\u6237\u4E0D\u652F\u6301\u767B\u51FA\u64CD\u4F5C");let{refreshTokenKey:e,accessTokenKey:n,accessTokenExpireKey:i}=this._cache.keys,o=this._cache.getStore(e);if(!o)return;let s=yield this._request.send("auth.logout",{refresh_token:o});return this._cache.removeStore(e),this._cache.removeStore(n),this._cache.removeStore(i),N(ne),N(Y,{env:this.config.env,loginType:B.NULL,persistence:this.config.persistence}),s})}signUpWithEmailAndPassword(e,n){return T(this,null,function*(){return this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:n})})}sendPasswordResetEmail(e){return T(this,null,function*(){return this._request.send("auth.sendPasswordResetEmail",{email:e})})}onLoginStateChanged(e){G(ne,()=>{let i=this.hasLoginState();e.call(this,i)});let n=this.hasLoginState();e.call(this,n)}onLoginStateExpired(e){G(zt,e.bind(this))}onAccessTokenRefreshed(e){G(Vt,e.bind(this))}onAnonymousConverted(e){G(Ge,e.bind(this))}onLoginTypeChanged(e){G(Y,()=>{let n=this.hasLoginState();e.call(this,n)})}getAccessToken(){return T(this,null,function*(){return{accessToken:(yield this._request.getAccessToken()).accessToken,env:this.config.env}})}hasLoginState(){let{refreshTokenKey:e}=this._cache.keys;return this._cache.getStore(e)?new X(this.config.env):null}isUsernameRegistered(e){return T(this,null,function*(){if(typeof e!="string")throw new Error("username must be a string");let{data:n}=yield this._request.send("auth.isUsernameRegistered",{username:e});return n&&n.isRegistered})}getLoginState(){return Promise.resolve(this.hasLoginState())}signInWithTicket(e){return T(this,null,function*(){return new xe(this.config).signIn(e)})}shouldRefreshAccessToken(e){this._request._shouldRefreshAccessTokenHook=e.bind(this)}getUserInfo(){return this._request.send("auth.getUserInfo",{}).then(e=>e.code?e:ce(R({},e.data),{requestId:e.seqId}))}getAuthHeader(){let{refreshTokenKey:e,accessTokenKey:n}=this._cache.keys,i=this._cache.getStore(e);return{"x-cloudbase-credentials":this._cache.getStore(n)+"/@@/"+i}}_onAnonymousConverted(e){let{env:n}=e.data;n===this.config.env&&this._cache.updatePersistence(this.config.persistence)}_onLoginTypeChanged(e){let{loginType:n,persistence:i,env:o}=e.data;o===this.config.env&&(this._cache.updatePersistence(i),this._cache.setStore(this._cache.keys.loginTypeKey,n))}},mi=function(t,e){e=e||de();let n=J(this.config.env),{cloudPath:i,filePath:o,onUploadProgress:s,fileType:a="image"}=t;return n.send("storage.getUploadMetadata",{path:i}).then(c=>{let{data:{url:l,authorization:r,token:y,fileId:w,cosFileId:E},requestId:S}=c,C={key:i,signature:r,"x-cos-meta-fileid":E,success_action_status:"201","x-cos-security-token":y};n.upload({url:l,data:C,file:o,name:i,fileType:a,onUploadProgress:s}).then(f=>{f.statusCode===201?e(null,{fileID:w,requestId:S}):e(new Error(`STORAGE_REQUEST_FAIL: ${f.data}`))}).catch(f=>{e(f)})}).catch(c=>{e(c)}),e.promise},pi=function(t,e){e=e||de();let n=J(this.config.env),{cloudPath:i}=t;return n.send("storage.getUploadMetadata",{path:i}).then(o=>{e(null,o)}).catch(o=>{e(o)}),e.promise},gi=function({fileList:t},e){if(e=e||de(),!t||!Array.isArray(t))return{code:"INVALID_PARAM",message:"fileList\u5FC5\u987B\u662F\u975E\u7A7A\u7684\u6570\u7EC4"};for(let i of t)if(!i||typeof i!="string")return{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7D20\u5FC5\u987B\u662F\u975E\u7A7A\u7684\u5B57\u7B26\u4E32"};let n={fileid_list:t};return J(this.config.env).send("storage.batchDeleteFile",n).then(i=>{i.code?e(null,i):e(null,{fileList:i.data.delete_list,requestId:i.requestId})}).catch(i=>{e(i)}),e.promise},Ht=function({fileList:t},e){e=e||de(),t&&Array.isArray(t)||e(null,{code:"INVALID_PARAM",message:"fileList\u5FC5\u987B\u662F\u975E\u7A7A\u7684\u6570\u7EC4"});let n=[];for(let o of t)typeof o=="object"?(o.hasOwnProperty("fileID")&&o.hasOwnProperty("maxAge")||e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7D20\u5FC5\u987B\u662F\u5305\u542BfileID\u548CmaxAge\u7684\u5BF9\u8C61"}),n.push({fileid:o.fileID,max_age:o.maxAge})):typeof o=="string"?n.push({fileid:o}):e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7D20\u5FC5\u987B\u662F\u5B57\u7B26\u4E32"});let i={file_list:n};return J(this.config.env).send("storage.batchGetDownloadUrl",i).then(o=>{o.code?e(null,o):e(null,{fileList:o.data.download_list,requestId:o.requestId})}).catch(o=>{e(o)}),e.promise},_i=function(n,i){return T(this,arguments,function*({fileID:t},e){let o=(yield Ht.call(this,{fileList:[{fileID:t,maxAge:600}]})).fileList[0];if(o.code!=="SUCCESS")return e?e(o):new Promise(c=>{c(o)});let s=J(this.config.env),a=o.download_url;if(a=encodeURI(a),!e)return s.download({url:a});e(yield s.download({url:a}))})},yi=function({name:t,data:e,query:n,parse:i,search:o},s){let a=s||de(),c;try{c=e?JSON.stringify(e):""}catch(r){return Promise.reject(r)}if(!t)return Promise.reject(new Error("\u51FD\u6570\u540D\u4E0D\u80FD\u4E3A\u7A7A"));let l={inQuery:n,parse:i,search:o,function_name:t,request_data:c};return J(this.config.env).send("functions.invokeFunction",l).then(r=>{if(r.code)a(null,r);else{let y=r.data.response_data;if(i)a(null,{result:y,requestId:r.requestId});else try{y=JSON.parse(r.data.response_data),a(null,{result:y,requestId:r.requestId})}catch(w){a(new Error("response data must be json"))}}return a.promise}).catch(r=>{a(r)}),a.promise},At={timeout:15e3,persistence:"session"},Et={},le=class{constructor(e){this.config=e||this.config,this.authObj=void 0}init(e){switch(U.adapter||(this.requestClient=new U.adapter.reqClass({timeout:e.timeout||5e3,timeoutMsg:`\u8BF7\u6C42\u5728${(e.timeout||5e3)/1e3}s\u5185\u672A\u5B8C\u6210\uFF0C\u5DF2\u4E2D\u65AD`})),this.config=R(R({},At),e),!0){case this.config.timeout>6e5:console.warn("timeout\u5927\u4E8E\u53EF\u914D\u7F6E\u4E0A\u9650[10\u5206\u949F]\uFF0C\u5DF2\u91CD\u7F6E\u4E3A\u4E0A\u9650\u6570\u503C"),this.config.timeout=6e5;break;case this.config.timeout<100:console.warn("timeout\u5C0F\u4E8E\u53EF\u914D\u7F6E\u4E0B\u9650[100ms]\uFF0C\u5DF2\u91CD\u7F6E\u4E3A\u4E0B\u9650\u6570\u503C"),this.config.timeout=100}return new le(this.config)}auth({persistence:e}={}){if(this.authObj)return this.authObj;let n=e||U.adapter.primaryStorage||At.persistence;var i;return n!==this.config.persistence&&(this.config.persistence=n),function(o){let{env:s}=o;jt[s]=new De(o),qt[s]=new De(ce(R({},o),{persistence:"local"}))}(this.config),i=this.config,Wt[i.env]=new Ye(i),this.authObj=new Qe(this.config),this.authObj}on(e,n){return G.apply(this,[e,n])}off(e,n){return hi.apply(this,[e,n])}callFunction(e,n){return yi.apply(this,[e,n])}deleteFile(e,n){return gi.apply(this,[e,n])}getTempFileURL(e,n){return Ht.apply(this,[e,n])}downloadFile(e,n){return _i.apply(this,[e,n])}uploadFile(e,n){return mi.apply(this,[e,n])}getUploadMetadata(e,n){return pi.apply(this,[e,n])}registerExtension(e){Et[e.name]=e}invokeExtension(e,n){return T(this,null,function*(){let i=Et[e];if(!i)throw Error(`\u6269\u5C55${e} \u5FC5\u987B\u5148\u6CE8\u518C`);return yield i.invoke(n,this)})}useAdapters(e){let{adapter:n,runtime:i}=ui(e)||{};n&&(U.adapter=n),i&&(U.runtime=i)}},Jt=new le;function St(t,e,n){n===void 0&&(n={});var i=/\?/.test(e),o="";for(var s in n)o===""?!i&&(e+="?"):o+="&",o+=s+"="+encodeURIComponent(n[s]);return/^http(s)?:\/\//.test(e+=o)?e:""+t+e}var $e=class{post(e){let{url:n,data:i,headers:o}=e;return new Promise((s,a)=>{j.request({url:St("https:",n),data:i,method:"POST",header:o,success(c){s(c)},fail(c){a(c)}})})}upload(e){return new Promise((n,i)=>{let{url:o,file:s,data:a,headers:c,fileType:l}=e,r=j.uploadFile({url:St("https:",o),name:"file",formData:Object.assign({},a),filePath:s,fileType:l,header:c,success(y){let w={statusCode:y.statusCode,data:y.data||{}};y.statusCode===200&&a.success_action_status&&(w.statusCode=parseInt(a.success_action_status,10)),n(w)},fail(y){i(new Error(y.errMsg||"uploadFile:fail"))}});typeof e.onUploadProgress=="function"&&r&&typeof r.onProgressUpdate=="function"&&r.onProgressUpdate(y=>{e.onUploadProgress({loaded:y.totalBytesSent,total:y.totalBytesExpectedToSend})})})}},wi={setItem(t,e){j.setStorageSync(t,e)},getItem:t=>j.getStorageSync(t),removeItem(t){j.removeStorageSync(t)},clear(){j.clearStorageSync()}},vi={genAdapter:function(){return{root:{},reqClass:$e,localStorage:wi,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};Jt.useAdapters(vi);var it=Jt,ki=it.init;it.init=function(t){t.env=t.spaceId;let e=ki.call(this,t);e.config.provider="tencent",e.config.spaceId=t.spaceId;let n=e.auth;return e.auth=function(i){let o=n.call(this,i);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach(s=>{o[s]=Rt(o[s]).bind(o)}),o},e.customAuth=e.auth,e};var bi=it;function Kt(t){return t&&Kt(t.__v_raw)||t}function ot(){return{token:j.getStorageSync("uni_id_token")||j.getStorageSync("uniIdToken"),tokenExpired:j.getStorageSync("uni_id_token_expired")}}var Ai=class extends Mt{getAccessToken(){return new Promise((t,e)=>{let n="Anonymous_Access_token";this.setAccessToken(n),t(n)})}setupRequest(t,e){let n=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};e!=="auth"&&(n.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=Fe.sign(n,this.config.clientSecret);let o=Nt();i["x-client-info"]=JSON.stringify(o);let{token:s}=ot();return i["x-client-token"]=s,{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:JSON.parse(JSON.stringify(i))}}uploadFileToOSS({url:t,formData:e,name:n,filePath:i,fileType:o,onUploadProgress:s}){return new Promise((a,c)=>{let l=this.adapter.uploadFile({url:t,formData:e,name:n,filePath:i,fileType:o,success(r){r&&r.statusCode<400?a(r):c(new I({code:"UPLOAD_FAILED",message:"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25"}))},fail(r){c(new I({code:r.code||"UPLOAD_FAILED",message:r.message||r.errMsg||"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25"}))}});typeof s=="function"&&l&&typeof l.onProgressUpdate=="function"&&l.onProgressUpdate(r=>{s({loaded:r.totalBytesSent,total:r.totalBytesExpectedToSend})})})}uploadFile({filePath:t,cloudPath:e,fileType:n="image",onUploadProgress:i}){if(!e)throw new I({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4E0D\u53EF\u4E3A\u7A7A"});let o;return this.getOSSUploadOptionsFromPath({cloudPath:e}).then(s=>{let{url:a,formData:c,name:l}=s.result;o=s.result.fileUrl;let r={url:a,formData:c,name:l,filePath:t,fileType:n};return this.uploadFileToOSS(Object.assign({},r,{onUploadProgress:i}))}).then(()=>this.reportOSSUpload({cloudPath:e})).then(s=>new Promise((a,c)=>{s.success?a({success:!0,filePath:t,fileID:o}):c(new I({code:"UPLOAD_FAILED",message:"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25"}))}))}deleteFile({fileList:t}){let e={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:t})};return this.request(this.setupRequest(e))}getTempFileURL({fileList:t}={}){let e={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:t})};return this.request(this.setupRequest(e))}},Ei={init(t){let e=new Ai(t),n={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return n},e.customAuth=e.auth,e}};function Si({data:t}){let e;e=Nt();let n=JSON.parse(JSON.stringify(t||{}));if(Object.assign(n,{clientInfo:e}),!n.uniIdToken){let{token:i}=ot();i&&(n.uniIdToken=i)}return n}var Ci=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"\uFF0C\u4E91\u51FD\u6570[{functionName}]\u5728\u4E91\u7AEF\u4E0D\u5B58\u5728\uFF0C\u8BF7\u68C0\u67E5\u6B64\u4E91\u51FD\u6570\u540D\u79F0\u662F\u5426\u6B63\u786E\u4EE5\u53CA\u8BE5\u4E91\u51FD\u6570\u662F\u5426\u5DF2\u4E0A\u4F20\u5230\u670D\u52A1\u7A7A\u95F4",mode:"append"}],Gt=/[\\^$.*+?()[\]{}|]/g,Fi=RegExp(Gt.source);function Ct(t,e,n){return t.replace(new RegExp((i=e)&&Fi.test(i)?i.replace(Gt,"\\$&"):i,"g"),n);var i}function Ft({functionName:t,result:e,logPvd:n}){if(this.config.useDebugFunction&&e&&e.requestId){let i=JSON.stringify({spaceId:this.config.spaceId,functionName:t,requestId:e.requestId});console.log(`[${n}-request]${i}[/${n}-request]`)}}function Di(t){let e=t.callFunction,n=function(i){let o=i.name;i.data=Si.call(t,{data:i.data});let s={aliyun:"aliyun",tencent:"tcb"}[this.config.provider];return e.call(this,i).then(a=>(Ft.call(this,{functionName:o,result:a,logPvd:s}),Promise.resolve(a)),a=>(Ft.call(this,{functionName:o,result:a,logPvd:s}),a&&a.message&&(a.message=function({message:c="",extraInfo:l={},formatter:r=[]}={}){for(let y=0;y<r.length;y++){let{rule:w,content:E,mode:S}=r[y],C=c.match(w);if(!C)continue;let f=E;for(let u=1;u<C.length;u++)f=Ct(f,`{$${u}}`,C[u]);for(let u in l)f=Ct(f,`{${u}}`,l[u]);return S==="replace"?f:c+f}return c}({message:`[${i.name}]: ${a.message}`,formatter:Ci,extraInfo:{functionName:o}})),Promise.reject(a)))};t.callFunction=function(i){let o;return o=n.call(this,i),Object.defineProperty(o,"result",{get:()=>(console.warn("\u5F53\u524D\u8FD4\u56DE\u7ED3\u679C\u4E3APromise\u7C7B\u578B\uFF0C\u4E0D\u53EF\u76F4\u63A5\u8BBF\u95EE\u5176result\u5C5E\u6027\uFF0C\u8BE6\u60C5\u8BF7\u53C2\u8003\uFF1Ahttps://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"),{})}),o}}var Yt=Symbol("CLIENT_DB_INTERNAL");function Oe(t,e){return t.then="DoNotReturnProxyWithAFunctionNamedThen",t._internalType=Yt,t.__v_raw=void 0,new Proxy(t,{get(n,i,o){if(i==="_uniClient")return null;if(i in n||typeof i!="string"){let s=n[i];return typeof s=="function"?s.bind(n):s}return e.get(n,i,o)}})}function Dt(t){return{on:(e,n)=>{t[e]=t[e]||[],t[e].indexOf(n)>-1||t[e].push(n)},off:(e,n)=>{t[e]=t[e]||[];let i=t[e].indexOf(n);i!==-1&&t[e].splice(i,1)}}}var Ti=["db.Geo","db.command","command.aggregate"];function Zt(t,e){return Ti.indexOf(`${t}.${e}`)>-1}function $(t){switch(tt(t=Kt(t))){case"array":return t.map(e=>$(e));case"object":return t._internalType===Yt||Object.keys(t).forEach(e=>{t[e]=$(t[e])}),t;case"regexp":return{$regexp:{source:t.source,flags:t.flags}};case"date":return{$date:t.toISOString()};default:return t}}var Xe=class{constructor(e,n,i){this.content=e,this.prevStage=n||null,this.udb=null,this._database=i}toJSON(){let e=this,n=[e.content];for(;e.prevStage;)e=e.prevStage,n.push(e.content);return{$db:n.reverse().map(i=>({$method:i.$method,$param:$(i.$param)}))}}getAction(){let e=this.toJSON().$db.find(n=>n.$method==="action");return e&&e.$param&&e.$param[0]}getCommand(){return{$db:this.toJSON().$db.filter(e=>e.$method!=="action")}}get useAggregate(){let e=this,n=!1;for(;e.prevStage;){e=e.prevStage;let i=e.content.$method;if(i==="aggregate"||i==="pipeline"){n=!0;break}}return n}get count(){if(!this.useAggregate)return function(){return this._send("count",Array.from(arguments))};let e=this;return function(){return ue({$method:"count",$param:$(Array.from(arguments))},e,this._database)}}get(){return this._send("get",Array.from(arguments))}add(){return this._send("add",Array.from(arguments))}remove(){return this._send("remove",Array.from(arguments))}update(){return this._send("update",Array.from(arguments))}end(){return this._send("end",Array.from(arguments))}set(){throw new Error("clientDB\u7981\u6B62\u4F7F\u7528set\u65B9\u6CD5")}_send(e,n){let i=this.getAction(),o=this.getCommand();return o.$db.push({$method:e,$param:$(n)}),this._database._callCloudFunction({action:i,command:o})}};function ue(t,e,n){return Oe(new Xe(t,e,n),{get(i,o){let s="db";return i&&i.content&&(s=i.content.$method),Zt(s,o)?ue({$method:o},i,n):function(){return ue({$method:o,$param:$(Array.from(arguments))},i,n)}}})}function Je({path:t,method:e}){return class{constructor(){this.param=Array.from(arguments)}toJSON(){return{$newDb:[...t.map(n=>({$method:n})),{$method:e,$param:this.param}]}}}}var et=class extends class{constructor({uniClient:e={}}={}){this._uniClient=e,this._authCallBacks={},this._dbCallBacks={},e.isDefault&&(this._dbCallBacks=Lt("_globalUniCloudDatabaseCallback")),this.auth=Dt(this._authCallBacks),Object.assign(this,Dt(this._dbCallBacks)),this.env=Oe({},{get:(n,i)=>({$env:i})}),this.Geo=Oe({},{get:(n,i)=>Je({path:["Geo"],method:i})}),this.serverDate=Je({path:[],method:"serverDate"}),this.RegExp=Je({path:[],method:"RegExp"})}getCloudEnv(e){if(typeof e!="string"||!e.trim())throw new Error("getCloudEnv\u53C2\u6570\u9519\u8BEF");return{$env:e.replace("$cloudEnv_","")}}_callback(e,n){let i=this._dbCallBacks;i[e]&&i[e].forEach(o=>{o(...n)})}_callbackAuth(e,n){let i=this._authCallBacks;i[e]&&i[e].forEach(o=>{o(...n)})}multiSend(){let e=Array.from(arguments),n=e.map(i=>{let o=i.getAction(),s=i.getCommand();if(s.$db[s.$db.length-1].$method!=="getTemp")throw new Error("multiSend\u53EA\u652F\u6301\u5B50\u547D\u4EE4\u5185\u4F7F\u7528getTemp");return{action:o,command:s}});return this._callCloudFunction({multiCommand:n,queryList:e})}}{_callCloudFunction({action:e,command:n,multiCommand:i,queryList:o}){function s(l,r){if(i&&o)for(let y=0;y<o.length;y++){let w=o[y];w.udb&&typeof w.udb.setResult=="function"&&(r?w.udb.setResult(r):w.udb.setResult(l.result.dataList[y]))}}let a=q(z("database","invoke")),c=this._uniClient;return a.then(()=>c.callFunction({name:"DCloud-clientDB",type:ei,data:{action:e,command:n,multiCommand:i}})).then(l=>{let{code:r,message:y,token:w,tokenExpired:E,systemInfo:S=[]}=l.result;if(S)for(let f=0;f<S.length;f++){let{level:u,message:h,detail:b}=S[f],k=console[u]||console.log,v="[System Info]"+h;b&&(v=`${v}
\u8BE6\u7EC6\u4FE1\u606F\uFF1A${b}`),k(v)}if(r){let f=new I({message:y,code:r,requestId:l.requestId});return this._callback("error",[f]),Promise.reject(f)}w&&E&&(function({token:f,tokenExpired:u}={}){f&&j.setStorageSync("uni_id_token",f),u&&j.setStorageSync("uni_id_token_expired",u)}({token:w,tokenExpired:E}),this._callbackAuth("refreshToken",[{token:w,tokenExpired:E}]),this._callback("refreshToken",[{token:w,tokenExpired:E}]));let C=l.result.affectedDocs;return typeof C=="number"&&Object.defineProperty(l.result,"affectedDocs",{get:()=>(console.warn("affectedDocs\u4E0D\u518D\u63A8\u8350\u4F7F\u7528\uFF0C\u8BF7\u4F7F\u7528inserted/deleted/updated/data.length\u66FF\u4EE3"),C)}),q(z("database","success"),l).then(()=>q(z("database","complete"),l)).then(()=>(s(l,null),Promise.resolve(l)))},l=>{let r=new I({code:l.code||"SYSTEM_ERROR",message:l.message,requestId:l.requestId});return this._callback("error",[r]),/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(l.message)&&console.warn("clientDB\u672A\u521D\u59CB\u5316\uFF0C\u8BF7\u5728web\u63A7\u5236\u53F0\u4FDD\u5B58\u4E00\u6B21schema\u4EE5\u5F00\u542FclientDB"),q(z("database","fail"),l).then(()=>q(z("database","complete"),l)).then(()=>(s(null,l),Promise.reject(l)))})}};function xi(t){t.database=function(e){if(e&&Object.keys(e).length>0)return t.init(e).database();if(this._database)return this._database;let n=function(i,o={}){return Oe(new i(o),{get:(s,a)=>Zt("db",a)?ue({$method:a},null,s):function(){return ue({$method:a,$param:$(Array.from(arguments))},null,s)}})}(et,{uniClient:t});return this._database=n,n}}var Qt,Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ii=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function Pi(){let t=ot().token||"",e=t.split(".");if(!t||e.length!==3)return{uid:null,role:[],permission:[],tokenExpired:0};let n;try{n=JSON.parse((i=e[1],decodeURIComponent(Qt(i).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch(o){throw new Error("\u83B7\u53D6\u5F53\u524D\u7528\u6237\u4FE1\u606F\u51FA\u9519\uFF0C\u8BE6\u7EC6\u9519\u8BEF\u4FE1\u606F\u4E3A\uFF1A"+o.message)}var i;return n.tokenExpired=1e3*n.exp,delete n.exp,delete n.iat,n}Qt=typeof atob!="function"?function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!Ii.test(t))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var e;t+="==".slice(2-(3&t.length));for(var n,i,o="",s=0;s<t.length;)e=Ce.indexOf(t.charAt(s++))<<18|Ce.indexOf(t.charAt(s++))<<12|(n=Ce.indexOf(t.charAt(s++)))<<6|(i=Ce.indexOf(t.charAt(s++))),o+=n===64?String.fromCharCode(e>>16&255):i===64?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,255&e);return o}:atob;var Oi=Qn(se(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});let n="chooseAndUploadFile:ok",i="chooseAndUploadFile:fail";function o(a,c){return a.tempFiles.forEach((l,r)=>{l.name||(l.name=l.path.substring(l.path.lastIndexOf("/")+1)),c&&(l.fileType=c),l.cloudPath=Date.now()+"_"+r+l.name.substring(l.name.lastIndexOf("."))}),a.tempFilePaths||(a.tempFilePaths=a.tempFiles.map(l=>l.path)),a}function s(a,c,{onChooseFile:l,onUploadProgress:r}){return c.then(y=>{if(l){let w=l(y);if(w!==void 0)return Promise.resolve(w).then(E=>E===void 0?y:E)}return y}).then(y=>y===!1?{errMsg:n,tempFilePaths:[],tempFiles:[]}:function(w,E,S=5,C){(E=Object.assign({},E)).errMsg=n;let f=E.tempFiles,u=f.length,h=0;return new Promise(b=>{for(;h<S;)k();function k(){let v=h++;if(v>=u)return void(!f.find(F=>!F.url&&!F.errMsg)&&b(E));let A=f[v];w.uploadFile({filePath:A.path,cloudPath:A.cloudPath,fileType:A.fileType,onUploadProgress(F){F.index=v,F.tempFile=A,F.tempFilePath=A.path,C&&C(F)}}).then(F=>{A.url=F.fileID,v<u&&k()}).catch(F=>{A.errMsg=F.errMsg||F.message,v<u&&k()})}})}(a,y,5,r))}e.initChooseAndUploadFile=function(a){return function(c={type:"all"}){return c.type==="image"?s(a,function(l){let{count:r,sizeType:y,sourceType:w=["album","camera"],extension:E}=l;return new Promise((S,C)=>{uni.chooseImage({count:r,sizeType:y,sourceType:w,extension:E,success(f){S(o(f,"image"))},fail(f){C({errMsg:f.errMsg.replace("chooseImage:fail",i)})}})})}(c),c):c.type==="video"?s(a,function(l){let{camera:r,compressed:y,maxDuration:w,sourceType:E=["album","camera"],extension:S}=l;return new Promise((C,f)=>{uni.chooseVideo({camera:r,compressed:y,maxDuration:w,sourceType:E,extension:S,success(u){let{tempFilePath:h,duration:b,size:k,height:v,width:A}=u;C(o({errMsg:"chooseVideo:ok",tempFilePaths:[h],tempFiles:[{name:u.tempFile&&u.tempFile.name||"",path:h,size:k,type:u.tempFile&&u.tempFile.type||"",width:A,height:v,duration:b,fileType:"video",cloudPath:""}]},"video"))},fail(u){f({errMsg:u.errMsg.replace("chooseVideo:fail",i)})}})})}(c),c):s(a,function(l){let{count:r,extension:y}=l;return new Promise((w,E)=>{let S=uni.chooseFile;if(typeof wx!="undefined"&&typeof wx.chooseMessageFile=="function"&&(S=wx.chooseMessageFile),typeof S!="function")return E({errMsg:i+" \u8BF7\u6307\u5B9A type \u7C7B\u578B\uFF0C\u8BE5\u5E73\u53F0\u4EC5\u652F\u6301\u9009\u62E9 image \u6216 video\u3002"});S({type:"all",count:r,extension:y,success(C){w(o(C))},fail(C){E({errMsg:C.errMsg.replace("chooseFile:fail",i)})}})})}(c),c)}}})),Bi="manual";function $t(t){return{props:{localdata:{type:Array,default:()=>[]},options:{type:[Object,Array],default:()=>({})},spaceInfo:{type:Object,default:()=>({})},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:()=>({mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{}}),created(){this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch(()=>{var e=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach(n=>{e.push(this[n])}),e},(e,n)=>{if(this.loadtime===Bi)return;let i=!1,o=[];for(let s=2;s<e.length;s++)e[s]!==n[s]&&(o.push(e[s]),i=!0);e[0]!==n[0]&&(this.mixinDatacomPage.current=this.pageCurrent),this.mixinDatacomPage.size=this.pageSize,this.onMixinDatacomPropsChange(i,o)})},methods:{onMixinDatacomPropsChange(e,n){},mixinDatacomEasyGet({getone:e=!1,success:n,fail:i}={}){this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomGet().then(o=>{this.mixinDatacomLoading=!1;let{data:s,count:a}=o.result;this.getcount&&(this.mixinDatacomPage.count=a),this.mixinDatacomHasMore=s.length<this.pageSize;let c=e?s.length?s[0]:void 0:s;this.mixinDatacomResData=c,n&&n(c)}).catch(o=>{this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=o,i&&i(o)}))},mixinDatacomGet(e={}){let n=t.database(this.spaceInfo),i=e.action||this.action;i&&(n=n.action(i));let o=e.collection||this.collection;n=Array.isArray(o)?n.collection(...o):n.collection(o);let s=e.where||this.where;s&&Object.keys(s).length&&(n=n.where(s));let a=e.field||this.field;a&&(n=n.field(a));let c=e.foreignKey||this.foreignKey;c&&(n=n.foreignKey(c));let l=e.groupby||this.groupby;l&&(n=n.groupBy(l));let r=e.groupField||this.groupField;r&&(n=n.groupField(r)),(e.distinct!==void 0?e.distinct:this.distinct)===!0&&(n=n.distinct());let y=e.orderby||this.orderby;y&&(n=n.orderBy(y));let w=e.pageCurrent!==void 0?e.pageCurrent:this.mixinDatacomPage.current,E=e.pageSize!==void 0?e.pageSize:this.mixinDatacomPage.size,S=e.getcount!==void 0?e.getcount:this.getcount,C=e.gettree!==void 0?e.gettree:this.gettree,f=e.gettreepath!==void 0?e.gettreepath:this.gettreepath,u={getCount:S},h={limitLevel:e.limitlevel!==void 0?e.limitlevel:this.limitlevel,startWith:e.startwith!==void 0?e.startwith:this.startwith};return C&&(u.getTree=h),f&&(u.getTreePath=h),n=n.skip(E*(w-1)).limit(E).get(u),n}}}}function Li(t){return function(e,n={}){n=function(c,l={}){return c.customUI=l.customUI||c.customUI,Object.assign(c.loadingOptions,l.loadingOptions),Object.assign(c.errorOptions,l.errorOptions),c}({customUI:!1,loadingOptions:{text:"\u52A0\u8F7D\u4E2D...",mask:!0},errorOptions:{type:"modal",retry:!1}},n);let{customUI:i,loadingOptions:o,errorOptions:s}=n,a=!i;return new Proxy({},{get:(c,l)=>function r(...y){return T(this,null,function*(){let w;a&&uni.showLoading({title:o.title,mask:o.mask});try{w=yield t.callFunction({name:e,type:Xn,data:{method:l,params:y}})}catch(C){w={result:C}}let{errCode:E,errMsg:S}=w.result||{};if(a&&uni.hideLoading(),E){if(a)if(s.type==="toast")uni.showToast({title:S,icon:"none"});else{if(s.type!=="modal")throw new Error(`Invalid errorOptions.type: ${s.type}`);{let{confirm:f}=yield function(){return T(this,arguments,function*({title:u,content:h,showCancel:b,cancelText:k,confirmText:v}={}){return new Promise((A,F)=>{uni.showModal({title:u,content:h,showCancel:b,cancelText:k,confirmText:v,success(P){A(P)},fail(){A({confirm:!1,cancel:!0})}})})})}({title:"\u63D0\u793A",content:S,showCancel:s.retry,cancelText:"\u53D6\u6D88",confirmText:s.retry?"\u91CD\u8BD5":"\u786E\u5B9A"});if(s.retry&&f)return r(...y)}}let C=new I({code:E,message:S,requestId:w.requestId});throw C.detail=w.result,C}return w.result})}})}}function Tt(t){if(t.initUniCloudStatus&&t.initUniCloudStatus!=="rejected")return;let e=Promise.resolve();var n;n=1,e=new Promise((o,s)=>{setTimeout(()=>{o()},n)}),t.isReady=!1,t.isDefault=!1;let i=t.auth();t.initUniCloudStatus="pending",t.initUniCloud=e.then(()=>i.getLoginState()).then(o=>o?Promise.resolve():i.signInAnonymously()).then(()=>Promise.resolve()).then(({address:o,port:s}={})=>Promise.resolve()).then(()=>{t.isReady=!0,t.initUniCloudStatus="fulfilled"}).catch(o=>{console.error(o),t.initUniCloudStatus="rejected"})}var H=new class{init(t){let e={},n=t.debugFunction!==!1&&Pt&&Ot==="app-plus";switch(t.provider){case"tencent":e=bi.init(Object.assign(t,{useDebugFunction:n}));break;case"aliyun":e=si.init(Object.assign(t,{useDebugFunction:n}));break;case"private":e=Ei.init(Object.assign(t,{useDebugFunction:n}));break;default:throw new Error("\u672A\u63D0\u4F9B\u6B63\u786E\u7684provider\u53C2\u6570")}return Tt(e),e.reInit=function(){Tt(this)},Di(e),function(i){let o=i.uploadFile;i.uploadFile=function(s){return o.call(this,s)}}(e),xi(e),function(i){i.getCurrentUserInfo=Pi,i.chooseAndUploadFile=Oi.initChooseAndUploadFile(i),Object.assign(i,{get mixinDatacom(){return $t(i)}}),i.importObject=Li(i)}(e),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach(i=>{if(!e[i])return;let o=e[i];e[i]=function(){return e.reInit(),o.apply(e,Array.from(arguments))},e[i]=Rt(e[i],i).bind(e)}),e.init=this.init,e}};(()=>{{let t=ti,e={};if(t.length===1)e=t[0],H=H.init(e),H.isDefault=!0;else{let n=["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"],i;i=t&&t.length>0?"\u5E94\u7528\u6709\u591A\u4E2A\u670D\u52A1\u7A7A\u95F4\uFF0C\u8BF7\u901A\u8FC7uniCloud.init\u65B9\u6CD5\u6307\u5B9A\u8981\u4F7F\u7528\u7684\u670D\u52A1\u7A7A\u95F4":"\u5E94\u7528\u672A\u5173\u8054\u670D\u52A1\u7A7A\u95F4\uFF0C\u8BF7\u5728uniCloud\u76EE\u5F55\u53F3\u952E\u5173\u8054\u670D\u52A1\u7A7A\u95F4",n.forEach(o=>{H[o]=function(){return console.error(i),Promise.reject(new I({code:"SYS_ERR",message:i}))}})}Object.assign(H,{get mixinDatacom(){return $t(H)}}),H.addInterceptor=ni,H.removeInterceptor=ii}})();var Xt=H;var x=ee(Z());var Ui={"uni-section":{"":{backgroundColor:"#ffffff",marginTop:10}},"uni-section-header":{"":{position:"relative",flexDirection:"row",alignItems:"center",paddingTop:12,paddingRight:10,paddingBottom:12,paddingLeft:10,fontWeight:"normal"}},"uni-section__head":{"":{flexDirection:"row",justifyContent:"center",alignItems:"center",marginRight:10}},line:{"":{height:12,backgroundColor:"#2979ff",borderRadius:10,width:4}},circle:{"":{width:8,height:8,borderTopRightRadius:50,borderTopLeftRadius:50,borderBottomLeftRadius:50,borderBottomRightRadius:50,backgroundColor:"#2979ff"}},"uni-section__content":{"":{flexDirection:"column",flex:1,color:"#333333"}},"uni-section__content-title":{"":{fontSize:14,color:"#2979ff"}},distraction:{"":{flexDirection:"row",alignItems:"center"}},"uni-section__content-sub":{"":{fontSize:12,color:"#999999",lineHeight:16,marginTop:2}},"is--hidden":{"":{overflow:"hidden"}}},Ri={name:"UniSection",emits:["click"],props:{type:{type:String,default:""},title:{type:String,default:""},color:{type:String,default:"#333"},subTitle:{type:String,default:""},padding:{type:Boolean,default:!1},overflow:{type:Boolean,default:!1}},data(){return{}},watch:{title(t){uni.report&&t!==""&&uni.report("title",t)}},methods:{onClick(){this.$emit("click")}}};function Ni(t,e,n,i,o,s){return(0,x.openBlock)(),(0,x.createElementBlock)("view",{class:"uni-section"},[(0,x.createElementVNode)("view",{class:"uni-section-header",nvue:""},[n.type?((0,x.openBlock)(),(0,x.createElementBlock)("view",{key:0,class:"uni-section__head"},[(0,x.createElementVNode)("view",{class:(0,x.normalizeClass)([n.type,"uni-section__head-tag"])},null,2)])):(0,x.createCommentVNode)("",!0),(0,x.createElementVNode)("view",{class:"uni-section__content"},[(0,x.createElementVNode)("u-text",{class:(0,x.normalizeClass)([{distraction:!n.subTitle},"uni-section__content-title"]),style:(0,x.normalizeStyle)({color:n.color})},(0,x.toDisplayString)(n.title),7),n.subTitle?((0,x.openBlock)(),(0,x.createElementBlock)("u-text",{key:0,class:"uni-section__content-sub"},(0,x.toDisplayString)(n.subTitle),1)):(0,x.createCommentVNode)("",!0)]),(0,x.createElementVNode)("view",null,[(0,x.renderSlot)(t.$slots,"right")])]),(0,x.createElementVNode)("view",{class:(0,x.normalizeClass)({"is--hidden":n.overflow}),style:(0,x.normalizeStyle)({padding:n.padding?"10px":""})},[(0,x.renderSlot)(t.$slots,"default")],6)])}var en=M(Ri,[["render",Ni],["styles",[Ui]]]);var tn={props:{localdata:{type:[Array,Object],default(){return[]}},spaceInfo:{type:Object,default(){return{}}},collection:{type:String,default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},getone:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},manual:{type:Boolean,default:!1},value:{type:[Array,String,Number],default(){return[]}},modelValue:{type:[Array,String,Number],default(){return[]}},preload:{type:Boolean,default:!1},stepSearh:{type:Boolean,default:!0},selfField:{type:String,default:""},parentField:{type:String,default:""},multiple:{type:Boolean,default:!1},map:{type:Object,default(){return{text:"text",value:"value"}}}},data(){return{loading:!1,errorMessage:"",loadMore:{contentdown:"",contentrefresh:"",contentnomore:""},dataList:[],selected:[],selectedIndex:0,page:{current:this.pageCurrent,size:this.pageSize,count:0}}},computed:{isLocaldata(){return!this.collection.length},postField(){let t=[this.field];return this.parentField&&t.push(`${this.parentField} as parent_value`),t.join(",")},dataValue(){return(Array.isArray(this.modelValue)?this.modelValue.length>0:this.modelValue!==null||this.modelValue!==void 0)?this.modelValue:this.value},hasValue(){return typeof this.dataValue=="number"?!0:this.dataValue!=null&&this.dataValue.length>0}},created(){this.$watch(()=>{var t=[];return["pageCurrent","pageSize","spaceInfo","value","modelValue","localdata","collection","action","field","orderby","where","getont","getcount","gettree"].forEach(e=>{t.push(this[e])}),t},(t,e)=>{for(let n=2;n<t.length&&t[n]==e[n];n++);t[0]!=e[0]&&(this.page.current=this.pageCurrent),this.page.size=this.pageSize,this.onPropsChange()}),this._treeData=[]},methods:{onPropsChange(){this._treeData=[]},getCommand(t={}){let e=Xt.database(this.spaceInfo),n=t.action||this.action;n&&(e=e.action(n));let i=t.collection||this.collection;e=e.collection(i);let o=t.where||this.where;!o||!Object.keys(o).length||(e=e.where(o));let s=t.field||this.field;s&&(e=e.field(s));let a=t.orderby||this.orderby;a&&(e=e.orderBy(a));let c=t.pageCurrent!==void 0?t.pageCurrent:this.page.current,l=t.pageSize!==void 0?t.pageSize:this.page.size,r=t.getcount!==void 0?t.getcount:this.getcount,y=t.gettree!==void 0?t.gettree:this.gettree,w={getCount:r,getTree:y};return t.getTreePath&&(w.getTreePath=t.getTreePath),e=e.skip(l*(c-1)).limit(l).get(w),e},getNodeData(t){this.loading||(this.loading=!0,this.getCommand({field:this.postField,where:this._pathWhere()}).then(e=>{this.loading=!1,this.selected=e.result.data,t&&t()}).catch(e=>{this.loading=!1,this.errorMessage=e}))},getTreePath(t){this.loading||(this.loading=!0,this.getCommand({field:this.postField,getTreePath:{startWith:`${this.selfField}=='${this.dataValue}'`}}).then(e=>{this.loading=!1;let n=[];this._extractTreePath(e.result.data,n),this.selected=n,t&&t()}).catch(e=>{this.loading=!1,this.errorMessage=e}))},loadData(){if(this.isLocaldata){this._processLocalData();return}if(this.dataValue!=null){this._loadNodeData(t=>{this._treeData=t,this._updateBindData(),this._updateSelected()});return}this.stepSearh?this._loadNodeData(t=>{this._treeData=t,this._updateBindData()}):this._loadAllData(t=>{this._treeData=[],this._extractTree(t,this._treeData,null),this._updateBindData()})},_loadAllData(t){this.loading||(this.loading=!0,this.getCommand({field:this.postField,gettree:!0,startwith:`${this.selfField}=='${this.dataValue}'`}).then(e=>{this.loading=!1,t(e.result.data),this.onDataChange()}).catch(e=>{this.loading=!1,this.errorMessage=e}))},_loadNodeData(t,e){this.loading||(this.loading=!0,this.getCommand({field:this.postField,where:e||this._postWhere(),pageSize:500}).then(n=>{this.loading=!1,t(n.result.data),this.onDataChange()}).catch(n=>{this.loading=!1,this.errorMessage=n}))},_pathWhere(){let t=[],e=this._getParentNameByField();return e&&t.push(`${e} == '${this.dataValue}'`),this.where?`(${this.where}) && (${t.join(" || ")})`:t.join(" || ")},_postWhere(){let t=[],e=this.selected,n=this.parentField;if(n&&t.push(`${n} == null || ${n} == ""`),e.length)for(var i=0;i<e.length-1;i++)t.push(`${n} == '${e[i].value}'`);let o=[];return this.where&&o.push(`(${this.where})`),t.length&&o.push(`(${t.join(" || ")})`),o.join(" && ")},_nodeWhere(){let t=[],e=this.selected;return e.length&&t.push(`${this.parentField} == '${e[e.length-1].value}'`),this.where?`(${this.where}) && (${t.join(" || ")})`:t.join(" || ")},_getParentNameByField(){let t=this.field.split(","),e=null;for(let n=0;n<t.length;n++){let i=t[n].split("as");if(!(i.length<2)&&i[1].trim()==="value"){e=i[0].trim();break}}return e},_isTreeView(){return this.parentField&&this.selfField},_updateSelected(){var t=this.dataList,e=this.selected;let n=this.map.text,i=this.map.value;for(var o=0;o<e.length;o++)for(var s=e[o].value,a=t[o],c=0;c<a.length;c++){var l=a[c];if(l[i]===s){e[o].text=l[n];break}}},_updateBindData(t){let{dataList:e,hasNodes:n}=this._filterData(this._treeData,this.selected),i=this._stepSearh===!1&&!n;return t&&(t.isleaf=i),this.dataList=e,this.selectedIndex=e.length-1,!i&&this.selected.length<e.length&&this.selected.push({value:null,text:"\u8BF7\u9009\u62E9"}),{isleaf:i,hasNodes:n}},_filterData(t,e){let n=[],i=!0;n.push(t.filter(a=>a.parent_value===null||a.parent_value===void 0||a.parent_value===""));for(let a=0;a<e.length;a++){var o=e[a].value,s=t.filter(c=>c.parent_value===o);s.length?n.push(s):i=!1}return{dataList:n,hasNodes:i}},_extractTree(t,e,n){let i=this.map.value;for(let o=0;o<t.length;o++){let s=t[o],a={};for(let l in s)l!=="children"&&(a[l]=s[l]);n!=null&&n!==""&&(a.parent_value=n),e.push(a);let c=s.children;c&&this._extractTree(c,e,s[i])}},_extractTreePath(t,e){for(let n=0;n<t.length;n++){let i=t[n],o={};for(let a in i)a!=="children"&&(o[a]=i[a]);e.push(o);let s=i.children;s&&this._extractTreePath(s,e)}},_findNodePath(t,e,n=[]){let i=this.map.text,o=this.map.value;for(let s=0;s<e.length;s++){let a=e[s],c=a.children,l=a[i],r=a[o];if(n.push({value:r,text:l}),r===t)return n;if(c){let y=this._findNodePath(t,c,n);if(y.length)return y}n.pop()}return[]},_processLocalData(){this._treeData=[],this._extractTree(this.localdata,this._treeData);var t=this.dataValue;t!==void 0&&(Array.isArray(t)&&(t=t[t.length-1],typeof t=="object"&&t[this.map.value]&&(t=t[this.map.value])),this.selected=this._findNodePath(t,this.localdata))}}},Mi={"uni-data-pickerview":{"":{flex:1,flexDirection:"column",overflow:"hidden",height:100}},"error-text":{"":{color:"#DD524D"}},"loading-cover":{"":{position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"rgba(255,255,255,0.5)",flexDirection:"column",alignItems:"center",zIndex:1001}},"error-message":{"":{backgroundColor:"#ffffff",position:"absolute",left:0,top:0,right:0,bottom:0,paddingTop:15,paddingRight:15,paddingBottom:15,paddingLeft:15,opacity:.9,zIndex:102}},"selected-area":{"":{width:"750rpx"}},"selected-list":{"":{flexDirection:"row",flexWrap:"nowrap",paddingTop:0,paddingRight:5,paddingBottom:0,paddingLeft:5,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#f8f8f8"}},"selected-item":{"":{marginLeft:10,marginRight:10,paddingTop:12,paddingRight:0,paddingBottom:12,paddingLeft:0,textAlign:"center"}},"selected-item-text-overflow":{"":{width:168,overflow:"hidden"}},"selected-item-active":{"":{borderBottomWidth:2,borderBottomStyle:"solid",borderBottomColor:"#007aff"}},"selected-item-text":{"":{color:"#007aff"}},"tab-c":{"":{position:"relative",flex:1,flexDirection:"row",overflow:"hidden"}},list:{"":{flex:1}},item:{"":{paddingTop:12,paddingRight:15,paddingBottom:12,paddingLeft:15,flexDirection:"row",justifyContent:"space-between"}},"is-disabled":{"":{opacity:.5}},"item-text":{"":{color:"#333333"}},"item-text-overflow":{"":{width:280,overflow:"hidden"}},check:{"":{marginRight:5,borderWidth:2,borderStyle:"solid",borderColor:"#007aff",borderLeftWidth:0,borderLeftStyle:"solid",borderLeftColor:"#000000",borderTopWidth:0,borderTopStyle:"solid",borderTopColor:"#000000",height:12,width:6,transformOrigin:"center",transform:"rotate(45deg)"}}},ji={name:"UniDataPickerView",emits:["nodeclick","change","datachange","update:modelValue"],mixins:[tn],props:{managedMode:{type:Boolean,default:!1},ellipsis:{type:Boolean,default:!0}},data(){return{}},created(){this.managedMode||this.$nextTick(()=>{this.load()})},methods:{onPropsChange(){this._treeData=[],this.selectedIndex=0,this.load()},load(){this.isLocaldata?this.loadData():this.dataValue.length&&this.getTreePath(t=>{this.loadData()})},handleSelect(t){this.selectedIndex=t},handleNodeClick(t,e,n){if(t.disable)return;let i=this.dataList[e][n],o=i[this.map.text],s=i[this.map.value];if(e<this.selected.length-1?(this.selected.splice(e,this.selected.length-e),this.selected.push({text:o,value:s})):e===this.selected.length-1&&this.selected.splice(e,1,{text:o,value:s}),i.isleaf){this.onSelectedChange(i,i.isleaf);return}let{isleaf:a,hasNodes:c}=this._updateBindData();if(!this._isTreeView()&&!c){this.onSelectedChange(i,!0);return}if(this.isLocaldata&&(!c||a)){this.onSelectedChange(i,!0);return}if(!a&&!c){this._loadNodeData(l=>{l.length?(this._treeData.push(...l),this._updateBindData(i)):i.isleaf=!0,this.onSelectedChange(i,i.isleaf)},this._nodeWhere());return}this.onSelectedChange(i,!1)},updateData(t){this._treeData=t.treeData,this.selected=t.selected,this._treeData.length?this._updateBindData():this.loadData()},onDataChange(){this.$emit("datachange")},onSelectedChange(t,e){e&&this._dispatchEvent(),t&&this.$emit("nodeclick",t)},_dispatchEvent(){this.$emit("change",this.selected.slice(0))}}};function qi(t,e,n,i,o,s){let a=Q((0,d.resolveDynamicComponent)("uni-load-more"),qe);return(0,d.openBlock)(),(0,d.createElementBlock)("view",{class:"uni-data-pickerview"},[(0,d.createElementVNode)("scroll-view",{class:"selected-area",scrollX:"true",scrollY:"false",showScrollbar:!1},[(0,d.createElementVNode)("view",{class:"selected-list"},[((0,d.openBlock)(!0),(0,d.createElementBlock)(d.Fragment,null,(0,d.renderList)(t.selected,(c,l)=>((0,d.openBlock)(),(0,d.createElementBlock)(d.Fragment,null,[c.text?((0,d.openBlock)(),(0,d.createElementBlock)("view",{class:(0,d.normalizeClass)(["selected-item",{"selected-item-active":l==t.selectedIndex,"selected-item-text-overflow":n.ellipsis}]),key:l,onClick:r=>s.handleSelect(l)},[(0,d.createElementVNode)("u-text",{class:""},(0,d.toDisplayString)(c.text),1)],10,["onClick"])):(0,d.createCommentVNode)("",!0)],64))),256))])]),(0,d.createElementVNode)("view",{class:"tab-c"},[((0,d.openBlock)(!0),(0,d.createElementBlock)(d.Fragment,null,(0,d.renderList)(t.dataList,(c,l)=>((0,d.openBlock)(),(0,d.createElementBlock)(d.Fragment,null,[l==t.selectedIndex?((0,d.openBlock)(),(0,d.createElementBlock)("scroll-view",{class:"list",key:l,scrollY:!0},[((0,d.openBlock)(!0),(0,d.createElementBlock)(d.Fragment,null,(0,d.renderList)(c,(r,y)=>((0,d.openBlock)(),(0,d.createElementBlock)("view",{class:(0,d.normalizeClass)(["item",{"is-disabled":!!r.disable}]),key:y,onClick:w=>s.handleNodeClick(r,l,y)},[(0,d.createElementVNode)("u-text",{class:"item-text item-text-overflow"},(0,d.toDisplayString)(r[t.map.text]),1),t.selected.length>l&&r[t.map.value]==t.selected[l].value?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,class:"check"})):(0,d.createCommentVNode)("",!0)],10,["onClick"]))),128))])):(0,d.createCommentVNode)("",!0)],64))),256)),t.loading?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,class:"loading-cover"},[(0,d.createVNode)(a,{class:"load-more",contentText:t.loadMore,status:"loading"},null,8,["contentText"])])):(0,d.createCommentVNode)("",!0),t.errorMessage?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,class:"error-message"},[(0,d.createElementVNode)("u-text",{class:"error-text"},(0,d.toDisplayString)(t.errorMessage),1)])):(0,d.createCommentVNode)("",!0)])])}var zi=M(ji,[["render",qi],["styles",[Mi]]]),Vi={"uni-data-tree":{"":{position:"relative",fontSize:14}},"error-text":{"":{color:"#DD524D"}},"input-value":{"":{flexDirection:"row",alignItems:"center",flexWrap:"nowrap",fontSize:14,lineHeight:38,paddingTop:0,paddingRight:5,paddingBottom:0,paddingLeft:5,overflow:"hidden",height:40}},"input-value-border":{"":{borderWidth:1,borderStyle:"solid",borderColor:"#e5e5e5",borderRadius:5}},"selected-area":{"":{flex:1,overflow:"hidden",flexDirection:"row"}},"load-more":{"":{width:40}},"selected-list":{"":{flexDirection:"row",flexWrap:"nowrap",paddingTop:0,paddingRight:5,paddingBottom:0,paddingLeft:5}},"selected-item":{"":{flexDirection:"row",paddingTop:0,paddingRight:1,paddingBottom:0,paddingLeft:1}},placeholder:{"":{color:"#808080"}},"input-split-line":{"":{opacity:.5}},"arrow-area":{"":{position:"relative",width:20,justifyContent:"center",transform:"rotate(-45deg)",transformOrigin:"center"}},"input-arrow":{"":{width:7,height:7,borderLeftWidth:1,borderLeftStyle:"solid",borderLeftColor:"#999999",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#999999"}},"uni-data-tree-cover":{"":{position:"fixed",left:0,top:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",flexDirection:"column",zIndex:100}},"uni-data-tree-dialog":{"":{position:"fixed",left:0,top:20,right:0,bottom:0,backgroundColor:"#FFFFFF",borderTopLeftRadius:10,borderTopRightRadius:10,flexDirection:"column",zIndex:102,overflow:"hidden",width:"750rpx"}},"dialog-caption":{"":{position:"relative",flexDirection:"row"}},"title-area":{"":{alignItems:"center",paddingTop:0,paddingRight:10,paddingBottom:0,paddingLeft:10}},"dialog-title":{"":{lineHeight:44}},"dialog-close":{"":{position:"absolute",top:0,right:0,bottom:0,flexDirection:"row",alignItems:"center",paddingTop:0,paddingRight:15,paddingBottom:0,paddingLeft:15}},"dialog-close-plus":{"":{width:16,height:2,backgroundColor:"#666666",borderRadius:2,transform:"rotate(45deg)"}},"dialog-close-rotate":{"":{position:"absolute",transform:"rotate(-45deg)"}},"picker-view":{"":{flex:1,overflow:"hidden"}}},Wi={name:"UniDataPicker",emits:["popupopened","popupclosed","nodeclick","input","change","update:modelValue"],mixins:[tn],components:{DataPickerView:zi},props:{options:{type:[Object,Array],default(){return{}}},popupTitle:{type:String,default:"\u8BF7\u9009\u62E9"},placeholder:{type:String,default:"\u8BF7\u9009\u62E9"},heightMobile:{type:String,default:""},readonly:{type:Boolean,default:!1},clearIcon:{type:Boolean,default:!0},border:{type:Boolean,default:!0},split:{type:String,default:"/"},ellipsis:{type:Boolean,default:!0}},data(){return{isOpened:!1,inputSelected:[]}},created(){this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.formItem&&this.formItem.name&&(this.rename=this.formItem.name,this.form.inputChildrens.push(this)),this.$nextTick(()=>{this.load()})},methods:{clear(){this.inputSelected.splice(0),this._dispatchEvent([])},onPropsChange(){this._treeData=[],this.selectedIndex=0,this.load()},load(){if(this.readonly){this._processReadonly(this.localdata,this.dataValue);return}this.isLocaldata?(this.loadData(),this.inputSelected=this.selected.slice(0)):!this.parentField&&!this.selfField&&this.hasValue?this.getNodeData(()=>{this.inputSelected=this.selected.slice(0)}):this.hasValue&&this.getTreePath(()=>{this.inputSelected=this.selected.slice(0)})},getForm(t="uniForms"){let e=this.$parent,n=e.$options.name;for(;n!==t;){if(e=e.$parent,!e)return!1;n=e.$options.name}return e},show(){this.isOpened=!0,this.$nextTick(()=>{this.$refs.pickerView.updateData({treeData:this._treeData,selected:this.selected,selectedIndex:this.selectedIndex})}),this.$emit("popupopened")},hide(){this.isOpened=!1,this.$emit("popupclosed")},handleInput(){this.readonly||this.show()},handleClose(t){this.hide()},onnodeclick(t){this.$emit("nodeclick",t)},ondatachange(t){this._treeData=this.$refs.pickerView._treeData},onchange(t){this.hide(),this.inputSelected=t,this._dispatchEvent(t)},_processReadonly(t,e){var n=t.findIndex(a=>a.children);if(n>-1){let a;Array.isArray(e)?(a=e[e.length-1],typeof a=="object"&&a.value&&(a=a.value)):a=e,this.inputSelected=this._findNodePath(a,this.localdata);return}if(!this.hasValue){this.inputSelected=[];return}let i=[];for(let a=0;a<e.length;a++){var o=e[a],s=t.find(c=>c.value==o);s&&i.push(s)}i.length&&(this.inputSelected=i)},_filterForArray(t,e){var n=[];for(let s=0;s<e.length;s++){var i=e[s],o=t.find(a=>a.value==i);o&&n.push(o)}return n},_dispatchEvent(t){let e={};if(t.length){for(var n=new Array(t.length),i=0;i<t.length;i++)n[i]=t[i].value;e=t[t.length-1]}else e.value="";this.formItem&&this.formItem.setValue(e.value),this.$emit("input",e.value),this.$emit("update:modelValue",e.value),this.$emit("change",{detail:{value:t}})}}};function Hi(t,e,n,i,o,s){let a=Q((0,d.resolveDynamicComponent)("uni-load-more"),qe),c=Q((0,d.resolveDynamicComponent)("uni-icons"),mt),l=(0,d.resolveComponent)("data-picker-view");return(0,d.openBlock)(),(0,d.createElementBlock)("view",{class:"uni-data-tree"},[(0,d.createElementVNode)("view",{class:"uni-data-tree-input",onClick:e[1]||(e[1]=(...r)=>s.handleInput&&s.handleInput(...r))},[(0,d.renderSlot)(t.$slots,"default",{options:n.options,data:o.inputSelected,error:t.errorMessage},()=>[(0,d.createElementVNode)("view",{class:(0,d.normalizeClass)(["input-value",{"input-value-border":n.border}])},[t.errorMessage?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:0,class:"selected-area error-text"},(0,d.toDisplayString)(t.errorMessage),1)):t.loading&&!o.isOpened?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,class:"selected-area"},[(0,d.createVNode)(a,{class:"load-more",contentText:t.loadMore,status:"loading"},null,8,["contentText"])])):o.inputSelected.length?((0,d.openBlock)(),(0,d.createElementBlock)("scroll-view",{key:2,class:"selected-area",scrollX:"true"},[(0,d.createElementVNode)("view",{class:"selected-list"},[((0,d.openBlock)(!0),(0,d.createElementBlock)(d.Fragment,null,(0,d.renderList)(o.inputSelected,(r,y)=>((0,d.openBlock)(),(0,d.createElementBlock)("view",{class:"selected-item",key:y},[(0,d.createElementVNode)("u-text",null,(0,d.toDisplayString)(r.text),1),y<o.inputSelected.length-1?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:0,class:"input-split-line"},(0,d.toDisplayString)(n.split),1)):(0,d.createCommentVNode)("",!0)]))),128))])])):((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:3,class:"selected-area placeholder"},(0,d.toDisplayString)(n.placeholder),1)),n.clearIcon&&!n.readonly&&o.inputSelected.length?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:4,class:"icon-clear",onClick:e[0]||(e[0]=(0,d.withModifiers)((...r)=>s.clear&&s.clear(...r),["stop"]))},[(0,d.createVNode)(c,{type:"clear",color:"#e1e1e1",size:"14"})])):(0,d.createCommentVNode)("",!0),(!n.clearIcon||!o.inputSelected.length)&&!n.readonly?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:5,class:"arrow-area"},[(0,d.createElementVNode)("view",{class:"input-arrow"})])):(0,d.createCommentVNode)("",!0)],2)])]),o.isOpened?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,class:"uni-data-tree-cover",onClick:e[2]||(e[2]=(...r)=>s.handleClose&&s.handleClose(...r))})):(0,d.createCommentVNode)("",!0),o.isOpened?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,class:"uni-data-tree-dialog"},[(0,d.createElementVNode)("view",{class:"uni-popper__arrow"}),(0,d.createElementVNode)("view",{class:"dialog-caption"},[(0,d.createElementVNode)("view",{class:"title-area"},[(0,d.createElementVNode)("u-text",{class:"dialog-title"},(0,d.toDisplayString)(n.popupTitle),1)]),(0,d.createElementVNode)("view",{class:"dialog-close",onClick:e[3]||(e[3]=(...r)=>s.handleClose&&s.handleClose(...r))},[(0,d.createElementVNode)("view",{class:"dialog-close-plus","data-id":"close"}),(0,d.createElementVNode)("view",{class:"dialog-close-plus dialog-close-rotate","data-id":"close"})])]),(0,d.createVNode)(l,{class:"picker-view",ref:"pickerView",modelValue:t.dataValue,"onUpdate:modelValue":e[4]||(e[4]=r=>t.dataValue=r),localdata:t.localdata,preload:t.preload,collection:t.collection,field:t.field,orderby:t.orderby,where:t.where,"step-searh":t.stepSearh,"self-field":t.selfField,"parent-field":t.parentField,"managed-mode":!0,map:t.map,ellipsis:n.ellipsis,onChange:s.onchange,onDatachange:s.ondatachange,onNodeclick:s.onnodeclick},null,8,["modelValue","localdata","preload","collection","field","orderby","where","step-searh","self-field","parent-field","map","ellipsis","onChange","onDatachange","onNodeclick"])])):(0,d.createCommentVNode)("",!0)])}var Ji=M(Wi,[["render",Hi],["styles",[Vi]]]),Ki={title:{"":{fontSize:14,fontWeight:"bold",marginTop:20,marginRight:0,marginBottom:5,marginLeft:0}},"data-pickerview":{"":{height:400,borderWidth:1,borderStyle:"solid",borderColor:"#e5e5e5"}},popper__arrow:{"":{top:-6,left:50,marginRight:3,borderTopWidth:0,borderBottomColor:"#EBEEF5"}}},Gi={data(){return{classes:"1-2",dataTree:[{text:"\u4E00\u5E74\u7EA7",value:"1-0",children:[{text:"1.1\u73ED",value:"1-1"},{text:"1.2\u73ED",value:"1-2"}]},{text:"\u4E8C\u5E74\u7EA7",value:"2-0",children:[{text:"2.1\u73ED",value:"2-1"},{text:"2.2\u73ED",value:"2-2"}]},{text:"\u4E09\u5E74\u7EA7",value:"3-0",disable:!0}]}},methods:{onnodeclick(t){oe("log","at pages/extUI/data-picker/data-picker.nvue:71",t)},onpopupopened(t){oe("log","at pages/extUI/data-picker/data-picker.nvue:74","popupopened")},onpopupclosed(t){oe("log","at pages/extUI/data-picker/data-picker.nvue:77","popupclosed")},onchange(t){oe("log","at pages/extUI/data-picker/data-picker.nvue:80","---------onchange:",t)}}};function Yi(t,e,n,i,o,s){let a=Q((0,d.resolveDynamicComponent)("uni-card"),lt),c=Q((0,d.resolveDynamicComponent)("uni-data-picker"),Ji),l=Q((0,d.resolveDynamicComponent)("uni-section"),en);return(0,d.openBlock)(),(0,d.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,d.createElementVNode)("view",{class:"container"},[(0,d.createVNode)(a,{"is-full":"","is-shadow":!1},{default:(0,d.withCtx)(()=>[(0,d.createElementVNode)("u-text",{class:"uni-h6"},"\u6807\u7B7E\u7EC4\u4EF6\u591A\u7528\u4E8E\u5546\u54C1\u5206\u7C7B\u3001\u91CD\u70B9\u5185\u5BB9\u663E\u793A\u7B49\u573A\u666F\u3002")]),_:1}),(0,d.createVNode)(l,{title:"\u672C\u5730\u6570\u636E",type:"line",padding:"",style:{height:"calc(100vh - 100px)"}},{default:(0,d.withCtx)(()=>[(0,d.createVNode)(c,{placeholder:"\u8BF7\u9009\u62E9\u73ED\u7EA7","popup-title":"\u8BF7\u9009\u62E9\u6240\u5728\u5730\u533A",localdata:o.dataTree,modelValue:o.classes,"onUpdate:modelValue":e[0]||(e[0]=r=>o.classes=r),onChange:s.onchange,onNodeclick:s.onnodeclick,onPopupopened:s.onpopupopened,onPopupclosed:s.onpopupclosed},null,8,["localdata","modelValue","onChange","onNodeclick","onPopupopened","onPopupclosed"])]),_:1})])])}var Be=M(Gi,[["render",Yi],["styles",[Ki]]]);var st=plus.webview.currentWebview();if(st){let t=parseInt(st.id),e="pages/extUI/data-picker/data-picker",n={};try{n=JSON.parse(st.__query__)}catch(o){}Be.mpType="page";let i=Vue.createPageApp(Be,{$store:getApp({allowDefault:!0}).$store,__pageId:t,__pagePath:e,__pageQuery:n});i.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...Be.styles||[]])),i.mount("#root")}})();
