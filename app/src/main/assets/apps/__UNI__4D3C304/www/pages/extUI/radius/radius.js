"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var Xt=Object.create;var st=Object.defineProperty;var $t=Object.getOwnPropertyDescriptor;var es=Object.getOwnPropertyNames;var ts=Object.getPrototypeOf,ss=Object.prototype.hasOwnProperty;var is=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var ns=(s,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of es(e))!ss.call(s,n)&&n!==t&&st(s,n,{get:()=>e[n],enumerable:!(i=$t(e,n))||i.enumerable});return s};var $=(s,e,t)=>(t=s!=null?Xt(ts(s)):{},ns(e||!s||!s.__esModule?st(t,"default",{value:s,enumerable:!0}):t,s));var T=(s,e,t)=>new Promise((i,n)=>{var r=l=>{try{u(t.next(l))}catch(a){n(a)}},o=l=>{try{u(t.throw(l))}catch(a){n(a)}},u=l=>l.done?i(l.value):Promise.resolve(l.value).then(r,o);u((t=t.apply(s,e)).next())});var Z=is((Ti,it)=>{it.exports=Vue});var D=$(Z());var q=(s,e)=>{let t=s.__vccOpts||s;for(let[i,n]of e)t[i]=n;return t};var rs={"uni-card":{"":{marginTop:10,marginRight:10,marginBottom:10,marginLeft:10,paddingTop:0,paddingRight:8,paddingBottom:0,paddingLeft:8,borderRadius:4,overflow:"hidden",fontFamily:"Helvetica Neue, Helvetica, PingFang SC, Hiragino Sans GB, Microsoft YaHei, SimSun, sans-serif",backgroundColor:"#ffffff",flex:1}},"uni-card__cover":{".uni-card ":{position:"relative",marginTop:10,flexDirection:"row",overflow:"hidden",borderRadius:4}},"uni-card__cover-image":{".uni-card .uni-card__cover ":{flex:1}},"uni-card__header":{".uni-card ":{display:"flex",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#EBEEF5",flexDirection:"row",alignItems:"center",paddingTop:10,paddingRight:10,paddingBottom:10,paddingLeft:10,overflow:"hidden"}},"uni-card__header-box":{".uni-card .uni-card__header ":{flex:1,flexDirection:"row",alignItems:"center",overflow:"hidden"}},"uni-card__header-avatar":{".uni-card .uni-card__header ":{width:40,height:40,overflow:"hidden",borderRadius:5,marginRight:10}},"uni-card__header-avatar-image":{".uni-card .uni-card__header .uni-card__header-avatar ":{flex:1,width:40,height:40}},"uni-card__header-content":{".uni-card .uni-card__header ":{flexDirection:"column",justifyContent:"center",flex:1,overflow:"hidden"}},"uni-card__header-content-title":{".uni-card .uni-card__header .uni-card__header-content ":{fontSize:15,color:"#3a3a3a"}},"uni-card__header-content-subtitle":{".uni-card .uni-card__header .uni-card__header-content ":{fontSize:12,marginTop:5,color:"#909399"}},"uni-card__header-extra":{".uni-card .uni-card__header ":{lineHeight:12}},"uni-card__header-extra-text":{".uni-card .uni-card__header .uni-card__header-extra ":{fontSize:12,color:"#909399"}},"uni-card__content":{".uni-card ":{paddingTop:10,paddingRight:10,paddingBottom:10,paddingLeft:10,fontSize:14,color:"#6a6a6a",lineHeight:22}},"uni-card__actions":{".uni-card ":{fontSize:12}},"uni-card--border":{"":{borderWidth:1,borderStyle:"solid",borderColor:"#EBEEF5"}},"uni-card--shadow":{"":{position:"relative"}},"uni-card--full":{"":{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,borderLeftWidth:0,borderRadius:0}},"uni-ellipsis":{"":{lines:1}}},os={name:"UniCard",emits:["click"],props:{title:{type:String,default:""},subTitle:{type:String,default:""},padding:{type:String,default:"10px"},margin:{type:String,default:"15px"},spacing:{type:String,default:"0 10px"},extra:{type:String,default:""},cover:{type:String,default:""},thumbnail:{type:String,default:""},isFull:{type:Boolean,default:!1},isShadow:{type:Boolean,default:!0},shadow:{type:String,default:"0px 0px 3px 1px rgba(0, 0, 0, 0.08)"},border:{type:Boolean,default:!0}},methods:{onClick(s){this.$emit("click",s)}}};function as(s,e,t,i,n,r){return(0,D.openBlock)(),(0,D.createElementBlock)("view",{class:(0,D.normalizeClass)(["uni-card",{"uni-card--full":t.isFull,"uni-card--shadow":t.isShadow,"uni-card--border":t.border}]),style:(0,D.normalizeStyle)({margin:t.isFull?0:t.margin,padding:t.spacing,"box-shadow":t.isShadow?t.shadow:""})},[(0,D.renderSlot)(s.$slots,"cover",{},()=>[t.cover?((0,D.openBlock)(),(0,D.createElementBlock)("view",{key:0,class:"uni-card__cover"},[(0,D.createElementVNode)("u-image",{class:"uni-card__cover-image",mode:"widthFix",onClick:e[0]||(e[0]=o=>r.onClick("cover")),src:t.cover},null,8,["src"])])):(0,D.createCommentVNode)("",!0)]),(0,D.renderSlot)(s.$slots,"title",{},()=>[t.title||t.extra?((0,D.openBlock)(),(0,D.createElementBlock)("view",{key:0,class:"uni-card__header"},[(0,D.createElementVNode)("view",{class:"uni-card__header-box",onClick:e[1]||(e[1]=o=>r.onClick("title"))},[t.thumbnail?((0,D.openBlock)(),(0,D.createElementBlock)("view",{key:0,class:"uni-card__header-avatar"},[(0,D.createElementVNode)("u-image",{class:"uni-card__header-avatar-image",src:t.thumbnail,mode:"aspectFit"},null,8,["src"])])):(0,D.createCommentVNode)("",!0),(0,D.createElementVNode)("view",{class:"uni-card__header-content"},[(0,D.createElementVNode)("u-text",{class:"uni-card__header-content-title uni-ellipsis"},(0,D.toDisplayString)(t.title),1),t.title&&t.subTitle?((0,D.openBlock)(),(0,D.createElementBlock)("u-text",{key:0,class:"uni-card__header-content-subtitle uni-ellipsis"},(0,D.toDisplayString)(t.subTitle),1)):(0,D.createCommentVNode)("",!0)])]),(0,D.createElementVNode)("view",{class:"uni-card__header-extra",onClick:e[2]||(e[2]=o=>r.onClick("extra"))},[(0,D.createElementVNode)("u-text",{class:"uni-card__header-extra-text"},(0,D.toDisplayString)(t.extra),1)])])):(0,D.createCommentVNode)("",!0)]),(0,D.createElementVNode)("view",{class:"uni-card__content",style:(0,D.normalizeStyle)({padding:t.padding}),onClick:e[3]||(e[3]=o=>r.onClick("content"))},[(0,D.renderSlot)(s.$slots,"default")],4),(0,D.createElementVNode)("view",{class:"uni-card__actions",onClick:e[4]||(e[4]=o=>r.onClick("actions"))},[(0,D.renderSlot)(s.$slots,"actions")])],6)}var nt=q(os,[["render",as],["styles",[rs]]]);var S=$(Z());var Li=$(Z());var rt=s=>typeof s=="string";function ee(s,e){return rt(s)?e:s}var cs=Array.isArray,us=s=>s!==null&&typeof s=="object",ls=["{","}"],Le=class{constructor(){this._caches=Object.create(null)}interpolate(e,t,i=ls){if(!t)return[e];let n=this._caches[e];return n||(n=fs(e,i),this._caches[e]=n),gs(n,t)}},hs=/^(?:\d)+/,ds=/^(?:\w)+/;function fs(s,[e,t]){let i=[],n=0,r="";for(;n<s.length;){let o=s[n++];if(o===e){r&&i.push({type:"text",value:r}),r="";let u="";for(o=s[n++];o!==void 0&&o!==t;)u+=o,o=s[n++];let l=o===t,a=hs.test(u)?"list":l&&ds.test(u)?"named":"unknown";i.push({value:u,type:a})}else r+=o}return r&&i.push({type:"text",value:r}),i}function gs(s,e){let t=[],i=0,n=cs(e)?"list":us(e)?"named":"unknown";if(n==="unknown")return t;for(;i<s.length;){let r=s[i];switch(r.type){case"text":t.push(r.value);break;case"list":t.push(e[parseInt(r.value,10)]);break;case"named":n==="named"&&t.push(e[r.value]);break}i++}return t}var Be="zh-Hans",ot="zh-Hant",te="en",ps="fr",ms="es",ys=Object.prototype.hasOwnProperty,at=(s,e)=>ys.call(s,e),_s=new Le;function ks(s,e){return!!e.find(t=>s.indexOf(t)!==-1)}function bs(s,e){return e.find(t=>s.indexOf(t)===0)}function ct(s,e){if(!s)return;if(s=s.trim().replace(/_/g,"-"),e&&e[s])return s;if(s=s.toLowerCase(),s==="chinese")return Be;if(s.indexOf("zh")===0)return s.indexOf("-hans")>-1?Be:s.indexOf("-hant")>-1||ks(s,["-tw","-hk","-mo","-cht"])?ot:Be;let t=bs(s,[te,ps,ms]);if(t)return t}var Re=class{constructor({locale:e,fallbackLocale:t,messages:i,watcher:n,formater:r}){this.locale=te,this.fallbackLocale=te,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=r||_s,this.messages=i||{},this.setLocale(e||te),n&&this.watchLocale(n)}setLocale(e){let t=this.locale;this.locale=ct(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach(i=>{i(this.locale,t)})}getLocale(){return this.locale}watchLocale(e){let t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,i=!0){let n=this.messages[e];n?i?Object.assign(n,t):Object.keys(t).forEach(r=>{at(n,r)||(n[r]=t[r])}):this.messages[e]=t}f(e,t,i){return this.formater.interpolate(e,t,i).join("")}t(e,t,i){let n=this.message;return typeof t=="string"?(t=ct(t,this.messages),t&&(n=this.messages[t])):i=t,at(n,e)?this.formater.interpolate(n[e],i).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}};function ws(s,e){s.$watchLocale?s.$watchLocale(t=>{e.setLocale(t)}):s.$watch(()=>s.$locale,t=>{e.setLocale(t)})}function vs(){return typeof uni!="undefined"&&uni.getLocale?uni.getLocale():typeof global!="undefined"&&global.getLocale?global.getLocale():te}function Ae(s,e={},t,i){typeof s!="string"&&([s,e]=[e,s]),typeof s!="string"&&(s=vs()),typeof t!="string"&&(t=typeof __uniConfig!="undefined"&&__uniConfig.fallbackLocale||te);let n=new Re({locale:s,fallbackLocale:t,messages:e,watcher:i}),r=(o,u)=>{if(typeof getApp!="function")r=function(l,a){return n.t(l,a)};else{let l=!1;r=function(a,b){let k=getApp().$vm;return k&&(k.$locale,l||(l=!0,ws(k,n))),n.t(a,b)}}return r(o,u)};return{i18n:n,f(o,u,l){return n.f(o,u,l)},t(o,u){return r(o,u)},add(o,u,l=!0){return n.add(o,u,l)},watch(o){return n.watchLocale(o)},getLocale(){return n.getLocale()},setLocale(o){return n.setLocale(o)}}}var As=Object.defineProperty,Es=Object.defineProperties,xs=Object.getOwnPropertyDescriptors,ut=Object.getOwnPropertySymbols,Cs=Object.prototype.hasOwnProperty,Fs=Object.prototype.propertyIsEnumerable,lt=(s,e,t)=>e in s?As(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,N=(s,e)=>{for(var t in e||(e={}))Cs.call(e,t)&&lt(s,t,e[t]);if(ut)for(var t of ut(e))Fs.call(e,t)&&lt(s,t,e[t]);return s},ae=(s,e)=>Es(s,xs(e));function Ss(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function ne(s,e,t){return s(t={path:e,exports:{},require:function(i,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(n==null&&t.path)}},t.exports),t.exports}var Ue=ne(function(s,e){var t;s.exports=(t=t||function(i,n){var r=Object.create||function(){function c(){}return function(d){var E;return c.prototype=d,E=new c,c.prototype=null,E}}(),o={},u=o.lib={},l=u.Base={extend:function(c){var d=r(this);return c&&d.mixIn(c),d.hasOwnProperty("init")&&this.init!==d.init||(d.init=function(){d.$super.init.apply(this,arguments)}),d.init.prototype=d,d.$super=this,d},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}},a=u.WordArray=l.extend({init:function(c,d){c=this.words=c||[],this.sigBytes=d!=n?d:4*c.length},toString:function(c){return(c||k).stringify(this)},concat:function(c){var d=this.words,E=c.words,v=this.sigBytes,w=c.sigBytes;if(this.clamp(),v%4)for(var x=0;x<w;x++){var F=E[x>>>2]>>>24-x%4*8&255;d[v+x>>>2]|=F<<24-(v+x)%4*8}else for(x=0;x<w;x+=4)d[v+x>>>2]=E[x>>>2];return this.sigBytes+=w,this},clamp:function(){var c=this.words,d=this.sigBytes;c[d>>>2]&=4294967295<<32-d%4*8,c.length=i.ceil(d/4)},clone:function(){var c=l.clone.call(this);return c.words=this.words.slice(0),c},random:function(c){for(var d,E=[],v=function(F){F=F;var O=987654321,B=4294967295;return function(){var H=((O=36969*(65535&O)+(O>>16)&B)<<16)+(F=18e3*(65535&F)+(F>>16)&B)&B;return H/=4294967296,(H+=.5)*(i.random()>.5?1:-1)}},w=0;w<c;w+=4){var x=v(4294967296*(d||i.random()));d=987654071*x(),E.push(4294967296*x()|0)}return new a.init(E,c)}}),b=o.enc={},k=b.Hex={stringify:function(c){for(var d=c.words,E=c.sigBytes,v=[],w=0;w<E;w++){var x=d[w>>>2]>>>24-w%4*8&255;v.push((x>>>4).toString(16)),v.push((15&x).toString(16))}return v.join("")},parse:function(c){for(var d=c.length,E=[],v=0;v<d;v+=2)E[v>>>3]|=parseInt(c.substr(v,2),16)<<24-v%8*4;return new a.init(E,d/2)}},y=b.Latin1={stringify:function(c){for(var d=c.words,E=c.sigBytes,v=[],w=0;w<E;w++){var x=d[w>>>2]>>>24-w%4*8&255;v.push(String.fromCharCode(x))}return v.join("")},parse:function(c){for(var d=c.length,E=[],v=0;v<d;v++)E[v>>>2]|=(255&c.charCodeAt(v))<<24-v%4*8;return new a.init(E,d)}},A=b.Utf8={stringify:function(c){try{return decodeURIComponent(escape(y.stringify(c)))}catch(d){throw new Error("Malformed UTF-8 data")}},parse:function(c){return y.parse(unescape(encodeURIComponent(c)))}},C=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(c){typeof c=="string"&&(c=A.parse(c)),this._data.concat(c),this._nDataBytes+=c.sigBytes},_process:function(c){var d=this._data,E=d.words,v=d.sigBytes,w=this.blockSize,x=v/(4*w),F=(x=c?i.ceil(x):i.max((0|x)-this._minBufferSize,0))*w,O=i.min(4*F,v);if(F){for(var B=0;B<F;B+=w)this._doProcessBlock(E,B);var H=E.splice(0,F);d.sigBytes-=O}return new a.init(H,O)},clone:function(){var c=l.clone.call(this);return c._data=this._data.clone(),c},_minBufferSize:0});u.Hasher=C.extend({cfg:l.extend(),init:function(c){this.cfg=this.cfg.extend(c),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(c){return this._append(c),this._process(),this},finalize:function(c){return c&&this._append(c),this._doFinalize()},blockSize:16,_createHelper:function(c){return function(d,E){return new c.init(E).finalize(d)}},_createHmacHelper:function(c){return function(d,E){return new f.HMAC.init(c,E).finalize(d)}}});var f=o.algo={};return o}(Math),t)}),Ds=(ne(function(s,e){var t;s.exports=(t=Ue,function(i){var n=t,r=n.lib,o=r.WordArray,u=r.Hasher,l=n.algo,a=[];(function(){for(var f=0;f<64;f++)a[f]=4294967296*i.abs(i.sin(f+1))|0})();var b=l.MD5=u.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(f,c){for(var d=0;d<16;d++){var E=c+d,v=f[E];f[E]=16711935&(v<<8|v>>>24)|4278255360&(v<<24|v>>>8)}var w=this._hash.words,x=f[c+0],F=f[c+1],O=f[c+2],B=f[c+3],H=f[c+4],de=f[c+5],fe=f[c+6],ge=f[c+7],pe=f[c+8],me=f[c+9],ye=f[c+10],_e=f[c+11],ke=f[c+12],be=f[c+13],we=f[c+14],ve=f[c+15],g=w[0],_=w[1],p=w[2],m=w[3];g=k(g,_,p,m,x,7,a[0]),m=k(m,g,_,p,F,12,a[1]),p=k(p,m,g,_,O,17,a[2]),_=k(_,p,m,g,B,22,a[3]),g=k(g,_,p,m,H,7,a[4]),m=k(m,g,_,p,de,12,a[5]),p=k(p,m,g,_,fe,17,a[6]),_=k(_,p,m,g,ge,22,a[7]),g=k(g,_,p,m,pe,7,a[8]),m=k(m,g,_,p,me,12,a[9]),p=k(p,m,g,_,ye,17,a[10]),_=k(_,p,m,g,_e,22,a[11]),g=k(g,_,p,m,ke,7,a[12]),m=k(m,g,_,p,be,12,a[13]),p=k(p,m,g,_,we,17,a[14]),g=y(g,_=k(_,p,m,g,ve,22,a[15]),p,m,F,5,a[16]),m=y(m,g,_,p,fe,9,a[17]),p=y(p,m,g,_,_e,14,a[18]),_=y(_,p,m,g,x,20,a[19]),g=y(g,_,p,m,de,5,a[20]),m=y(m,g,_,p,ye,9,a[21]),p=y(p,m,g,_,ve,14,a[22]),_=y(_,p,m,g,H,20,a[23]),g=y(g,_,p,m,me,5,a[24]),m=y(m,g,_,p,we,9,a[25]),p=y(p,m,g,_,B,14,a[26]),_=y(_,p,m,g,pe,20,a[27]),g=y(g,_,p,m,be,5,a[28]),m=y(m,g,_,p,O,9,a[29]),p=y(p,m,g,_,ge,14,a[30]),g=A(g,_=y(_,p,m,g,ke,20,a[31]),p,m,de,4,a[32]),m=A(m,g,_,p,pe,11,a[33]),p=A(p,m,g,_,_e,16,a[34]),_=A(_,p,m,g,we,23,a[35]),g=A(g,_,p,m,F,4,a[36]),m=A(m,g,_,p,H,11,a[37]),p=A(p,m,g,_,ge,16,a[38]),_=A(_,p,m,g,ye,23,a[39]),g=A(g,_,p,m,be,4,a[40]),m=A(m,g,_,p,x,11,a[41]),p=A(p,m,g,_,B,16,a[42]),_=A(_,p,m,g,fe,23,a[43]),g=A(g,_,p,m,me,4,a[44]),m=A(m,g,_,p,ke,11,a[45]),p=A(p,m,g,_,ve,16,a[46]),g=C(g,_=A(_,p,m,g,O,23,a[47]),p,m,x,6,a[48]),m=C(m,g,_,p,ge,10,a[49]),p=C(p,m,g,_,we,15,a[50]),_=C(_,p,m,g,de,21,a[51]),g=C(g,_,p,m,ke,6,a[52]),m=C(m,g,_,p,B,10,a[53]),p=C(p,m,g,_,ye,15,a[54]),_=C(_,p,m,g,F,21,a[55]),g=C(g,_,p,m,pe,6,a[56]),m=C(m,g,_,p,ve,10,a[57]),p=C(p,m,g,_,fe,15,a[58]),_=C(_,p,m,g,be,21,a[59]),g=C(g,_,p,m,H,6,a[60]),m=C(m,g,_,p,_e,10,a[61]),p=C(p,m,g,_,O,15,a[62]),_=C(_,p,m,g,me,21,a[63]),w[0]=w[0]+g|0,w[1]=w[1]+_|0,w[2]=w[2]+p|0,w[3]=w[3]+m|0},_doFinalize:function(){var f=this._data,c=f.words,d=8*this._nDataBytes,E=8*f.sigBytes;c[E>>>5]|=128<<24-E%32;var v=i.floor(d/4294967296),w=d;c[15+(E+64>>>9<<4)]=16711935&(v<<8|v>>>24)|4278255360&(v<<24|v>>>8),c[14+(E+64>>>9<<4)]=16711935&(w<<8|w>>>24)|4278255360&(w<<24|w>>>8),f.sigBytes=4*(c.length+1),this._process();for(var x=this._hash,F=x.words,O=0;O<4;O++){var B=F[O];F[O]=16711935&(B<<8|B>>>24)|4278255360&(B<<24|B>>>8)}return x},clone:function(){var f=u.clone.call(this);return f._hash=this._hash.clone(),f}});function k(f,c,d,E,v,w,x){var F=f+(c&d|~c&E)+v+x;return(F<<w|F>>>32-w)+c}function y(f,c,d,E,v,w,x){var F=f+(c&E|d&~E)+v+x;return(F<<w|F>>>32-w)+c}function A(f,c,d,E,v,w,x){var F=f+(c^d^E)+v+x;return(F<<w|F>>>32-w)+c}function C(f,c,d,E,v,w,x){var F=f+(d^(c|~E))+v+x;return(F<<w|F>>>32-w)+c}n.MD5=u._createHelper(b),n.HmacMD5=u._createHmacHelper(b)}(Math),t.MD5)}),ne(function(s,e){var t,i,n;s.exports=(i=(t=Ue).lib.Base,n=t.enc.Utf8,void(t.algo.HMAC=i.extend({init:function(r,o){r=this._hasher=new r.init,typeof o=="string"&&(o=n.parse(o));var u=r.blockSize,l=4*u;o.sigBytes>l&&(o=r.finalize(o)),o.clamp();for(var a=this._oKey=o.clone(),b=this._iKey=o.clone(),k=a.words,y=b.words,A=0;A<u;A++)k[A]^=1549556828,y[A]^=909522486;a.sigBytes=b.sigBytes=l,this.reset()},reset:function(){var r=this._hasher;r.reset(),r.update(this._iKey)},update:function(r){return this._hasher.update(r),this},finalize:function(r){var o=this._hasher,u=o.finalize(r);return o.reset(),o.finalize(this._oKey.clone().concat(u))}})))}),ne(function(s,e){s.exports=Ue.HmacMD5})),ht="FUNCTION",Ts="OBJECT",Is="CLIENT_DB";function Ze(s){return Object.prototype.toString.call(s).slice(8,-1).toLowerCase()}function Et(s){return Ze(s)==="object"}function xt(s){return s&&typeof s=="string"?JSON.parse(s):s}var Ct=!1,Ft="app";xt({}.UNICLOUD_DEBUG);var Ps=xt("[]"),St="";try{St="__UNI__4D3C304"}catch(s){}var Ne={};function Dt(s,e={}){var t,i;return t=Ne,i=s,Object.prototype.hasOwnProperty.call(t,i)||(Ne[s]=e),Ne[s]}var Tt=["invoke","success","fail","complete"],V=Dt("_globalUniCloudInterceptor");function Os(s,e){V[s]||(V[s]={}),Et(e)&&Object.keys(e).forEach(t=>{Tt.indexOf(t)>-1&&function(i,n,r){let o=V[i][n];o||(o=V[i][n]=[]),o.indexOf(r)===-1&&typeof r=="function"&&o.push(r)}(s,t,e[t])})}function Bs(s,e){V[s]||(V[s]={}),Et(e)?Object.keys(e).forEach(t=>{Tt.indexOf(t)>-1&&function(i,n,r){let o=V[i][n];if(!o)return;let u=o.indexOf(r);u>-1&&o.splice(u,1)}(s,t,e[t])}):delete V[s]}function z(s,e){return s&&s.length!==0?s.reduce((t,i)=>t.then(()=>i(e)),Promise.resolve()):Promise.resolve()}function W(s,e){return V[s]&&V[s][e]||[]}function It(s,e){return e?function(t){let i,n=!1;e==="callFunction"&&(n=(t&&t.type||ht)!==ht),i=this.isReady?Promise.resolve():this.initUniCloud,t=t||{};let r=i.then(()=>n?Promise.resolve():z(W(e,"invoke"),t)).then(()=>s.call(this,t)).then(o=>n?Promise.resolve(o):z(W(e,"success"),o).then(()=>z(W(e,"complete"),o)).then(()=>Promise.resolve(o)),o=>n?Promise.reject(o):z(W(e,"fail"),o).then(()=>z(W(e,"complete"),o)).then(()=>Promise.reject(o)));if(!(t.success||t.fail||t.complete))return r;r.then(o=>{t.success&&t.success(o),t.complete&&t.complete(o)},o=>{t.fail&&t.fail(o),t.complete&&t.complete(o)})}:function(t){if(!((t=t||{}).success||t.fail||t.complete))return s.call(this,t);s.call(this,t).then(i=>{t.success&&t.success(i),t.complete&&t.complete(i)},i=>{t.fail&&t.fail(i),t.complete&&t.complete(i)})}}var P=class extends Error{constructor(e){super(e.message),this.errMsg=e.message||"",this.errCode=this.code=e.code,this.requestId=e.requestId,Object.defineProperties(this,{message:{get(){return this.errMsg},set(t){this.errMsg=t}}})}},Ee;function Pt(){let s=uni.getLocale&&uni.getLocale()||"en";if(Ee)return ae(N({},Ee),{LOCALE:s});let{deviceId:e,platform:t}=uni.getSystemInfoSync();return Ee={PLATFORM:Ft,OS:t,APPID:St,DEVICEID:e,CLIENT_SDK_VERSION:"1.0.25"},ae(N({},Ee),{LOCALE:s})}var Ce={sign:function(s,e){let t="";return Object.keys(s).sort().forEach(function(i){s[i]&&(t=t+"&"+i+"="+s[i])}),t=t.slice(1),Ds(t,e).toString()},wrappedRequest:function(s,e){return new Promise((t,i)=>{e(Object.assign(s,{complete(n){n||(n={});let r=n.data&&n.data.header&&n.data.header["x-serverless-request-id"]||n.header&&n.header["request-id"];if(!n.statusCode||n.statusCode>=400)return i(new P({code:"SYS_ERR",message:n.errMsg||"request:fail",requestId:r}));let o=n.data;if(o.error)return i(new P({code:o.error.code,message:o.error.message,requestId:r}));o.result=o.data,o.requestId=r,delete o.data,t(o)}}))})}},j={request:s=>uni.request(s),uploadFile:s=>uni.uploadFile(s),setStorageSync:(s,e)=>uni.setStorageSync(s,e),getStorageSync:s=>uni.getStorageSync(s),removeStorageSync:s=>uni.removeStorageSync(s),clearStorageSync:()=>uni.clearStorageSync()},dt={"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},{t:Ls}=Ae({"zh-Hans":{"uniCloud.init.paramRequired":"\u7F3A\u5C11\u53C2\u6570\uFF1A{param}","uniCloud.uploadFile.fileError":"filePath\u5E94\u4E3AFile\u5BF9\u8C61"},"zh-Hant":{"uniCloud.init.paramRequired":"\u7F3A\u5C11\u53C2\u6570\uFF1A{param}","uniCloud.uploadFile.fileError":"filePath\u5E94\u4E3AFile\u5BF9\u8C61"},en:dt,fr:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},es:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},ja:dt},"zh-Hans"),Ot=class{constructor(s){["spaceId","clientSecret"].forEach(e=>{if(!Object.prototype.hasOwnProperty.call(s,e))throw new Error(Ls("uniCloud.init.paramRequired",{param:e}))}),this.config=Object.assign({},{endpoint:"https://api.bspapp.com"},s),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=j,this._getAccessTokenPromise=null,this._getAccessTokenPromiseStatus=null}get hasAccessToken(){return!!this.accessToken}setAccessToken(s){this.accessToken=s}requestWrapped(s){return Ce.wrappedRequest(s,this.adapter.request)}requestAuth(s){return this.requestWrapped(s)}request(s,e){return Promise.resolve().then(()=>this.hasAccessToken?e?this.requestWrapped(s):this.requestWrapped(s).catch(t=>new Promise((i,n)=>{!t||t.code!=="GATEWAY_INVALID_TOKEN"&&t.code!=="InvalidParameter.InvalidToken"?n(t):i()}).then(()=>this.getAccessToken()).then(()=>{let i=this.rebuildRequest(s);return this.request(i,!0)})):this.getAccessToken().then(()=>{let t=this.rebuildRequest(s);return this.request(t,!0)}))}rebuildRequest(s){let e=Object.assign({},s);return e.data.token=this.accessToken,e.header["x-basement-token"]=this.accessToken,e.header["x-serverless-sign"]=Ce.sign(e.data,this.config.clientSecret),e}setupRequest(s,e){let t=Object.assign({},s,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};return e!=="auth"&&(t.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=Ce.sign(t,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:t,dataType:"json",header:i}}getAccessToken(){return this._getAccessTokenPromiseStatus==="pending"?this._getAccessTokenPromise:(this._getAccessTokenPromiseStatus="pending",this._getAccessTokenPromise=this.requestAuth(this.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then(s=>new Promise((e,t)=>{s.result&&s.result.accessToken?(this.setAccessToken(s.result.accessToken),this._getAccessTokenPromiseStatus="fulfilled",e(this.accessToken)):(this._getAccessTokenPromiseStatus="rejected",t(new P({code:"AUTH_FAILED",message:"\u83B7\u53D6accessToken\u5931\u8D25"})))}),s=>(this._getAccessTokenPromiseStatus="rejected",Promise.reject(s))),this._getAccessTokenPromise)}authorize(){this.getAccessToken()}callFunction(s){let e={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:s.name,functionArgs:s.data||{}})};return this.request(this.setupRequest(e))}getOSSUploadOptionsFromPath(s){let e={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(s)};return this.request(this.setupRequest(e))}uploadFileToOSS({url:s,formData:e,name:t,filePath:i,fileType:n,onUploadProgress:r}){return new Promise((o,u)=>{let l=this.adapter.uploadFile({url:s,formData:e,name:t,filePath:i,fileType:n,header:{"X-OSS-server-side-encrpytion":"AES256"},success(a){a&&a.statusCode<400?o(a):u(new P({code:"UPLOAD_FAILED",message:"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25"}))},fail(a){u(new P({code:a.code||"UPLOAD_FAILED",message:a.message||a.errMsg||"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25"}))}});typeof r=="function"&&l&&typeof l.onProgressUpdate=="function"&&l.onProgressUpdate(a=>{r({loaded:a.totalBytesSent,total:a.totalBytesExpectedToSend})})})}reportOSSUpload(s){let e={method:"serverless.file.resource.report",params:JSON.stringify(s)};return this.request(this.setupRequest(e))}uploadFile({filePath:s,cloudPath:e,fileType:t="image",onUploadProgress:i,config:n}){if(Ze(e)!=="string")throw new P({code:"INVALID_PARAM",message:"cloudPath\u5FC5\u987B\u4E3A\u5B57\u7B26\u4E32\u7C7B\u578B"});if(!(e=e.trim()))throw new P({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4E0D\u53EF\u4E3A\u7A7A"});if(/:\/\//.test(e))throw new P({code:"INVALID_PARAM",message:"cloudPath\u4E0D\u5408\u6CD5"});let r=n&&n.envType||this.config.envType,o,u;return this.getOSSUploadOptionsFromPath({env:r,filename:e}).then(l=>{let a=l.result;o=a.id,u="https://"+a.cdnDomain+"/"+a.ossPath;let b={url:"https://"+a.host,formData:{"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:a.accessKeyId,Signature:a.signature,host:a.host,id:o,key:a.ossPath,policy:a.policy,success_action_status:200},fileName:"file",name:"file",filePath:s,fileType:t};return this.uploadFileToOSS(Object.assign({},b,{onUploadProgress:i}))}).then(()=>this.reportOSSUpload({id:o})).then(l=>new Promise((a,b)=>{l.success?a({success:!0,filePath:s,fileID:u}):b(new P({code:"UPLOAD_FAILED",message:"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25"}))}))}deleteFile({fileList:s}){let e={method:"serverless.file.resource.delete",params:JSON.stringify({id:s[0]})};return this.request(this.setupRequest(e))}getTempFileURL({fileList:s}={}){return new Promise((e,t)=>{Array.isArray(s)&&s.length!==0||t(new P({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7D20\u5FC5\u987B\u662F\u975E\u7A7A\u7684\u5B57\u7B26\u4E32"})),e({fileList:s.map(i=>({fileID:i,tempFileURL:i}))})})}},Rs={init(s){let e=new Ot(s),t={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return t},e.customAuth=e.auth,e}},Us=typeof location!="undefined"&&location.protocol==="http:"?"http:":"https:",ft;(function(s){s.local="local",s.none="none",s.session="session"})(ft||(ft={}));var Ns=function(){},le=()=>{let s;if(!Promise){s=()=>{},s.promise={};let t=()=>{throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(s.promise,"then",{get:t}),Object.defineProperty(s.promise,"catch",{get:t}),s}let e=new Promise((t,i)=>{s=(n,r)=>n?i(n):t(r)});return s.promise=e,s};function Ms(s){return s===void 0}function js(s){return Object.prototype.toString.call(s)==="[object Null]"}var gt;function qs(s){let e=(t=s,Object.prototype.toString.call(t)==="[object Array]"?s:[s]);var t;for(let i of e){let{isMatch:n,genAdapter:r,runtime:o}=i;if(n())return{adapter:r(),runtime:o}}}(function(s){s.WEB="web",s.WX_MP="wx_mp"})(gt||(gt={}));var U={adapter:null,runtime:void 0},zs=["anonymousUuidKey"],re=class extends Ns{constructor(){super(),U.adapter.root.tcbObject||(U.adapter.root.tcbObject={})}setItem(e,t){U.adapter.root.tcbObject[e]=t}getItem(e){return U.adapter.root.tcbObject[e]}removeItem(e){delete U.adapter.root.tcbObject[e]}clear(){delete U.adapter.root.tcbObject}};function pt(s,e){switch(s){case"local":return e.localStorage||new re;case"none":return new re;default:return e.sessionStorage||new re}}var Fe=class{constructor(e){if(!this._storage){this._persistence=U.adapter.primaryStorage||e.persistence,this._storage=pt(this._persistence,U.adapter);let t=`access_token_${e.env}`,i=`access_token_expire_${e.env}`,n=`refresh_token_${e.env}`,r=`anonymous_uuid_${e.env}`,o=`login_type_${e.env}`,u=`user_info_${e.env}`;this.keys={accessTokenKey:t,accessTokenExpireKey:i,refreshTokenKey:n,anonymousUuidKey:r,loginTypeKey:o,userInfoKey:u}}}updatePersistence(e){if(e===this._persistence)return;let t=this._persistence==="local";this._persistence=e;let i=pt(e,U.adapter);for(let n in this.keys){let r=this.keys[n];if(t&&zs.includes(n))continue;let o=this._storage.getItem(r);Ms(o)||js(o)||(i.setItem(r,o),this._storage.removeItem(r))}this._storage=i}setStore(e,t,i){if(!this._storage)return;let n={version:i||"localCachev1",content:t},r=JSON.stringify(n);try{this._storage.setItem(e,r)}catch(o){throw o}}getStore(e,t){try{if(!this._storage)return}catch(n){return""}t=t||"localCachev1";let i=this._storage.getItem(e);return i&&i.indexOf(t)>=0?JSON.parse(i).content:""}removeStore(e){this._storage.removeItem(e)}},Bt={},Lt={};function he(s){return Bt[s]}var Se=class{constructor(e,t){this.data=t||null,this.name=e}},ze=class extends Se{constructor(e,t){super("error",{error:e,data:t}),this.error=e}},Qe=new class{constructor(){this._listeners={}}on(s,e){return function(t,i,n){n[t]=n[t]||[],n[t].push(i)}(s,e,this._listeners),this}off(s,e){return function(t,i,n){if(n&&n[t]){let r=n[t].indexOf(i);r!==-1&&n[t].splice(r,1)}}(s,e,this._listeners),this}fire(s,e){if(s instanceof ze)return console.error(s.error),this;let t=typeof s=="string"?new Se(s,e||{}):s,i=t.name;if(this._listens(i)){t.target=this;let n=this._listeners[i]?[...this._listeners[i]]:[];for(let r of n)r.call(this,t)}return this}_listens(s){return this._listeners[s]&&this._listeners[s].length>0}};function G(s,e){Qe.on(s,e)}function M(s,e={}){Qe.fire(s,e)}function Ws(s,e){Qe.off(s,e)}var se="loginStateChanged",Rt="loginStateExpire",Y="loginTypeChanged",We="anonymousConverted",Ut="refreshAccessToken",L;(function(s){s.ANONYMOUS="ANONYMOUS",s.WECHAT="WECHAT",s.WECHAT_PUBLIC="WECHAT-PUBLIC",s.WECHAT_OPEN="WECHAT-OPEN",s.CUSTOM="CUSTOM",s.EMAIL="EMAIL",s.USERNAME="USERNAME",s.NULL="NULL"})(L||(L={}));var mt=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],Vs={"X-SDK-Version":"1.3.5"};function Me(s,e,t){let i=s[e];s[e]=function(n){let r={},o={};t.forEach(l=>{let{data:a,headers:b}=l.call(s,n);Object.assign(r,a),Object.assign(o,b)});let u=n.data;return u&&(()=>{var l;if(l=u,Object.prototype.toString.call(l)!=="[object FormData]")n.data=N(N({},u),r);else for(let a in r)u.append(a,r[a])})(),n.headers=N(N({},n.headers||{}),o),i.call(s,n)}}function je(){let s=Math.random().toString(16).slice(2);return{data:{seqId:s},headers:ae(N({},Vs),{"x-seqid":s})}}var Ve=class{constructor(e={}){var t;this.config=e,this._reqClass=new U.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:`\u8BF7\u6C42\u5728${this.config.timeout/1e3}s\u5185\u672A\u5B8C\u6210\uFF0C\u5DF2\u4E2D\u65AD`,restrictedMethods:["post"]}),this._cache=he(this.config.env),this._localCache=(t=this.config.env,Lt[t]),Me(this._reqClass,"post",[je]),Me(this._reqClass,"upload",[je]),Me(this._reqClass,"download",[je])}post(e){return T(this,null,function*(){return yield this._reqClass.post(e)})}upload(e){return T(this,null,function*(){return yield this._reqClass.upload(e)})}download(e){return T(this,null,function*(){return yield this._reqClass.download(e)})}refreshAccessToken(){return T(this,null,function*(){let e,t;this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken());try{e=yield this._refreshAccessTokenPromise}catch(i){t=i}if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,t)throw t;return e})}_refreshAccessToken(){return T(this,null,function*(){let{accessTokenKey:e,accessTokenExpireKey:t,refreshTokenKey:i,loginTypeKey:n,anonymousUuidKey:r}=this._cache.keys;this._cache.removeStore(e),this._cache.removeStore(t);let o=this._cache.getStore(i);if(!o)throw new Error("\u672A\u767B\u5F55CloudBase");let u={refresh_token:o},l=yield this.request("auth.fetchAccessTokenWithRefreshToken",u);if(l.data.code){let{code:a}=l.data;if(a==="SIGN_PARAM_INVALID"||a==="REFRESH_TOKEN_EXPIRED"||a==="INVALID_REFRESH_TOKEN"){if(this._cache.getStore(n)===L.ANONYMOUS&&a==="INVALID_REFRESH_TOKEN"){let b=this._cache.getStore(r),k=this._cache.getStore(i),y=yield this.send("auth.signInAnonymously",{anonymous_uuid:b,refresh_token:k});return this.setRefreshToken(y.refresh_token),this._refreshAccessToken()}M(Rt),this._cache.removeStore(i)}throw new Error(`\u5237\u65B0access token\u5931\u8D25\uFF1A${l.data.code}`)}if(l.data.access_token)return M(Ut),this._cache.setStore(e,l.data.access_token),this._cache.setStore(t,l.data.access_token_expire+Date.now()),{accessToken:l.data.access_token,accessTokenExpire:l.data.access_token_expire};l.data.refresh_token&&(this._cache.removeStore(i),this._cache.setStore(i,l.data.refresh_token),this._refreshAccessToken())})}getAccessToken(){return T(this,null,function*(){let{accessTokenKey:e,accessTokenExpireKey:t,refreshTokenKey:i}=this._cache.keys;if(!this._cache.getStore(i))throw new Error("refresh token\u4E0D\u5B58\u5728\uFF0C\u767B\u5F55\u72B6\u6001\u5F02\u5E38");let n=this._cache.getStore(e),r=this._cache.getStore(t),o=!0;return this._shouldRefreshAccessTokenHook&&!(yield this._shouldRefreshAccessTokenHook(n,r))&&(o=!1),(!n||!r||r<Date.now())&&o?this.refreshAccessToken():{accessToken:n,accessTokenExpire:r}})}request(e,t,i){return T(this,null,function*(){let n=`x-tcb-trace_${this.config.env}`,r="application/x-www-form-urlencoded",o=N({action:e,env:this.config.env,dataVersion:"2019-08-16"},t);if(mt.indexOf(e)===-1){let{refreshTokenKey:d}=this._cache.keys;this._cache.getStore(d)&&(o.access_token=(yield this.getAccessToken()).accessToken)}let u;if(e==="storage.uploadFile"){u=new FormData;for(let d in u)u.hasOwnProperty(d)&&u[d]!==void 0&&u.append(d,o[d]);r="multipart/form-data"}else{r="application/json",u={};for(let d in o)o[d]!==void 0&&(u[d]=o[d])}let l={headers:{"content-type":r}};i&&i.onUploadProgress&&(l.onUploadProgress=i.onUploadProgress);let a=this._localCache.getStore(n);a&&(l.headers["X-TCB-Trace"]=a);let{parse:b,inQuery:k,search:y}=t,A={env:this.config.env};b&&(A.parse=!0),k&&(A=N(N({},k),A));let C=function(d,E,v={}){let w=/\?/.test(E),x="";for(let F in v)x===""?!w&&(E+="?"):x+="&",x+=`${F}=${encodeURIComponent(v[F])}`;return/^http(s)?\:\/\//.test(E+=x)?E:`${d}${E}`}(Us,"//tcb-api.tencentcloudapi.com/web",A);y&&(C+=y);let f=yield this.post(N({url:C,data:u},l)),c=f.header&&f.header["x-tcb-trace"];if(c&&this._localCache.setStore(n,c),Number(f.status)!==200&&Number(f.statusCode)!==200||!f.data)throw new Error("network request error");return f})}send(i){return T(this,arguments,function*(e,t={}){let n=yield this.request(e,t,{onUploadProgress:t.onUploadProgress});if(n.data.code==="ACCESS_TOKEN_EXPIRED"&&mt.indexOf(e)===-1){yield this.refreshAccessToken();let r=yield this.request(e,t,{onUploadProgress:t.onUploadProgress});if(r.data.code)throw new Error(`[${r.data.code}] ${r.data.message}`);return r.data}if(n.data.code)throw new Error(`[${n.data.code}] ${n.data.message}`);return n.data})}setRefreshToken(e){let{accessTokenKey:t,accessTokenExpireKey:i,refreshTokenKey:n}=this._cache.keys;this._cache.removeStore(t),this._cache.removeStore(i),this._cache.setStore(n,e)}},Nt={};function K(s){return Nt[s]}var ie=class{constructor(e){this.config=e,this._cache=he(e.env),this._request=K(e.env)}setRefreshToken(e){let{accessTokenKey:t,accessTokenExpireKey:i,refreshTokenKey:n}=this._cache.keys;this._cache.removeStore(t),this._cache.removeStore(i),this._cache.setStore(n,e)}setAccessToken(e,t){let{accessTokenKey:i,accessTokenExpireKey:n}=this._cache.keys;this._cache.setStore(i,e),this._cache.setStore(n,t)}refreshUserInfo(){return T(this,null,function*(){let{data:e}=yield this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(e),e})}setLocalUserInfo(e){let{userInfoKey:t}=this._cache.keys;this._cache.setStore(t,e)}},He=class{constructor(e){if(!e)throw new Error("envId is not defined");this._envId=e,this._cache=he(this._envId),this._request=K(this._envId),this.setUserInfo()}linkWithTicket(e){if(typeof e!="string")throw new Error("ticket must be string");return this._request.send("auth.linkWithTicket",{ticket:e})}linkWithRedirect(e){e.signInWithRedirect()}updatePassword(e,t){return this._request.send("auth.updatePassword",{oldPassword:t,newPassword:e})}updateEmail(e){return this._request.send("auth.updateEmail",{newEmail:e})}updateUsername(e){if(typeof e!="string")throw new Error("username must be a string");return this._request.send("auth.updateUsername",{username:e})}getLinkedUidList(){return T(this,null,function*(){let{data:e}=yield this._request.send("auth.getLinkedUidList",{}),t=!1,{users:i}=e;return i.forEach(n=>{n.wxOpenId&&n.wxPublicId&&(t=!0)}),{users:i,hasPrimaryUid:t}})}setPrimaryUid(e){return this._request.send("auth.setPrimaryUid",{uid:e})}unlink(e){return this._request.send("auth.unlink",{platform:e})}update(e){return T(this,null,function*(){let{nickName:t,gender:i,avatarUrl:n,province:r,country:o,city:u}=e,{data:l}=yield this._request.send("auth.updateUserInfo",{nickName:t,gender:i,avatarUrl:n,province:r,country:o,city:u});this.setLocalUserInfo(l)})}refresh(){return T(this,null,function*(){let{data:e}=yield this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(e),e})}setUserInfo(){let{userInfoKey:e}=this._cache.keys,t=this._cache.getStore(e);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach(i=>{this[i]=t[i]}),this.location={country:t.country,province:t.province,city:t.city}}setLocalUserInfo(e){let{userInfoKey:t}=this._cache.keys;this._cache.setStore(t,e),this.setUserInfo()}},X=class{constructor(e){if(!e)throw new Error("envId is not defined");this._cache=he(e);let{refreshTokenKey:t,accessTokenKey:i,accessTokenExpireKey:n}=this._cache.keys,r=this._cache.getStore(t),o=this._cache.getStore(i),u=this._cache.getStore(n);this.credential={refreshToken:r,accessToken:o,accessTokenExpire:u},this.user=new He(e)}get isAnonymousAuth(){return this.loginType===L.ANONYMOUS}get isCustomAuth(){return this.loginType===L.CUSTOM}get isWeixinAuth(){return this.loginType===L.WECHAT||this.loginType===L.WECHAT_OPEN||this.loginType===L.WECHAT_PUBLIC}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}},oe=class extends ie{signIn(){return T(this,null,function*(){this._cache.updatePersistence("local");let{anonymousUuidKey:e,refreshTokenKey:t}=this._cache.keys,i=this._cache.getStore(e)||void 0,n=this._cache.getStore(t)||void 0,r=yield this._request.send("auth.signInAnonymously",{anonymous_uuid:i,refresh_token:n});if(r.uuid&&r.refresh_token){this._setAnonymousUUID(r.uuid),this.setRefreshToken(r.refresh_token),yield this._request.refreshAccessToken(),M(se),M(Y,{env:this.config.env,loginType:L.ANONYMOUS,persistence:"local"});let o=new X(this.config.env);return yield o.user.refresh(),o}throw new Error("\u533F\u540D\u767B\u5F55\u5931\u8D25")})}linkAndRetrieveDataWithTicket(e){return T(this,null,function*(){let{anonymousUuidKey:t,refreshTokenKey:i}=this._cache.keys,n=this._cache.getStore(t),r=this._cache.getStore(i),o=yield this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:n,refresh_token:r,ticket:e});if(o.refresh_token)return this._clearAnonymousUUID(),this.setRefreshToken(o.refresh_token),yield this._request.refreshAccessToken(),M(We,{env:this.config.env}),M(Y,{loginType:L.CUSTOM,persistence:"local"}),{credential:{refreshToken:o.refresh_token}};throw new Error("\u533F\u540D\u8F6C\u5316\u5931\u8D25")})}_setAnonymousUUID(e){let{anonymousUuidKey:t,loginTypeKey:i}=this._cache.keys;this._cache.removeStore(t),this._cache.setStore(t,e),this._cache.setStore(i,L.ANONYMOUS)}_clearAnonymousUUID(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}},De=class extends ie{signIn(e){return T(this,null,function*(){if(typeof e!="string")throw new Error("ticket must be a string");let{refreshTokenKey:t}=this._cache.keys,i=yield this._request.send("auth.signInWithTicket",{ticket:e,refresh_token:this._cache.getStore(t)||""});if(i.refresh_token)return this.setRefreshToken(i.refresh_token),yield this._request.refreshAccessToken(),M(se),M(Y,{env:this.config.env,loginType:L.CUSTOM,persistence:this.config.persistence}),yield this.refreshUserInfo(),new X(this.config.env);throw new Error("\u81EA\u5B9A\u4E49\u767B\u5F55\u5931\u8D25")})}},Te=class extends ie{signIn(e,t){return T(this,null,function*(){if(typeof e!="string")throw new Error("email must be a string");let{refreshTokenKey:i}=this._cache.keys,n=yield this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:t,refresh_token:this._cache.getStore(i)||""}),{refresh_token:r,access_token:o,access_token_expire:u}=n;if(r)return this.setRefreshToken(r),o&&u?this.setAccessToken(o,u):yield this._request.refreshAccessToken(),yield this.refreshUserInfo(),M(se),M(Y,{env:this.config.env,loginType:L.EMAIL,persistence:this.config.persistence}),new X(this.config.env);throw n.code?new Error(`\u90AE\u7BB1\u767B\u5F55\u5931\u8D25: [${n.code}] ${n.message}`):new Error("\u90AE\u7BB1\u767B\u5F55\u5931\u8D25")})}activate(e){return T(this,null,function*(){return this._request.send("auth.activateEndUserMail",{token:e})})}resetPasswordWithToken(e,t){return T(this,null,function*(){return this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:t})})}},Ie=class extends ie{signIn(e,t){return T(this,null,function*(){if(typeof e!="string")throw new Error("username must be a string");typeof t!="string"&&(t="",console.warn("password is empty"));let{refreshTokenKey:i}=this._cache.keys,n=yield this._request.send("auth.signIn",{loginType:L.USERNAME,username:e,password:t,refresh_token:this._cache.getStore(i)||""}),{refresh_token:r,access_token_expire:o,access_token:u}=n;if(r)return this.setRefreshToken(r),u&&o?this.setAccessToken(u,o):yield this._request.refreshAccessToken(),yield this.refreshUserInfo(),M(se),M(Y,{env:this.config.env,loginType:L.USERNAME,persistence:this.config.persistence}),new X(this.config.env);throw n.code?new Error(`\u7528\u6237\u540D\u5BC6\u7801\u767B\u5F55\u5931\u8D25: [${n.code}] ${n.message}`):new Error("\u7528\u6237\u540D\u5BC6\u7801\u767B\u5F55\u5931\u8D25")})}},Je=class{constructor(e){this.config=e,this._cache=he(e.env),this._request=K(e.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),G(Y,this._onLoginTypeChanged)}get currentUser(){let e=this.hasLoginState();return e&&e.user||null}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}anonymousAuthProvider(){return new oe(this.config)}customAuthProvider(){return new De(this.config)}emailAuthProvider(){return new Te(this.config)}usernameAuthProvider(){return new Ie(this.config)}signInAnonymously(){return T(this,null,function*(){return new oe(this.config).signIn()})}signInWithEmailAndPassword(e,t){return T(this,null,function*(){return new Te(this.config).signIn(e,t)})}signInWithUsernameAndPassword(e,t){return new Ie(this.config).signIn(e,t)}linkAndRetrieveDataWithTicket(e){return T(this,null,function*(){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new oe(this.config)),G(We,this._onAnonymousConverted),yield this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(e)})}signOut(){return T(this,null,function*(){if(this.loginType===L.ANONYMOUS)throw new Error("\u533F\u540D\u7528\u6237\u4E0D\u652F\u6301\u767B\u51FA\u64CD\u4F5C");let{refreshTokenKey:e,accessTokenKey:t,accessTokenExpireKey:i}=this._cache.keys,n=this._cache.getStore(e);if(!n)return;let r=yield this._request.send("auth.logout",{refresh_token:n});return this._cache.removeStore(e),this._cache.removeStore(t),this._cache.removeStore(i),M(se),M(Y,{env:this.config.env,loginType:L.NULL,persistence:this.config.persistence}),r})}signUpWithEmailAndPassword(e,t){return T(this,null,function*(){return this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:t})})}sendPasswordResetEmail(e){return T(this,null,function*(){return this._request.send("auth.sendPasswordResetEmail",{email:e})})}onLoginStateChanged(e){G(se,()=>{let i=this.hasLoginState();e.call(this,i)});let t=this.hasLoginState();e.call(this,t)}onLoginStateExpired(e){G(Rt,e.bind(this))}onAccessTokenRefreshed(e){G(Ut,e.bind(this))}onAnonymousConverted(e){G(We,e.bind(this))}onLoginTypeChanged(e){G(Y,()=>{let t=this.hasLoginState();e.call(this,t)})}getAccessToken(){return T(this,null,function*(){return{accessToken:(yield this._request.getAccessToken()).accessToken,env:this.config.env}})}hasLoginState(){let{refreshTokenKey:e}=this._cache.keys;return this._cache.getStore(e)?new X(this.config.env):null}isUsernameRegistered(e){return T(this,null,function*(){if(typeof e!="string")throw new Error("username must be a string");let{data:t}=yield this._request.send("auth.isUsernameRegistered",{username:e});return t&&t.isRegistered})}getLoginState(){return Promise.resolve(this.hasLoginState())}signInWithTicket(e){return T(this,null,function*(){return new De(this.config).signIn(e)})}shouldRefreshAccessToken(e){this._request._shouldRefreshAccessTokenHook=e.bind(this)}getUserInfo(){return this._request.send("auth.getUserInfo",{}).then(e=>e.code?e:ae(N({},e.data),{requestId:e.seqId}))}getAuthHeader(){let{refreshTokenKey:e,accessTokenKey:t}=this._cache.keys,i=this._cache.getStore(e);return{"x-cloudbase-credentials":this._cache.getStore(t)+"/@@/"+i}}_onAnonymousConverted(e){let{env:t}=e.data;t===this.config.env&&this._cache.updatePersistence(this.config.persistence)}_onLoginTypeChanged(e){let{loginType:t,persistence:i,env:n}=e.data;n===this.config.env&&(this._cache.updatePersistence(i),this._cache.setStore(this._cache.keys.loginTypeKey,t))}},Hs=function(s,e){e=e||le();let t=K(this.config.env),{cloudPath:i,filePath:n,onUploadProgress:r,fileType:o="image"}=s;return t.send("storage.getUploadMetadata",{path:i}).then(u=>{let{data:{url:l,authorization:a,token:b,fileId:k,cosFileId:y},requestId:A}=u,C={key:i,signature:a,"x-cos-meta-fileid":y,success_action_status:"201","x-cos-security-token":b};t.upload({url:l,data:C,file:n,name:i,fileType:o,onUploadProgress:r}).then(f=>{f.statusCode===201?e(null,{fileID:k,requestId:A}):e(new Error(`STORAGE_REQUEST_FAIL: ${f.data}`))}).catch(f=>{e(f)})}).catch(u=>{e(u)}),e.promise},Js=function(s,e){e=e||le();let t=K(this.config.env),{cloudPath:i}=s;return t.send("storage.getUploadMetadata",{path:i}).then(n=>{e(null,n)}).catch(n=>{e(n)}),e.promise},Ks=function({fileList:s},e){if(e=e||le(),!s||!Array.isArray(s))return{code:"INVALID_PARAM",message:"fileList\u5FC5\u987B\u662F\u975E\u7A7A\u7684\u6570\u7EC4"};for(let i of s)if(!i||typeof i!="string")return{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7D20\u5FC5\u987B\u662F\u975E\u7A7A\u7684\u5B57\u7B26\u4E32"};let t={fileid_list:s};return K(this.config.env).send("storage.batchDeleteFile",t).then(i=>{i.code?e(null,i):e(null,{fileList:i.data.delete_list,requestId:i.requestId})}).catch(i=>{e(i)}),e.promise},Mt=function({fileList:s},e){e=e||le(),s&&Array.isArray(s)||e(null,{code:"INVALID_PARAM",message:"fileList\u5FC5\u987B\u662F\u975E\u7A7A\u7684\u6570\u7EC4"});let t=[];for(let n of s)typeof n=="object"?(n.hasOwnProperty("fileID")&&n.hasOwnProperty("maxAge")||e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7D20\u5FC5\u987B\u662F\u5305\u542BfileID\u548CmaxAge\u7684\u5BF9\u8C61"}),t.push({fileid:n.fileID,max_age:n.maxAge})):typeof n=="string"?t.push({fileid:n}):e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7D20\u5FC5\u987B\u662F\u5B57\u7B26\u4E32"});let i={file_list:t};return K(this.config.env).send("storage.batchGetDownloadUrl",i).then(n=>{n.code?e(null,n):e(null,{fileList:n.data.download_list,requestId:n.requestId})}).catch(n=>{e(n)}),e.promise},Gs=function(t,i){return T(this,arguments,function*({fileID:s},e){let n=(yield Mt.call(this,{fileList:[{fileID:s,maxAge:600}]})).fileList[0];if(n.code!=="SUCCESS")return e?e(n):new Promise(u=>{u(n)});let r=K(this.config.env),o=n.download_url;if(o=encodeURI(o),!e)return r.download({url:o});e(yield r.download({url:o}))})},Ys=function({name:s,data:e,query:t,parse:i,search:n},r){let o=r||le(),u;try{u=e?JSON.stringify(e):""}catch(a){return Promise.reject(a)}if(!s)return Promise.reject(new Error("\u51FD\u6570\u540D\u4E0D\u80FD\u4E3A\u7A7A"));let l={inQuery:t,parse:i,search:n,function_name:s,request_data:u};return K(this.config.env).send("functions.invokeFunction",l).then(a=>{if(a.code)o(null,a);else{let b=a.data.response_data;if(i)o(null,{result:b,requestId:a.requestId});else try{b=JSON.parse(a.data.response_data),o(null,{result:b,requestId:a.requestId})}catch(k){o(new Error("response data must be json"))}}return o.promise}).catch(a=>{o(a)}),o.promise},yt={timeout:15e3,persistence:"session"},_t={},ce=class{constructor(e){this.config=e||this.config,this.authObj=void 0}init(e){switch(U.adapter||(this.requestClient=new U.adapter.reqClass({timeout:e.timeout||5e3,timeoutMsg:`\u8BF7\u6C42\u5728${(e.timeout||5e3)/1e3}s\u5185\u672A\u5B8C\u6210\uFF0C\u5DF2\u4E2D\u65AD`})),this.config=N(N({},yt),e),!0){case this.config.timeout>6e5:console.warn("timeout\u5927\u4E8E\u53EF\u914D\u7F6E\u4E0A\u9650[10\u5206\u949F]\uFF0C\u5DF2\u91CD\u7F6E\u4E3A\u4E0A\u9650\u6570\u503C"),this.config.timeout=6e5;break;case this.config.timeout<100:console.warn("timeout\u5C0F\u4E8E\u53EF\u914D\u7F6E\u4E0B\u9650[100ms]\uFF0C\u5DF2\u91CD\u7F6E\u4E3A\u4E0B\u9650\u6570\u503C"),this.config.timeout=100}return new ce(this.config)}auth({persistence:e}={}){if(this.authObj)return this.authObj;let t=e||U.adapter.primaryStorage||yt.persistence;var i;return t!==this.config.persistence&&(this.config.persistence=t),function(n){let{env:r}=n;Bt[r]=new Fe(n),Lt[r]=new Fe(ae(N({},n),{persistence:"local"}))}(this.config),i=this.config,Nt[i.env]=new Ve(i),this.authObj=new Je(this.config),this.authObj}on(e,t){return G.apply(this,[e,t])}off(e,t){return Ws.apply(this,[e,t])}callFunction(e,t){return Ys.apply(this,[e,t])}deleteFile(e,t){return Ks.apply(this,[e,t])}getTempFileURL(e,t){return Mt.apply(this,[e,t])}downloadFile(e,t){return Gs.apply(this,[e,t])}uploadFile(e,t){return Hs.apply(this,[e,t])}getUploadMetadata(e,t){return Js.apply(this,[e,t])}registerExtension(e){_t[e.name]=e}invokeExtension(e,t){return T(this,null,function*(){let i=_t[e];if(!i)throw Error(`\u6269\u5C55${e} \u5FC5\u987B\u5148\u6CE8\u518C`);return yield i.invoke(t,this)})}useAdapters(e){let{adapter:t,runtime:i}=qs(e)||{};t&&(U.adapter=t),i&&(U.runtime=i)}},jt=new ce;function kt(s,e,t){t===void 0&&(t={});var i=/\?/.test(e),n="";for(var r in t)n===""?!i&&(e+="?"):n+="&",n+=r+"="+encodeURIComponent(t[r]);return/^http(s)?:\/\//.test(e+=n)?e:""+s+e}var Ke=class{post(e){let{url:t,data:i,headers:n}=e;return new Promise((r,o)=>{j.request({url:kt("https:",t),data:i,method:"POST",header:n,success(u){r(u)},fail(u){o(u)}})})}upload(e){return new Promise((t,i)=>{let{url:n,file:r,data:o,headers:u,fileType:l}=e,a=j.uploadFile({url:kt("https:",n),name:"file",formData:Object.assign({},o),filePath:r,fileType:l,header:u,success(b){let k={statusCode:b.statusCode,data:b.data||{}};b.statusCode===200&&o.success_action_status&&(k.statusCode=parseInt(o.success_action_status,10)),t(k)},fail(b){i(new Error(b.errMsg||"uploadFile:fail"))}});typeof e.onUploadProgress=="function"&&a&&typeof a.onProgressUpdate=="function"&&a.onProgressUpdate(b=>{e.onUploadProgress({loaded:b.totalBytesSent,total:b.totalBytesExpectedToSend})})})}},Zs={setItem(s,e){j.setStorageSync(s,e)},getItem:s=>j.getStorageSync(s),removeItem(s){j.removeStorageSync(s)},clear(){j.clearStorageSync()}},Qs={genAdapter:function(){return{root:{},reqClass:Ke,localStorage:Zs,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};jt.useAdapters(Qs);var Xe=jt,Xs=Xe.init;Xe.init=function(s){s.env=s.spaceId;let e=Xs.call(this,s);e.config.provider="tencent",e.config.spaceId=s.spaceId;let t=e.auth;return e.auth=function(i){let n=t.call(this,i);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach(r=>{n[r]=It(n[r]).bind(n)}),n},e.customAuth=e.auth,e};var $s=Xe;function qt(s){return s&&qt(s.__v_raw)||s}function $e(){return{token:j.getStorageSync("uni_id_token")||j.getStorageSync("uniIdToken"),tokenExpired:j.getStorageSync("uni_id_token_expired")}}var ei=class extends Ot{getAccessToken(){return new Promise((s,e)=>{let t="Anonymous_Access_token";this.setAccessToken(t),s(t)})}setupRequest(s,e){let t=Object.assign({},s,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};e!=="auth"&&(t.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=Ce.sign(t,this.config.clientSecret);let n=Pt();i["x-client-info"]=JSON.stringify(n);let{token:r}=$e();return i["x-client-token"]=r,{url:this.config.requestUrl,method:"POST",data:t,dataType:"json",header:JSON.parse(JSON.stringify(i))}}uploadFileToOSS({url:s,formData:e,name:t,filePath:i,fileType:n,onUploadProgress:r}){return new Promise((o,u)=>{let l=this.adapter.uploadFile({url:s,formData:e,name:t,filePath:i,fileType:n,success(a){a&&a.statusCode<400?o(a):u(new P({code:"UPLOAD_FAILED",message:"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25"}))},fail(a){u(new P({code:a.code||"UPLOAD_FAILED",message:a.message||a.errMsg||"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25"}))}});typeof r=="function"&&l&&typeof l.onProgressUpdate=="function"&&l.onProgressUpdate(a=>{r({loaded:a.totalBytesSent,total:a.totalBytesExpectedToSend})})})}uploadFile({filePath:s,cloudPath:e,fileType:t="image",onUploadProgress:i}){if(!e)throw new P({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4E0D\u53EF\u4E3A\u7A7A"});let n;return this.getOSSUploadOptionsFromPath({cloudPath:e}).then(r=>{let{url:o,formData:u,name:l}=r.result;n=r.result.fileUrl;let a={url:o,formData:u,name:l,filePath:s,fileType:t};return this.uploadFileToOSS(Object.assign({},a,{onUploadProgress:i}))}).then(()=>this.reportOSSUpload({cloudPath:e})).then(r=>new Promise((o,u)=>{r.success?o({success:!0,filePath:s,fileID:n}):u(new P({code:"UPLOAD_FAILED",message:"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25"}))}))}deleteFile({fileList:s}){let e={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:s})};return this.request(this.setupRequest(e))}getTempFileURL({fileList:s}={}){let e={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:s})};return this.request(this.setupRequest(e))}},ti={init(s){let e=new ei(s),t={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return t},e.customAuth=e.auth,e}};function si({data:s}){let e;e=Pt();let t=JSON.parse(JSON.stringify(s||{}));if(Object.assign(t,{clientInfo:e}),!t.uniIdToken){let{token:i}=$e();i&&(t.uniIdToken=i)}return t}var ii=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"\uFF0C\u4E91\u51FD\u6570[{functionName}]\u5728\u4E91\u7AEF\u4E0D\u5B58\u5728\uFF0C\u8BF7\u68C0\u67E5\u6B64\u4E91\u51FD\u6570\u540D\u79F0\u662F\u5426\u6B63\u786E\u4EE5\u53CA\u8BE5\u4E91\u51FD\u6570\u662F\u5426\u5DF2\u4E0A\u4F20\u5230\u670D\u52A1\u7A7A\u95F4",mode:"append"}],zt=/[\\^$.*+?()[\]{}|]/g,ni=RegExp(zt.source);function bt(s,e,t){return s.replace(new RegExp((i=e)&&ni.test(i)?i.replace(zt,"\\$&"):i,"g"),t);var i}function wt({functionName:s,result:e,logPvd:t}){if(this.config.useDebugFunction&&e&&e.requestId){let i=JSON.stringify({spaceId:this.config.spaceId,functionName:s,requestId:e.requestId});console.log(`[${t}-request]${i}[/${t}-request]`)}}function ri(s){let e=s.callFunction,t=function(i){let n=i.name;i.data=si.call(s,{data:i.data});let r={aliyun:"aliyun",tencent:"tcb"}[this.config.provider];return e.call(this,i).then(o=>(wt.call(this,{functionName:n,result:o,logPvd:r}),Promise.resolve(o)),o=>(wt.call(this,{functionName:n,result:o,logPvd:r}),o&&o.message&&(o.message=function({message:u="",extraInfo:l={},formatter:a=[]}={}){for(let b=0;b<a.length;b++){let{rule:k,content:y,mode:A}=a[b],C=u.match(k);if(!C)continue;let f=y;for(let c=1;c<C.length;c++)f=bt(f,`{$${c}}`,C[c]);for(let c in l)f=bt(f,`{${c}}`,l[c]);return A==="replace"?f:u+f}return u}({message:`[${i.name}]: ${o.message}`,formatter:ii,extraInfo:{functionName:n}})),Promise.reject(o)))};s.callFunction=function(i){let n;return n=t.call(this,i),Object.defineProperty(n,"result",{get:()=>(console.warn("\u5F53\u524D\u8FD4\u56DE\u7ED3\u679C\u4E3APromise\u7C7B\u578B\uFF0C\u4E0D\u53EF\u76F4\u63A5\u8BBF\u95EE\u5176result\u5C5E\u6027\uFF0C\u8BE6\u60C5\u8BF7\u53C2\u8003\uFF1Ahttps://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"),{})}),n}}var Wt=Symbol("CLIENT_DB_INTERNAL");function Pe(s,e){return s.then="DoNotReturnProxyWithAFunctionNamedThen",s._internalType=Wt,s.__v_raw=void 0,new Proxy(s,{get(t,i,n){if(i==="_uniClient")return null;if(i in t||typeof i!="string"){let r=t[i];return typeof r=="function"?r.bind(t):r}return e.get(t,i,n)}})}function vt(s){return{on:(e,t)=>{s[e]=s[e]||[],s[e].indexOf(t)>-1||s[e].push(t)},off:(e,t)=>{s[e]=s[e]||[];let i=s[e].indexOf(t);i!==-1&&s[e].splice(i,1)}}}var oi=["db.Geo","db.command","command.aggregate"];function Vt(s,e){return oi.indexOf(`${s}.${e}`)>-1}function Q(s){switch(Ze(s=qt(s))){case"array":return s.map(e=>Q(e));case"object":return s._internalType===Wt||Object.keys(s).forEach(e=>{s[e]=Q(s[e])}),s;case"regexp":return{$regexp:{source:s.source,flags:s.flags}};case"date":return{$date:s.toISOString()};default:return s}}var Ge=class{constructor(e,t,i){this.content=e,this.prevStage=t||null,this.udb=null,this._database=i}toJSON(){let e=this,t=[e.content];for(;e.prevStage;)e=e.prevStage,t.push(e.content);return{$db:t.reverse().map(i=>({$method:i.$method,$param:Q(i.$param)}))}}getAction(){let e=this.toJSON().$db.find(t=>t.$method==="action");return e&&e.$param&&e.$param[0]}getCommand(){return{$db:this.toJSON().$db.filter(e=>e.$method!=="action")}}get useAggregate(){let e=this,t=!1;for(;e.prevStage;){e=e.prevStage;let i=e.content.$method;if(i==="aggregate"||i==="pipeline"){t=!0;break}}return t}get count(){if(!this.useAggregate)return function(){return this._send("count",Array.from(arguments))};let e=this;return function(){return ue({$method:"count",$param:Q(Array.from(arguments))},e,this._database)}}get(){return this._send("get",Array.from(arguments))}add(){return this._send("add",Array.from(arguments))}remove(){return this._send("remove",Array.from(arguments))}update(){return this._send("update",Array.from(arguments))}end(){return this._send("end",Array.from(arguments))}set(){throw new Error("clientDB\u7981\u6B62\u4F7F\u7528set\u65B9\u6CD5")}_send(e,t){let i=this.getAction(),n=this.getCommand();return n.$db.push({$method:e,$param:Q(t)}),this._database._callCloudFunction({action:i,command:n})}};function ue(s,e,t){return Pe(new Ge(s,e,t),{get(i,n){let r="db";return i&&i.content&&(r=i.content.$method),Vt(r,n)?ue({$method:n},i,t):function(){return ue({$method:n,$param:Q(Array.from(arguments))},i,t)}}})}function qe({path:s,method:e}){return class{constructor(){this.param=Array.from(arguments)}toJSON(){return{$newDb:[...s.map(t=>({$method:t})),{$method:e,$param:this.param}]}}}}var Ye=class extends class{constructor({uniClient:e={}}={}){this._uniClient=e,this._authCallBacks={},this._dbCallBacks={},e.isDefault&&(this._dbCallBacks=Dt("_globalUniCloudDatabaseCallback")),this.auth=vt(this._authCallBacks),Object.assign(this,vt(this._dbCallBacks)),this.env=Pe({},{get:(t,i)=>({$env:i})}),this.Geo=Pe({},{get:(t,i)=>qe({path:["Geo"],method:i})}),this.serverDate=qe({path:[],method:"serverDate"}),this.RegExp=qe({path:[],method:"RegExp"})}getCloudEnv(e){if(typeof e!="string"||!e.trim())throw new Error("getCloudEnv\u53C2\u6570\u9519\u8BEF");return{$env:e.replace("$cloudEnv_","")}}_callback(e,t){let i=this._dbCallBacks;i[e]&&i[e].forEach(n=>{n(...t)})}_callbackAuth(e,t){let i=this._authCallBacks;i[e]&&i[e].forEach(n=>{n(...t)})}multiSend(){let e=Array.from(arguments),t=e.map(i=>{let n=i.getAction(),r=i.getCommand();if(r.$db[r.$db.length-1].$method!=="getTemp")throw new Error("multiSend\u53EA\u652F\u6301\u5B50\u547D\u4EE4\u5185\u4F7F\u7528getTemp");return{action:n,command:r}});return this._callCloudFunction({multiCommand:t,queryList:e})}}{_callCloudFunction({action:e,command:t,multiCommand:i,queryList:n}){function r(l,a){if(i&&n)for(let b=0;b<n.length;b++){let k=n[b];k.udb&&typeof k.udb.setResult=="function"&&(a?k.udb.setResult(a):k.udb.setResult(l.result.dataList[b]))}}let o=z(W("database","invoke")),u=this._uniClient;return o.then(()=>u.callFunction({name:"DCloud-clientDB",type:Is,data:{action:e,command:t,multiCommand:i}})).then(l=>{let{code:a,message:b,token:k,tokenExpired:y,systemInfo:A=[]}=l.result;if(A)for(let f=0;f<A.length;f++){let{level:c,message:d,detail:E}=A[f],v=console[c]||console.log,w="[System Info]"+d;E&&(w=`${w}
\u8BE6\u7EC6\u4FE1\u606F\uFF1A${E}`),v(w)}if(a){let f=new P({message:b,code:a,requestId:l.requestId});return this._callback("error",[f]),Promise.reject(f)}k&&y&&(function({token:f,tokenExpired:c}={}){f&&j.setStorageSync("uni_id_token",f),c&&j.setStorageSync("uni_id_token_expired",c)}({token:k,tokenExpired:y}),this._callbackAuth("refreshToken",[{token:k,tokenExpired:y}]),this._callback("refreshToken",[{token:k,tokenExpired:y}]));let C=l.result.affectedDocs;return typeof C=="number"&&Object.defineProperty(l.result,"affectedDocs",{get:()=>(console.warn("affectedDocs\u4E0D\u518D\u63A8\u8350\u4F7F\u7528\uFF0C\u8BF7\u4F7F\u7528inserted/deleted/updated/data.length\u66FF\u4EE3"),C)}),z(W("database","success"),l).then(()=>z(W("database","complete"),l)).then(()=>(r(l,null),Promise.resolve(l)))},l=>{let a=new P({code:l.code||"SYSTEM_ERROR",message:l.message,requestId:l.requestId});return this._callback("error",[a]),/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(l.message)&&console.warn("clientDB\u672A\u521D\u59CB\u5316\uFF0C\u8BF7\u5728web\u63A7\u5236\u53F0\u4FDD\u5B58\u4E00\u6B21schema\u4EE5\u5F00\u542FclientDB"),z(W("database","fail"),l).then(()=>z(W("database","complete"),l)).then(()=>(r(null,l),Promise.reject(l)))})}};function ai(s){s.database=function(e){if(e&&Object.keys(e).length>0)return s.init(e).database();if(this._database)return this._database;let t=function(i,n={}){return Pe(new i(n),{get:(r,o)=>Vt("db",o)?ue({$method:o},null,r):function(){return ue({$method:o,$param:Q(Array.from(arguments))},null,r)}})}(Ye,{uniClient:s});return this._database=t,t}}var Ht,xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ci=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function ui(){let s=$e().token||"",e=s.split(".");if(!s||e.length!==3)return{uid:null,role:[],permission:[],tokenExpired:0};let t;try{t=JSON.parse((i=e[1],decodeURIComponent(Ht(i).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch(n){throw new Error("\u83B7\u53D6\u5F53\u524D\u7528\u6237\u4FE1\u606F\u51FA\u9519\uFF0C\u8BE6\u7EC6\u9519\u8BEF\u4FE1\u606F\u4E3A\uFF1A"+n.message)}var i;return t.tokenExpired=1e3*t.exp,delete t.exp,delete t.iat,t}Ht=typeof atob!="function"?function(s){if(s=String(s).replace(/[\t\n\f\r ]+/g,""),!ci.test(s))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var e;s+="==".slice(2-(3&s.length));for(var t,i,n="",r=0;r<s.length;)e=xe.indexOf(s.charAt(r++))<<18|xe.indexOf(s.charAt(r++))<<12|(t=xe.indexOf(s.charAt(r++)))<<6|(i=xe.indexOf(s.charAt(r++))),n+=t===64?String.fromCharCode(e>>16&255):i===64?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,255&e);return n}:atob;var li=Ss(ne(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});let t="chooseAndUploadFile:ok",i="chooseAndUploadFile:fail";function n(o,u){return o.tempFiles.forEach((l,a)=>{l.name||(l.name=l.path.substring(l.path.lastIndexOf("/")+1)),u&&(l.fileType=u),l.cloudPath=Date.now()+"_"+a+l.name.substring(l.name.lastIndexOf("."))}),o.tempFilePaths||(o.tempFilePaths=o.tempFiles.map(l=>l.path)),o}function r(o,u,{onChooseFile:l,onUploadProgress:a}){return u.then(b=>{if(l){let k=l(b);if(k!==void 0)return Promise.resolve(k).then(y=>y===void 0?b:y)}return b}).then(b=>b===!1?{errMsg:t,tempFilePaths:[],tempFiles:[]}:function(k,y,A=5,C){(y=Object.assign({},y)).errMsg=t;let f=y.tempFiles,c=f.length,d=0;return new Promise(E=>{for(;d<A;)v();function v(){let w=d++;if(w>=c)return void(!f.find(F=>!F.url&&!F.errMsg)&&E(y));let x=f[w];k.uploadFile({filePath:x.path,cloudPath:x.cloudPath,fileType:x.fileType,onUploadProgress(F){F.index=w,F.tempFile=x,F.tempFilePath=x.path,C&&C(F)}}).then(F=>{x.url=F.fileID,w<c&&v()}).catch(F=>{x.errMsg=F.errMsg||F.message,w<c&&v()})}})}(o,b,5,a))}e.initChooseAndUploadFile=function(o){return function(u={type:"all"}){return u.type==="image"?r(o,function(l){let{count:a,sizeType:b,sourceType:k=["album","camera"],extension:y}=l;return new Promise((A,C)=>{uni.chooseImage({count:a,sizeType:b,sourceType:k,extension:y,success(f){A(n(f,"image"))},fail(f){C({errMsg:f.errMsg.replace("chooseImage:fail",i)})}})})}(u),u):u.type==="video"?r(o,function(l){let{camera:a,compressed:b,maxDuration:k,sourceType:y=["album","camera"],extension:A}=l;return new Promise((C,f)=>{uni.chooseVideo({camera:a,compressed:b,maxDuration:k,sourceType:y,extension:A,success(c){let{tempFilePath:d,duration:E,size:v,height:w,width:x}=c;C(n({errMsg:"chooseVideo:ok",tempFilePaths:[d],tempFiles:[{name:c.tempFile&&c.tempFile.name||"",path:d,size:v,type:c.tempFile&&c.tempFile.type||"",width:x,height:w,duration:E,fileType:"video",cloudPath:""}]},"video"))},fail(c){f({errMsg:c.errMsg.replace("chooseVideo:fail",i)})}})})}(u),u):r(o,function(l){let{count:a,extension:b}=l;return new Promise((k,y)=>{let A=uni.chooseFile;if(typeof wx!="undefined"&&typeof wx.chooseMessageFile=="function"&&(A=wx.chooseMessageFile),typeof A!="function")return y({errMsg:i+" \u8BF7\u6307\u5B9A type \u7C7B\u578B\uFF0C\u8BE5\u5E73\u53F0\u4EC5\u652F\u6301\u9009\u62E9 image \u6216 video\u3002"});A({type:"all",count:a,extension:b,success(C){k(n(C))},fail(C){y({errMsg:C.errMsg.replace("chooseFile:fail",i)})}})})}(u),u)}}})),hi="manual";function Jt(s){return{props:{localdata:{type:Array,default:()=>[]},options:{type:[Object,Array],default:()=>({})},spaceInfo:{type:Object,default:()=>({})},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:()=>({mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{}}),created(){this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch(()=>{var e=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach(t=>{e.push(this[t])}),e},(e,t)=>{if(this.loadtime===hi)return;let i=!1,n=[];for(let r=2;r<e.length;r++)e[r]!==t[r]&&(n.push(e[r]),i=!0);e[0]!==t[0]&&(this.mixinDatacomPage.current=this.pageCurrent),this.mixinDatacomPage.size=this.pageSize,this.onMixinDatacomPropsChange(i,n)})},methods:{onMixinDatacomPropsChange(e,t){},mixinDatacomEasyGet({getone:e=!1,success:t,fail:i}={}){this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomGet().then(n=>{this.mixinDatacomLoading=!1;let{data:r,count:o}=n.result;this.getcount&&(this.mixinDatacomPage.count=o),this.mixinDatacomHasMore=r.length<this.pageSize;let u=e?r.length?r[0]:void 0:r;this.mixinDatacomResData=u,t&&t(u)}).catch(n=>{this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=n,i&&i(n)}))},mixinDatacomGet(e={}){let t=s.database(this.spaceInfo),i=e.action||this.action;i&&(t=t.action(i));let n=e.collection||this.collection;t=Array.isArray(n)?t.collection(...n):t.collection(n);let r=e.where||this.where;r&&Object.keys(r).length&&(t=t.where(r));let o=e.field||this.field;o&&(t=t.field(o));let u=e.foreignKey||this.foreignKey;u&&(t=t.foreignKey(u));let l=e.groupby||this.groupby;l&&(t=t.groupBy(l));let a=e.groupField||this.groupField;a&&(t=t.groupField(a)),(e.distinct!==void 0?e.distinct:this.distinct)===!0&&(t=t.distinct());let b=e.orderby||this.orderby;b&&(t=t.orderBy(b));let k=e.pageCurrent!==void 0?e.pageCurrent:this.mixinDatacomPage.current,y=e.pageSize!==void 0?e.pageSize:this.mixinDatacomPage.size,A=e.getcount!==void 0?e.getcount:this.getcount,C=e.gettree!==void 0?e.gettree:this.gettree,f=e.gettreepath!==void 0?e.gettreepath:this.gettreepath,c={getCount:A},d={limitLevel:e.limitlevel!==void 0?e.limitlevel:this.limitlevel,startWith:e.startwith!==void 0?e.startwith:this.startwith};return C&&(c.getTree=d),f&&(c.getTreePath=d),t=t.skip(y*(k-1)).limit(y).get(c),t}}}}function di(s){return function(e,t={}){t=function(u,l={}){return u.customUI=l.customUI||u.customUI,Object.assign(u.loadingOptions,l.loadingOptions),Object.assign(u.errorOptions,l.errorOptions),u}({customUI:!1,loadingOptions:{text:"\u52A0\u8F7D\u4E2D...",mask:!0},errorOptions:{type:"modal",retry:!1}},t);let{customUI:i,loadingOptions:n,errorOptions:r}=t,o=!i;return new Proxy({},{get:(u,l)=>function a(...b){return T(this,null,function*(){let k;o&&uni.showLoading({title:n.title,mask:n.mask});try{k=yield s.callFunction({name:e,type:Ts,data:{method:l,params:b}})}catch(C){k={result:C}}let{errCode:y,errMsg:A}=k.result||{};if(o&&uni.hideLoading(),y){if(o)if(r.type==="toast")uni.showToast({title:A,icon:"none"});else{if(r.type!=="modal")throw new Error(`Invalid errorOptions.type: ${r.type}`);{let{confirm:f}=yield function(){return T(this,arguments,function*({title:c,content:d,showCancel:E,cancelText:v,confirmText:w}={}){return new Promise((x,F)=>{uni.showModal({title:c,content:d,showCancel:E,cancelText:v,confirmText:w,success(O){x(O)},fail(){x({confirm:!1,cancel:!0})}})})})}({title:"\u63D0\u793A",content:A,showCancel:r.retry,cancelText:"\u53D6\u6D88",confirmText:r.retry?"\u91CD\u8BD5":"\u786E\u5B9A"});if(r.retry&&f)return a(...b)}}let C=new P({code:y,message:A,requestId:k.requestId});throw C.detail=k.result,C}return k.result})}})}}function At(s){if(s.initUniCloudStatus&&s.initUniCloudStatus!=="rejected")return;let e=Promise.resolve();var t;t=1,e=new Promise((n,r)=>{setTimeout(()=>{n()},t)}),s.isReady=!1,s.isDefault=!1;let i=s.auth();s.initUniCloudStatus="pending",s.initUniCloud=e.then(()=>i.getLoginState()).then(n=>n?Promise.resolve():i.signInAnonymously()).then(()=>Promise.resolve()).then(({address:n,port:r}={})=>Promise.resolve()).then(()=>{s.isReady=!0,s.initUniCloudStatus="fulfilled"}).catch(n=>{console.error(n),s.initUniCloudStatus="rejected"})}var J=new class{init(s){let e={},t=s.debugFunction!==!1&&Ct&&Ft==="app-plus";switch(s.provider){case"tencent":e=$s.init(Object.assign(s,{useDebugFunction:t}));break;case"aliyun":e=Rs.init(Object.assign(s,{useDebugFunction:t}));break;case"private":e=ti.init(Object.assign(s,{useDebugFunction:t}));break;default:throw new Error("\u672A\u63D0\u4F9B\u6B63\u786E\u7684provider\u53C2\u6570")}return At(e),e.reInit=function(){At(this)},ri(e),function(i){let n=i.uploadFile;i.uploadFile=function(r){return n.call(this,r)}}(e),ai(e),function(i){i.getCurrentUserInfo=ui,i.chooseAndUploadFile=li.initChooseAndUploadFile(i),Object.assign(i,{get mixinDatacom(){return Jt(i)}}),i.importObject=di(i)}(e),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach(i=>{if(!e[i])return;let n=e[i];e[i]=function(){return e.reInit(),n.apply(e,Array.from(arguments))},e[i]=It(e[i],i).bind(e)}),e.init=this.init,e}};(()=>{{let s=Ps,e={};if(s.length===1)e=s[0],J=J.init(e),J.isDefault=!0;else{let t=["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"],i;i=s&&s.length>0?"\u5E94\u7528\u6709\u591A\u4E2A\u670D\u52A1\u7A7A\u95F4\uFF0C\u8BF7\u901A\u8FC7uniCloud.init\u65B9\u6CD5\u6307\u5B9A\u8981\u4F7F\u7528\u7684\u670D\u52A1\u7A7A\u95F4":"\u5E94\u7528\u672A\u5173\u8054\u670D\u52A1\u7A7A\u95F4\uFF0C\u8BF7\u5728uniCloud\u76EE\u5F55\u53F3\u952E\u5173\u8054\u670D\u52A1\u7A7A\u95F4",t.forEach(n=>{J[n]=function(){return console.error(i),Promise.reject(new P({code:"SYS_ERR",message:i}))}})}Object.assign(J,{get mixinDatacom(){return Jt(J)}}),J.addInterceptor=Os,J.removeInterceptor=Bs}})();var Kt=J;var R=$(Z());var fi={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},gi={"uni-load-more.contentdown":"\u4E0A\u62C9\u663E\u793A\u66F4\u591A","uni-load-more.contentrefresh":"\u6B63\u5728\u52A0\u8F7D...","uni-load-more.contentnomore":"\u6CA1\u6709\u66F4\u591A\u6570\u636E\u4E86"},pi={"uni-load-more.contentdown":"\u4E0A\u62C9\u986F\u793A\u66F4\u591A","uni-load-more.contentrefresh":"\u6B63\u5728\u52A0\u8F09...","uni-load-more.contentnomore":"\u6C92\u6709\u66F4\u591A\u6578\u64DA\u4E86"},mi={en:fi,"zh-Hans":gi,"zh-Hant":pi},yi={"uni-load-more":{"":{flexDirection:"row",height:40,alignItems:"center",justifyContent:"center"}},"uni-load-more__text":{"":{fontSize:14,marginLeft:8}},"uni-load-more__img":{"":{width:24,height:24}},"uni-load-more__img--nvue":{"":{color:"#666666"}},"uni-load-more__img--android":{"":{width:24,height:24,transform:"rotate(0deg)"}},"uni-load-more__img--ios":{"":{width:24,height:24,transform:"rotate(0deg)"}}},Gt;setTimeout(()=>{Gt=uni.getSystemInfoSync().platform},16);var{t:et}=Ae(mi),_i={name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default(){return{contentdown:"",contentrefresh:"",contentnomore:""}}},showText:{type:Boolean,default:!0}},data(){return{webviewHide:!1,platform:Gt,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZV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"}},computed:{iconSnowWidth(){return(Math.floor(this.iconSize/24)||1)*2},contentdownText(){return this.contentText.contentdown||et("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||et("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||et("uni-load-more.contentnomore")}},mounted(){var s=getCurrentPages(),e=s[s.length-1],t=e.$getAppWebview();t.addEventListener("hide",()=>{this.webviewHide=!0}),t.addEventListener("show",()=>{this.webviewHide=!1})},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}};function ki(s,e,t,i,n,r){return(0,R.openBlock)(),(0,R.createElementBlock)("view",{class:"uni-load-more",onClick:e[0]||(e[0]=(...o)=>r.onClick&&r.onClick(...o))},[!n.webviewHide&&t.status==="loading"&&t.showIcon?((0,R.openBlock)(),(0,R.createElementBlock)("loading-indicator",{key:0,style:(0,R.normalizeStyle)({color:t.color,width:t.iconSize+"px",height:t.iconSize+"px"}),animating:!0,class:"uni-load-more__img uni-load-more__img--nvue"},null,4)):(0,R.createCommentVNode)("",!0),t.showText?((0,R.openBlock)(),(0,R.createElementBlock)("u-text",{key:1,class:"uni-load-more__text",style:(0,R.normalizeStyle)({color:t.color})},(0,R.toDisplayString)(t.status==="more"?r.contentdownText:t.status==="loading"?r.contentrefreshText:r.contentnomoreText),5)):(0,R.createCommentVNode)("",!0)])}var Yt=q(_i,[["render",ki],["styles",[yi]]]);var h=$(Z());var bi={"uni-data-loading":{"":{flexDirection:"row",justifyContent:"center",alignItems:"center",height:36,paddingLeft:10,color:"#999999"}},"uni-data-checklist":{"":{position:"relative",zIndex:0,flex:1}},"checklist-group":{".uni-data-checklist ":{flexDirection:"row",flexWrap:"wrap"},".uni-data-checklist .is-list":{flexDirection:"column"}},"checklist-box":{".uni-data-checklist .checklist-group ":{flexDirection:"row",alignItems:"center",position:"relative",marginTop:5,marginRight:25,marginBottom:5,marginLeft:0},".uni-data-checklist .checklist-group .is--button":{marginRight:10,paddingTop:5,paddingRight:10,paddingBottom:5,paddingLeft:10,borderWidth:1,borderStyle:"solid",borderColor:"#DCDFE6",borderRadius:3,transitionProperty:"borderColor",transitionDuration:200},".uni-data-checklist .checklist-group .is--button.is-disable":{borderWidth:1,borderStyle:"solid",borderColor:"#eeeeee",opacity:.4},".uni-data-checklist .checklist-group .is--button.is-checked":{borderColor:"#2979ff"},".uni-data-checklist .checklist-group .is--button.is-checked.is-disable":{opacity:.4},".uni-data-checklist .checklist-group .is--tag":{marginRight:10,paddingTop:5,paddingRight:10,paddingBottom:5,paddingLeft:10,borderWidth:1,borderStyle:"solid",borderColor:"#DCDFE6",borderRadius:3,backgroundColor:"#f5f5f5"},".uni-data-checklist .checklist-group .is--tag.is-disable":{opacity:.4},".uni-data-checklist .checklist-group .is--tag.is-checked":{backgroundColor:"#2979ff",borderColor:"#2979ff"},".uni-data-checklist .checklist-group .is--list":{paddingTop:10,paddingRight:15,paddingBottom:10,paddingLeft:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0},".uni-data-checklist .checklist-group .is--list.is-list-border":{borderTopWidth:1,borderTopStyle:"solid",borderTopColor:"#eeeeee"}},hidden:{".uni-data-checklist .checklist-group .checklist-box ":{position:"absolute",opacity:0}},"checklist-content":{".uni-data-checklist .checklist-group .checklist-box ":{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"checklist-text":{".uni-data-checklist .checklist-group .checklist-box .checklist-content ":{fontSize:14,color:"#666666",marginLeft:5,lineHeight:14},".uni-data-checklist .checklist-group .checklist-box.is--default.is-disable ":{color:"#999999"},".uni-data-checklist .checklist-group .checklist-box.is--default.is-checked ":{color:"#2979ff"},".uni-data-checklist .checklist-group .checklist-box.is--default.is-checked.is-disable ":{opacity:.4},".uni-data-checklist .checklist-group .checklist-box.is--button.is-disable ":{color:"#999999"},".uni-data-checklist .checklist-group .checklist-box.is--button.is-checked ":{color:"#2979ff"},".uni-data-checklist .checklist-group .checklist-box.is--tag ":{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,color:"#666666"},".uni-data-checklist .checklist-group .checklist-box.is--tag.is-checked ":{color:"#ffffff"},".uni-data-checklist .checklist-group .checklist-box.is--list.is-disable ":{color:"#999999"},".uni-data-checklist .checklist-group .checklist-box.is--list.is-checked ":{color:"#2979ff"},".uni-data-checklist .checklist-group .checklist-box.is--list.is-checked.is-disable ":{opacity:.4}},checkobx__list:{".uni-data-checklist .checklist-group .checklist-box .checklist-content ":{borderRightWidth:1,borderRightColor:"#007aff",borderRightStyle:"solid",borderBottomWidth:1,borderBottomColor:"#007aff",borderBottomStyle:"solid",height:12,width:6,left:-5,transformOrigin:"center",transform:"rotate(45deg)",opacity:0},".uni-data-checklist .checklist-group .checklist-box.is--list.is-checked .checklist-content ":{opacity:1,borderColor:"#2979ff"}},checkbox__inner:{".uni-data-checklist .checklist-group .checklist-box ":{position:"relative",width:16,height:16,borderWidth:1,borderStyle:"solid",borderColor:"#DCDFE6",borderRadius:4,backgroundColor:"#ffffff",zIndex:1},".uni-data-checklist .checklist-group .checklist-box.is--default.is-disable ":{backgroundColor:"#F2F6FC",borderColor:"#DCDFE6"},".uni-data-checklist .checklist-group .checklist-box.is--default.is-checked ":{borderColor:"#2979ff",backgroundColor:"#2979ff"},".uni-data-checklist .checklist-group .checklist-box.is--default.is-checked.is-disable ":{opacity:.4},".uni-data-checklist .checklist-group .checklist-box.is--button.is-disable ":{backgroundColor:"#F2F6FC",borderColor:"#DCDFE6"},".uni-data-checklist .checklist-group .checklist-box.is--button.is-checked ":{borderColor:"#2979ff",backgroundColor:"#2979ff"},".uni-data-checklist .checklist-group .checklist-box.is--list.is-disable ":{backgroundColor:"#F2F6FC",borderColor:"#DCDFE6"},".uni-data-checklist .checklist-group .checklist-box.is--list.is-checked ":{borderColor:"#2979ff",backgroundColor:"#2979ff"},".uni-data-checklist .checklist-group .checklist-box.is--list.is-checked.is-disable ":{opacity:.4}},"checkbox__inner-icon":{".uni-data-checklist .checklist-group .checklist-box .checkbox__inner ":{position:"absolute",top:2,left:5,height:8,width:4,borderRightWidth:1,borderRightColor:"#ffffff",borderRightStyle:"solid",borderBottomWidth:1,borderBottomColor:"#ffffff",borderBottomStyle:"solid",opacity:0,transformOrigin:"center",transform:"rotate(40deg)"},".uni-data-checklist .checklist-group .checklist-box.is--default.is-checked .checkbox__inner ":{opacity:1,transform:"rotate(45deg)"},".uni-data-checklist .checklist-group .checklist-box.is--button.is-checked .checkbox__inner ":{opacity:1,transform:"rotate(45deg)"},".uni-data-checklist .checklist-group .checklist-box.is--list.is-checked .checkbox__inner ":{opacity:1,transform:"rotate(45deg)"}},radio__inner:{".uni-data-checklist .checklist-group .checklist-box ":{justifyContent:"center",alignItems:"center",position:"relative",width:16,height:16,borderWidth:1,borderStyle:"solid",borderColor:"#DCDFE6",borderRadius:16,backgroundColor:"#ffffff",zIndex:1},".uni-data-checklist .checklist-group .checklist-box.is--default.is-disable ":{backgroundColor:"#F2F6FC",borderColor:"#DCDFE6"},".uni-data-checklist .checklist-group .checklist-box.is--default.is-checked ":{borderColor:"#2979ff"},".uni-data-checklist .checklist-group .checklist-box.is--default.is-checked.is-disable ":{opacity:.4},".uni-data-checklist .checklist-group .checklist-box.is--button.is-disable ":{backgroundColor:"#F2F6FC",borderColor:"#DCDFE6"},".uni-data-checklist .checklist-group .checklist-box.is--button.is-checked ":{borderColor:"#2979ff"}},"radio__inner-icon":{".uni-data-checklist .checklist-group .checklist-box .radio__inner ":{width:8,height:8,borderRadius:10,opacity:0},".uni-data-checklist .checklist-group .checklist-box.is--default.is-checked .radio__inner ":{opacity:1,backgroundColor:"#2979ff"},".uni-data-checklist .checklist-group .checklist-box.is--button.is-checked .radio__inner ":{opacity:1,backgroundColor:"#2979ff"},".uni-data-checklist .checklist-group .checklist-box.is--list.is-checked .radio__inner ":{opacity:1}},"@TRANSITION":{"checklist-box":{property:"borderColor",duration:200}}},wi={name:"uniDataChecklist",mixins:[Kt.mixinDatacom||{}],emits:["input","update:modelValue","change"],props:{mode:{type:String,default:"default"},multiple:{type:Boolean,default:!1},value:{type:[Array,String,Number],default(){return""}},modelValue:{type:[Array,String,Number],default(){return""}},localdata:{type:Array,default(){return[]}},min:{type:[Number,String],default:""},max:{type:[Number,String],default:""},wrap:{type:Boolean,default:!1},icon:{type:String,default:"left"},selectedColor:{type:String,default:""},selectedTextColor:{type:String,default:""},emptyText:{type:String,default:"\u6682\u65E0\u6570\u636E"},disabled:{type:Boolean,default:!1},map:{type:Object,default(){return{text:"text",value:"value"}}}},watch:{localdata:{handler(s){this.range=s,this.dataList=this.getDataList(this.getSelectedValue(s))},deep:!0},mixinDatacomResData(s){this.range=s,this.dataList=this.getDataList(this.getSelectedValue(s))},value(s){this.dataList=this.getDataList(s),this.is_reset||(this.is_reset=!1,this.formItem&&this.formItem.setValue(s))},modelValue(s){this.dataList=this.getDataList(s),this.is_reset||(this.is_reset=!1,this.formItem&&this.formItem.setValue(s))}},data(){return{dataList:[],range:[],contentText:{contentdown:"\u67E5\u770B\u66F4\u591A",contentrefresh:"\u52A0\u8F7D\u4E2D",contentnomore:"\u6CA1\u6709\u66F4\u591A"},isLocal:!0,styles:{selectedColor:"#2979ff",selectedTextColor:"#666"},isTop:0}},computed:{dataValue(){return this.value===""?this.modelValue:this.modelValue===""?this.value:this.value}},created(){this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.formItem&&(this.isTop=6,this.formItem.name&&(this.is_reset||(this.is_reset=!1,this.formItem.setValue(this.dataValue)),this.rename=this.formItem.name,this.form.inputChildrens.push(this))),this.localdata&&this.localdata.length!==0?(this.isLocal=!0,this.range=this.localdata,this.dataList=this.getDataList(this.getSelectedValue(this.range))):this.collection&&(this.isLocal=!1,this.loadData())},methods:{loadData(){this.mixinDatacomGet().then(s=>{this.mixinDatacomResData=s.result.data,this.mixinDatacomResData.length===0?(this.isLocal=!1,this.mixinDatacomErrorMessage=this.emptyText):this.isLocal=!0}).catch(s=>{this.mixinDatacomErrorMessage=s.message})},getForm(s="uniForms"){let e=this.$parent,t=e.$options.name;for(;t!==s;){if(e=e.$parent,!e)return!1;t=e.$options.name}return e},chagne(s){let e=s.detail.value,t={value:[],data:[]};if(this.multiple)this.range.forEach(i=>{e.includes(i[this.map.value]+"")&&(t.value.push(i[this.map.value]),t.data.push(i))});else{let i=this.range.find(n=>n[this.map.value]+""===e);i&&(t={value:i[this.map.value],data:i})}this.formItem&&this.formItem.setValue(t.value),this.$emit("input",t.value),this.$emit("update:modelValue",t.value),this.$emit("change",{detail:t}),this.multiple?this.dataList=this.getDataList(t.value,!0):this.dataList=this.getDataList(t.value)},getDataList(s){let e=JSON.parse(JSON.stringify(this.range)),t=[];return this.multiple&&(Array.isArray(s)||(s=[])),e.forEach((i,n)=>{if(i.disabled=i.disable||i.disabled||!1,this.multiple)if(s.length>0){let r=s.find(o=>o===i[this.map.value]);i.selected=r!==void 0}else i.selected=!1;else i.selected=s===i[this.map.value];t.push(i)}),this.setRange(t)},setRange(s){let e=s.filter(n=>n.selected),t=Number(this.min)||0,i=Number(this.max)||"";return s.forEach((n,r)=>{this.multiple&&(e.length<=t&&e.find(u=>u[this.map.value]===n[this.map.value])!==void 0&&(n.disabled=!0),e.length>=i&&i!==""&&e.find(u=>u[this.map.value]===n[this.map.value])===void 0&&(n.disabled=!0)),this.setStyles(n,r),s[r]=n}),s},setStyles(s,e){s.styleBackgroud=this.setStyleBackgroud(s),s.styleIcon=this.setStyleIcon(s),s.styleIconText=this.setStyleIconText(s),s.styleRightIcon=this.setStyleRightIcon(s)},getSelectedValue(s){if(!this.multiple)return this.dataValue;let e=[];return s.forEach(t=>{t.selected&&e.push(t[this.map.value])}),this.dataValue&&this.dataValue.length>0?this.dataValue:e},setStyleBackgroud(s){let e={},t=this.selectedColor?this.selectedColor:"#2979ff";this.mode!=="list"&&(e["border-color"]=s.selected?t:"#DCDFE6"),this.mode==="tag"&&(e["background-color"]=s.selected?t:"#f5f5f5");let i="";for(let n in e)i+=`${n}:${e[n]};`;return i},setStyleIcon(s){let e={},t="",i=this.selectedColor?this.selectedColor:"#2979ff";e["background-color"]=s.selected?i:"#fff",e["border-color"]=s.selected?i:"#DCDFE6",!s.selected&&s.disabled&&(e["background-color"]="#F2F6FC",e["border-color"]=s.selected?i:"#DCDFE6");for(let n in e)t+=`${n}:${e[n]};`;return t},setStyleIconText(s){let e={},t="",i=this.selectedColor?this.selectedColor:"#2979ff";this.mode==="tag"?e.color=s.selected?this.selectedTextColor?this.selectedTextColor:"#fff":"#666":e.color=s.selected?this.selectedTextColor?this.selectedTextColor:i:"#666",!s.selected&&s.disabled&&(e.color="#999");for(let n in e)t+=`${n}:${e[n]};`;return t},setStyleRightIcon(s){let e={},t="";this.mode==="list"&&(e["border-color"]=s.selected?this.styles.selectedColor:"#DCDFE6");for(let i in e)t+=`${i}:${e[i]};`;return t}}};function vi(s,e,t,i,n,r){let o=ee((0,h.resolveDynamicComponent)("uni-load-more"),Yt),u=(0,h.resolveComponent)("checkbox"),l=(0,h.resolveComponent)("label"),a=(0,h.resolveComponent)("checkbox-group"),b=(0,h.resolveComponent)("radio"),k=(0,h.resolveComponent)("radio-group");return(0,h.openBlock)(),(0,h.createElementBlock)("view",{class:"uni-data-checklist",style:(0,h.normalizeStyle)({"margin-top":n.isTop+"px"})},[n.isLocal?((0,h.openBlock)(),(0,h.createElementBlock)(h.Fragment,{key:1},[t.multiple?((0,h.openBlock)(),(0,h.createBlock)(a,{key:0,class:(0,h.normalizeClass)(["checklist-group",{"is-list":t.mode==="list"||t.wrap}]),onChange:r.chagne},{default:(0,h.withCtx)(()=>[((0,h.openBlock)(!0),(0,h.createElementBlock)(h.Fragment,null,(0,h.renderList)(n.dataList,(y,A)=>((0,h.openBlock)(),(0,h.createBlock)(l,{class:(0,h.normalizeClass)(["checklist-box",["is--"+t.mode,y.selected?"is-checked":"",t.disabled||!!y.disabled?"is-disable":"",A!==0&&t.mode==="list"?"is-list-border":""]]),style:(0,h.normalizeStyle)(y.styleBackgroud),key:A},{default:(0,h.withCtx)(()=>[(0,h.createVNode)(u,{class:"hidden",hidden:"",disabled:t.disabled||!!y.disabled,value:y[t.map.value]+"",checked:y.selected},null,8,["disabled","value","checked"]),t.mode!=="tag"&&t.mode!=="list"||t.mode==="list"&&t.icon==="left"?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0,class:"checkbox__inner",style:(0,h.normalizeStyle)(y.styleIcon)},[(0,h.createElementVNode)("view",{class:"checkbox__inner-icon"})],4)):(0,h.createCommentVNode)("",!0),(0,h.createElementVNode)("view",{class:(0,h.normalizeClass)(["checklist-content",{"list-content":t.mode==="list"&&t.icon==="left"}])},[(0,h.createElementVNode)("u-text",{class:"checklist-text",style:(0,h.normalizeStyle)(y.styleIconText)},(0,h.toDisplayString)(y[t.map.text]),5),t.mode==="list"&&t.icon==="right"?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0,class:"checkobx__list",style:(0,h.normalizeStyle)(y.styleBackgroud)},null,4)):(0,h.createCommentVNode)("",!0)],2)]),_:2},1032,["class","style"]))),128))]),_:1},8,["class","onChange"])):((0,h.openBlock)(),(0,h.createBlock)(k,{key:1,class:(0,h.normalizeClass)(["checklist-group",{"is-list":t.mode==="list","is-wrap":t.wrap}]),onChange:r.chagne},{default:(0,h.withCtx)(()=>[((0,h.openBlock)(!0),(0,h.createElementBlock)(h.Fragment,null,(0,h.renderList)(n.dataList,(y,A)=>((0,h.openBlock)(),(0,h.createBlock)(l,{class:(0,h.normalizeClass)(["checklist-box",["is--"+t.mode,y.selected?"is-checked":"",t.disabled||!!y.disabled?"is-disable":"",A!==0&&t.mode==="list"?"is-list-border":""]]),style:(0,h.normalizeStyle)(y.styleBackgroud),key:A},{default:(0,h.withCtx)(()=>[(0,h.createVNode)(b,{class:"hidden",hidden:"",disabled:t.disabled||y.disabled,value:y[t.map.value]+"",checked:y.selected},null,8,["disabled","value","checked"]),t.mode!=="tag"&&t.mode!=="list"||t.mode==="list"&&t.icon==="left"?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0,class:"radio__inner",style:(0,h.normalizeStyle)(y.styleBackgroud)},[(0,h.createElementVNode)("view",{class:"radio__inner-icon",style:(0,h.normalizeStyle)(y.styleIcon)},null,4)],4)):(0,h.createCommentVNode)("",!0),(0,h.createElementVNode)("view",{class:(0,h.normalizeClass)(["checklist-content",{"list-content":t.mode==="list"&&t.icon==="left"}])},[(0,h.createElementVNode)("u-text",{class:"checklist-text",style:(0,h.normalizeStyle)(y.styleIconText)},(0,h.toDisplayString)(y[t.map.text]),5),t.mode==="list"&&t.icon==="right"?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0,style:(0,h.normalizeStyle)(y.styleRightIcon),class:"checkobx__list"},null,4)):(0,h.createCommentVNode)("",!0)],2)]),_:2},1032,["class","style"]))),128))]),_:1},8,["class","onChange"]))],64)):((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0,class:"uni-data-loading"},[s.mixinDatacomErrorMessage?((0,h.openBlock)(),(0,h.createElementBlock)("u-text",{key:1},(0,h.toDisplayString)(s.mixinDatacomErrorMessage),1)):((0,h.openBlock)(),(0,h.createBlock)(o,{key:0,status:"loading",iconType:"snow",iconSize:18,"content-text":n.contentText},null,8,["content-text"]))]))],4)}var Zt=q(wi,[["render",vi],["styles",[bi]]]);var I=$(Z());var Ai={"uni-section":{"":{backgroundColor:"#ffffff",marginTop:10}},"uni-section-header":{"":{position:"relative",flexDirection:"row",alignItems:"center",paddingTop:12,paddingRight:10,paddingBottom:12,paddingLeft:10,fontWeight:"normal"}},"uni-section__head":{"":{flexDirection:"row",justifyContent:"center",alignItems:"center",marginRight:10}},line:{"":{height:12,backgroundColor:"#2979ff",borderRadius:10,width:4}},circle:{"":{width:8,height:8,borderTopRightRadius:50,borderTopLeftRadius:50,borderBottomLeftRadius:50,borderBottomRightRadius:50,backgroundColor:"#2979ff"}},"uni-section__content":{"":{flexDirection:"column",flex:1,color:"#333333"}},"uni-section__content-title":{"":{fontSize:14,color:"#2979ff"}},distraction:{"":{flexDirection:"row",alignItems:"center"}},"uni-section__content-sub":{"":{fontSize:12,color:"#999999",lineHeight:16,marginTop:2}},"is--hidden":{"":{overflow:"hidden"}}},Ei={name:"UniSection",emits:["click"],props:{type:{type:String,default:""},title:{type:String,default:""},color:{type:String,default:"#333"},subTitle:{type:String,default:""},padding:{type:Boolean,default:!1},overflow:{type:Boolean,default:!1}},data(){return{}},watch:{title(s){uni.report&&s!==""&&uni.report("title",s)}},methods:{onClick(){this.$emit("click")}}};function xi(s,e,t,i,n,r){return(0,I.openBlock)(),(0,I.createElementBlock)("view",{class:"uni-section"},[(0,I.createElementVNode)("view",{class:"uni-section-header",nvue:""},[t.type?((0,I.openBlock)(),(0,I.createElementBlock)("view",{key:0,class:"uni-section__head"},[(0,I.createElementVNode)("view",{class:(0,I.normalizeClass)([t.type,"uni-section__head-tag"])},null,2)])):(0,I.createCommentVNode)("",!0),(0,I.createElementVNode)("view",{class:"uni-section__content"},[(0,I.createElementVNode)("u-text",{class:(0,I.normalizeClass)([{distraction:!t.subTitle},"uni-section__content-title"]),style:(0,I.normalizeStyle)({color:t.color})},(0,I.toDisplayString)(t.title),7),t.subTitle?((0,I.openBlock)(),(0,I.createElementBlock)("u-text",{key:0,class:"uni-section__content-sub"},(0,I.toDisplayString)(t.subTitle),1)):(0,I.createCommentVNode)("",!0)]),(0,I.createElementVNode)("view",null,[(0,I.renderSlot)(s.$slots,"right")])]),(0,I.createElementVNode)("view",{class:(0,I.normalizeClass)({"is--hidden":t.overflow}),style:(0,I.normalizeStyle)({padding:t.padding?"10px":""})},[(0,I.renderSlot)(s.$slots,"default")],6)])}var Qt=q(Ei,[["render",xi],["styles",[Ai]]]);var Ci={header:{"":{display:"flex",flexDirection:"row",flexWrap:"wrap"}},margin:{"":{display:"flex",height:200,marginTop:10,marginRight:10,marginBottom:10,marginLeft:10,overflow:"hidden",borderRadius:5,borderWidth:1,borderStyle:"solid",borderColor:"#eeeeee"}},"margin-item":{"":{display:"flex",flex:1}},box:{"":{display:"flex",alignItems:"center",justifyContent:"center",flex:1}},actions:{"":{display:"flex",flexDirection:"row",alignItems:"center"}},"action-label":{"":{width:50,marginLeft:10,marginRight:10,fontSize:12}}},Fi={data(){return{radiusClass:"uni-radius-lg",formData:{direction:["t","b"],size:"lg"},directionData:[{value:"t",text:"\u5DE6\u4E0A+\u53F3\u4E0A"},{value:"r",text:"\u53F3\u4E0A+\u53F3\u4E0B"},{value:"b",text:"\u5DE6\u4E0B+\u53F3\u4E0B"},{value:"l",text:"\u53F3\u4E0A+\u5DE6\u4E0B"},{value:"tl",text:"\u5DE6\u4E0A"},{value:"tr",text:"\u53F3\u4E0A"},{value:"bl",text:"\u5DE6\u4E0B"},{value:"br",text:"\u53F3\u4E0B"}],sizeData:[{value:"0",text:"\u65E0"},{value:"sm",text:"\u5C0F"},{value:"lg",text:"\u5E38\u89C4"},{value:"xl",text:"\u5927"},{value:"circle",text:"\u5706"},{value:"pill",text:"\u6700\u5927\u5316"}]}},onLoad(){},methods:{change(s,e){let{direction:t,size:i}=this.formData;this.radiusClass="",t.forEach(n=>{this.radiusClass+=`uni-radius-${n}-${i} `})}}};function Si(s,e,t,i,n,r){let o=ee((0,S.resolveDynamicComponent)("uni-card"),nt),u=ee((0,S.resolveDynamicComponent)("uni-data-checkbox"),Zt),l=ee((0,S.resolveDynamicComponent)("uni-section"),Qt);return(0,S.openBlock)(),(0,S.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,S.createElementVNode)("view",{class:"container"},[(0,S.createVNode)(o,{"is-shadow":!1,"is-full":""},{default:(0,S.withCtx)(()=>[(0,S.createElementVNode)("view",{class:"header"},[(0,S.createElementVNode)("u-text",{class:"uni-h6"},"\u4F7F\u7528\u8FB9\u6846\u534A\u5F84\u8F85\u52A9\u6837\u5F0F\u5BF9\u5143\u7D20\u5FEB\u901F\u5E94\u7528"),(0,S.createElementVNode)("u-text",null," "),(0,S.createElementVNode)("u-text",{class:"uni-primary uni-px-3 uni-h6"},"border-radius"),(0,S.createElementVNode)("u-text",null," "),(0,S.createElementVNode)("u-text",{class:"uni-h6"},"\u6837\u5F0F\u3002")]),(0,S.createElementVNode)("view",{class:"uni-mt-5 header"},[(0,S.createElementVNode)("u-text",{class:"uni-h6"},"\u89C4\u5219\u4E3A"),(0,S.createElementVNode)("u-text",null," "),(0,S.createElementVNode)("u-text",{class:"uni-primary uni-pl-3 uni-h6"},"uni-radius-${direction}-${size}")]),(0,S.createElementVNode)("view",{class:"uni-mt-5 header"},[(0,S.createElementVNode)("u-text",{class:"uni-h6"},"\u5982\u679C\u9700\u8981\u56DB\u8FB9\uFF0C\u5219\u4E0D\u9700\u8981\u6307\u5B9A"),(0,S.createElementVNode)("u-text",null," "),(0,S.createElementVNode)("u-text",{class:"uni-primary uni-pl-3 uni-h6"},"direction")]),(0,S.createElementVNode)("view",{class:"uni-mt-5"},[(0,S.createElementVNode)("u-text",{class:"uni-h6"},"\u5404\u503C\u7684\u542B\u4E49\u8BF7\u53C2\u8003\u6587\u6863")])]),_:1}),(0,S.createVNode)(l,{title:"\u6548\u679C\u5C55\u793A",type:"line"},{default:(0,S.withCtx)(()=>[(0,S.createElementVNode)("view",{class:"margin"},[(0,S.createElementVNode)("view",{class:(0,S.normalizeClass)(["box uni-primary-bg uni-ma-5",[n.radiusClass]])},[(0,S.createElementVNode)("u-text",{class:"uni-white"},"\u901A\u8FC7\u4E0B\u9762\u7684\u9009\u9879\u63A7\u5236\u5706\u89D2")],2)]),(0,S.createElementVNode)("view",{class:"actions uni-mt-10"},[(0,S.createElementVNode)("u-text",{class:"action-label"},"\u4F4D\u7F6E"),(0,S.createVNode)(u,{modelValue:n.formData.direction,"onUpdate:modelValue":e[0]||(e[0]=a=>n.formData.direction=a),multiple:"",localdata:n.directionData,onChange:e[1]||(e[1]=a=>r.change(a,1))},null,8,["modelValue","localdata"])]),(0,S.createElementVNode)("view",{class:"actions uni-mt-3 uni-mb-10"},[(0,S.createElementVNode)("u-text",{class:"action-label"},"\u5927\u5C0F"),(0,S.createVNode)(u,{modelValue:n.formData.size,"onUpdate:modelValue":e[2]||(e[2]=a=>n.formData.size=a),localdata:n.sizeData,onChange:e[3]||(e[3]=a=>r.change(a,2))},null,8,["modelValue","localdata"])])]),_:1})])])}var Oe=q(Fi,[["render",Si],["styles",[Ci]]]);var tt=plus.webview.currentWebview();if(tt){let s=parseInt(tt.id),e="pages/extUI/radius/radius",t={};try{t=JSON.parse(tt.__query__)}catch(n){}Oe.mpType="page";let i=Vue.createPageApp(Oe,{$store:getApp({allowDefault:!0}).$store,__pageId:s,__pagePath:e,__pageQuery:t});i.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...Oe.styles||[]])),i.mount("#root")}})();
